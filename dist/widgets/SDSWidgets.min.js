/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/*
 AngularJS v1.3.16
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/

/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */

/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.12.0 - 2015-05-28T07:44:11.360Z
 * License: MIT
 */

/**
 * Angular Image Fallback
 * (c) 2014 Daniel Cohen. http://dcb.co.il
 * License: MIT
 * https://github.com/dcohenb/angular-img-fallback
 */

/*
 *  Angular RangeSlider Directive
 * 
 *  Version: 0.0.13
 *
 *  Author: Daniel Crisp, danielcrisp.com
 *
 *  The rangeSlider has been styled to match the default styling
 *  of form elements styled using Twitter's Bootstrap
 *
 *  Originally forked from https://github.com/leongersen/noUiSlider
 *

    This code is released under the MIT Licence - http://opensource.org/licenses/MIT

    Copyright (c) 2013 Daniel Crisp

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.

*/

/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */

/*! elementQuery | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */

/*! getEmPixels  | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT */

!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.SabreDevStudioWidgets=t()}(this,function(){var e,t,n;return function(r){function i(e,t){return b.call(e,t)}function a(e,t){var n,r,i,a,o,s,l,c,u,d,p,f=t&&t.split("/"),h=y.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),o=e.length-1,y.nodeIdCompat&&D.test(e[o])&&(e[o]=e[o].replace(D,"")),e=f.slice(0,f.length-1).concat(e),u=0;u<e.length;u+=1)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||g)&&h){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if(i=h[f.slice(0,d).join("/")],i&&(i=i[r])){a=i,s=u;break}if(a)break;!l&&g&&g[r]&&(l=g[r],c=u)}!a&&l&&(a=l,s=c),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(e,t){return function(){var n=S.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(r,n.concat([e,t]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){m[e]=t}}function c(e){if(i(v,e)){var t=v[e];delete v[e],A[e]=!0,p.apply(r,t)}if(!i(m,e)&&!i(A,e))throw new Error("No "+e);return m[e]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,g,m={},v={},y={},A={},b=Object.prototype.hasOwnProperty,S=[].slice,D=/\.js$/;h=function(e,t){var n,r=u(e),i=r[0];return e=r[1],i&&(i=a(i,t),n=c(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):a(e,t):(e=a(e,t),r=u(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},g={require:function(e){return o(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:d(e)}}},p=function(e,t,n,a){var s,u,d,p,f,y,b=[],S=typeof n;if(a=a||e,"undefined"===S||"function"===S){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(p=h(t[f],a),u=p.f,"require"===u)b[f]=g.require(e);else if("exports"===u)b[f]=g.exports(e),y=!0;else if("module"===u)s=b[f]=g.module(e);else if(i(m,u)||i(v,u)||i(A,u))b[f]=c(u);else{if(!p.p)throw new Error(e+" missing "+u);p.p.load(p.n,o(a,!0),l(u),{}),b[f]=m[u]}d=n?n.apply(m[e],b):void 0,e&&(s&&s.exports!==r&&s.exports!==m[e]?m[e]=s.exports:d===r&&y||(m[e]=d))}else e&&(m[e]=n)},e=t=f=function(e,t,n,i,a){if("string"==typeof e)return g[e]?g[e](t):c(h(e,t).f);if(!e.splice){if(y=e,y.deps&&f(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=a),i?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),f},f.config=function(e){return f(e)},e._defined=m,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(m,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../node_modules/almond/almond",function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof n&&n.amd?n("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Rr.apply(null,arguments)}function n(e){Rr=e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=c()),e._pf}function d(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function p(e){var t=l(0/0);return null!=e?s(u(t),e):u(t).userInvalidated=!0,t}function f(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=u(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ir.length>0)for(n in Ir)r=Ir[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function h(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),Ur===!1&&(Ur=!0,e.updateOffset(this),Ur=!1)}function g(e){return e instanceof h||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function y(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&o++;return o+a}function A(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function S(e){for(var t,n,r,i,a=0;a<e.length;){for(i=b(e[a]).split("-"),t=i.length,n=b(e[a+1]),n=n?n.split("-"):null;t>0;){if(r=D(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&y(i,n,!0)>=t-1)break;t--}a++}return null}function D(e){var n=null;if(!Br[e]&&"undefined"!=typeof module&&module&&module.exports)try{n=Nr._abbr,t("./locale/"+e),w(n)}catch(r){}return Br[e]}function w(e,t){var n;return e&&(n="undefined"==typeof t?x(e):$(e,t),n&&(Nr=n)),Nr._abbr}function $(e,t){return null!==t?(t.abbr=e,Br[e]=Br[e]||new A,Br[e].set(t),w(e),Br[e]):(delete Br[e],null)}function x(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Nr;if(!r(e)){if(t=D(e))return t;e=[e]}return S(e)}function C(e,t){var n=e.toLowerCase();_r[n]=_r[n+"s"]=_r[t]=e}function T(e){return"string"==typeof e?_r[e]||_r[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)o(e,n)&&(t=T(n),t&&(r[t]=e[n]));return r}function M(t,n){return function(r){return null!=r?(O(this,t,r),e.updateOffset(this,n),this):k(this,t)}}function k(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function O(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function E(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function L(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Yr[e]=i),t&&(Yr[t[0]]=function(){return E(i.apply(this,arguments),t[1],t[2])}),n&&(Yr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function R(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function N(e){var t,n,r=e.match(Wr);for(t=0,n=r.length;n>t;t++)r[t]=Yr[r[t]]?Yr[r[t]]:R(r[t]);return function(i){var a="";for(t=0;n>t;t++)a+=r[t]instanceof Function?r[t].call(i,e):r[t];return a}}function I(e,t){return e.isValid()?(t=U(t,e.localeData()),qr[t]=qr[t]||N(t),qr[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Kr.lastIndex=0;r>=0&&Kr.test(e);)e=e.replace(Kr,n),Kr.lastIndex=0,r-=1;return e}function B(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function _(e,t,n){ai[e]=B(t)?t:function(e){return e&&n?n:t}}function W(e,t){return o(ai,e)?ai[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)oi[e[n]]=r}function Y(e,t){q(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function H(e,t,n){null!=t&&o(oi,e)&&oi[e](t,n._a,n,e)}function G(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function V(e){return this._months[e.month()]}function Q(e){return this._monthsShort[e.month()]}function j(e,t,n){var r,i,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function z(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),G(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function J(t){return null!=t?(z(this,t),e.updateOffset(this,!0),this):k(this,"Month")}function Z(){return G(this.year(),this.month())}function X(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[li]<0||n[li]>11?li:n[ci]<1||n[ci]>G(n[si],n[li])?ci:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[di]||0!==n[pi]||0!==n[fi])?ui:n[di]<0||n[di]>59?di:n[pi]<0||n[pi]>59?pi:n[fi]<0||n[fi]>999?fi:-1,u(e)._overflowDayOfYear&&(si>t||t>ci)&&(t=ci),u(e).overflow=t),e}function et(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function tt(e,t){var n=!0;return s(function(){return n&&(et(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function nt(e,t){mi[e]||(et(t),mi[e]=!0)}function rt(e){var t,n,r=e._i,i=vi.exec(r);if(i){for(u(e).iso=!0,t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(r)){e._f=yi[t][0];break}for(t=0,n=Ai.length;n>t;t++)if(Ai[t][1].exec(r)){e._f+=(i[6]||" ")+Ai[t][0];break}r.match(ni)&&(e._f+="Z"),Dt(e)}else e._isValid=!1}function it(t){var n=bi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function at(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return 1970>e&&s.setFullYear(e),s}function ot(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function st(e){return lt(e)?366:365}function lt(e){return e%4===0&&e%100!==0||e%400===0}function ct(){return lt(this.year())}function ut(e,t,n){var r,i=n-t,a=n-e.day();return a>i&&(a-=7),i-7>a&&(a+=7),r=kt(e).add(a,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function dt(e){return ut(e,this._week.dow,this._week.doy).week}function pt(){return this._week.dow}function ft(){return this._week.doy}function ht(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function gt(e){var t=ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function mt(e,t,n,r,i){var a,o=6+i-r,s=ot(e,0,1+o),l=s.getUTCDay();return i>l&&(l+=7),n=null!=n?1*n:i,a=1+o+7*(t-1)-l+n,{year:a>0?e:e-1,dayOfYear:a>0?a:st(e-1)+a}}function vt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function yt(e,t,n){return null!=e?e:null!=t?t:n}function At(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bt(e){var t,n,r,i,a=[];if(!e._d){for(r=At(e),e._w&&null==e._a[ci]&&null==e._a[li]&&St(e),e._dayOfYear&&(i=yt(e._a[si],r[si]),e._dayOfYear>st(i)&&(u(e)._overflowDayOfYear=!0),n=ot(i,0,e._dayOfYear),e._a[li]=n.getUTCMonth(),e._a[ci]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ui]&&0===e._a[di]&&0===e._a[pi]&&0===e._a[fi]&&(e._nextDay=!0,e._a[ui]=0),e._d=(e._useUTC?ot:at).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ui]=24)}}function St(e){var t,n,r,i,a,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=yt(t.GG,e._a[si],ut(kt(),1,4).year),r=yt(t.W,1),i=yt(t.E,1)):(a=e._locale._week.dow,o=e._locale._week.doy,n=yt(t.gg,e._a[si],ut(kt(),a,o).year),r=yt(t.w,1),null!=t.d?(i=t.d,a>i&&++r):i=null!=t.e?t.e+a:a),s=mt(n,r,i,o,a),e._a[si]=s.year,e._dayOfYear=s.dayOfYear}function Dt(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],u(t).empty=!0;var n,r,i,a,o,s=""+t._i,l=s.length,c=0;for(i=U(t._f,t._locale).match(Wr)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(W(a,t))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&u(t).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Yr[a]?(r?u(t).empty=!1:u(t).unusedTokens.push(a),H(a,r,t)):t._strict&&!r&&u(t).unusedTokens.push(a);u(t).charsLeftOver=l-c,s.length>0&&u(t).unusedInput.push(s),u(t).bigHour===!0&&t._a[ui]<=12&&t._a[ui]>0&&(u(t).bigHour=void 0),t._a[ui]=wt(t._locale,t._a[ui],t._meridiem),bt(t),X(t)}function wt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function $t(e){var t,n,r,i,a;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)a=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Dt(t),d(t)&&(a+=u(t).charsLeftOver,a+=10*u(t).unusedTokens.length,u(t).score=a,(null==r||r>a)&&(r=a,n=t));s(e,n||t)}function xt(e){if(!e._d){var t=F(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],bt(e)}}function Ct(e){var t=new h(X(Tt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||x(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new h(X(t)):(r(n)?$t(e):n?Dt(e):i(t)?e._d=t:Ft(e),e))}function Ft(t){var n=t._i;void 0===n?t._d=new Date:i(n)?t._d=new Date(+n):"string"==typeof n?it(t):r(n)?(t._a=a(n.slice(0),function(e){return parseInt(e,10)}),bt(t)):"object"==typeof n?xt(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Mt(e,t,n,r,i){var a={};return"boolean"==typeof n&&(r=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Ct(a)}function kt(e,t,n,r){return Mt(e,t,n,r,!1)}function Ot(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return kt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Pt(){var e=[].slice.call(arguments,0);return Ot("isBefore",e)}function Et(){var e=[].slice.call(arguments,0);return Ot("isAfter",e)}function Lt(e){var t=F(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=x(),this._bubble()}function Rt(e){return e instanceof Lt}function Nt(e,t){L(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+E(~~(e/60),2)+t+E(~~e%60,2)})}function It(e){var t=(e||"").match(ni)||[],n=t[t.length-1]||[],r=(n+"").match(xi)||["-",0,0],i=+(60*r[1])+v(r[2]);return"+"===r[0]?i:-i}function Ut(t,n){var r,a;return n._isUTC?(r=n.clone(),a=(g(t)||i(t)?+t:+kt(t))-+r,r._d.setTime(+r._d+a),e.updateOffset(r,!1),r):kt(t).local()}function Bt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function _t(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=It(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Bt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?nn(this,Jt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Bt(this)}function Wt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Kt(e){return this.utcOffset(0,e)}function qt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this}function Yt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(It(this._i)),this}function Ht(e){return e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(f(e,this),e=Tt(e),e._a){var t=e._isUTC?l(e._a):kt(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Qt(){return!this._isUTC}function jt(){return this._isUTC}function zt(){return this._isUTC&&0===this._offset}function Jt(e,t){var n,r,i,a=e,s=null;return Rt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=Ci.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:v(s[ci])*n,h:v(s[ui])*n,m:v(s[di])*n,s:v(s[pi])*n,ms:v(s[fi])*n}):(s=Ti.exec(e))?(n="-"===s[1]?-1:1,a={y:Zt(s[2],n),M:Zt(s[3],n),d:Zt(s[4],n),h:Zt(s[5],n),m:Zt(s[6],n),s:Zt(s[7],n),w:Zt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=en(kt(a.from),kt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Lt(a),Rt(e)&&o(e,"_locale")&&(r._locale=e._locale),r}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){var n;return t=Ut(t,e),e.isBefore(t)?n=Xt(e,t):(n=Xt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function tn(e,t){return function(n,r){var i,a;return null===r||isNaN(+r)||(nt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=Jt(n,r),nn(this,i,e),this}}function nn(t,n,r,i){var a=n._milliseconds,o=n._days,s=n._months;i=null==i?!0:i,a&&t._d.setTime(+t._d+a*r),o&&O(t,"Date",k(t,"Date")+o*r),s&&z(t,k(t,"Month")+s*r),i&&e.updateOffset(t,o||s)}function rn(e,t){var n=e||kt(),r=Ut(n,this).startOf("day"),i=this.diff(r,"days",!0),a=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(t&&t[a]||this.localeData().calendar(a,this,kt(n)))}function an(){return new h(this)}function on(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:kt(e),+this>+e):(n=g(e)?+e:+kt(e),n<+this.clone().startOf(t))}function sn(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=g(e)?e:kt(e),+e>+this):(n=g(e)?+e:+kt(e),+this.clone().endOf(t)<n)}function ln(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function cn(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=g(e)?e:kt(e),+this===+e):(n=+kt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function un(e,t,n){var r,i,a=Ut(e,this),o=6e4*(a.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(i=dn(this,a),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-a,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:m(i)}function dn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return 0>t-a?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function hn(t){var n=I(this,t||e.defaultFormat);return this.localeData().postformat(n)}function gn(e,t){return this.isValid()?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.from(kt(),e)}function vn(e,t){return this.isValid()?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function yn(e){return this.to(kt(),e)}function An(e){var t;return void 0===e?this._locale._abbr:(t=x(e),null!=t&&(this._locale=t),this)}function bn(){return this._locale}function Sn(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Dn(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wn(){return+this._d-6e4*(this._offset||0)}function $n(){return Math.floor(+this/1e3)}function xn(){return this._offset?new Date(+this):this._d}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Fn(){return d(this)}function Mn(){return s({},u(this))}function kn(){return u(this).overflow}function On(e,t){L(0,[e,e.length],0,t)}function Pn(e,t,n){return ut(kt([e,11,31+t-n]),t,n).week}function En(e){var t=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Ln(e){var t=ut(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Rn(){return Pn(this.year(),1,4)}function Nn(){var e=this.localeData()._week;return Pn(this.year(),e.dow,e.doy)}function In(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Un(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Bn(e){return this._weekdays[e.day()]}function _n(e){return this._weekdaysShort[e.day()]}function Wn(e){return this._weekdaysMin[e.day()]}function Kn(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=kt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function qn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Un(e,this.localeData()),this.add(e-t,"d")):t}function Yn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Hn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Gn(e,t){L(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vn(e,t){return t._meridiemParse}function Qn(e){return"p"===(e+"").toLowerCase().charAt(0)}function jn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function zn(e,t){t[fi]=v(1e3*("0."+e))}function Jn(){return this._isUTC?"UTC":""}function Zn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return kt(1e3*e)}function er(){return kt.apply(null,arguments).parseZone()}function tr(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function nr(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rr(){return this._invalidDate}function ir(e){return this._ordinal.replace("%d",e)}function ar(e){return e}function or(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function sr(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function lr(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function cr(e,t,n,r){var i=x(),a=l().set(r,t);return i[n](a,e)}function ur(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return cr(e,t,n,i);var a,o=[];for(a=0;r>a;a++)o[a]=cr(e,a,n,i);return o}function dr(e,t){return ur(e,t,"months",12,"month")}function pr(e,t){return ur(e,t,"monthsShort",12,"month")}function fr(e,t){return ur(e,t,"weekdays",7,"day")}function hr(e,t){return ur(e,t,"weekdaysShort",7,"day")}function gr(e,t){return ur(e,t,"weekdaysMin",7,"day")}function mr(){var e=this._data;return this._milliseconds=zi(this._milliseconds),this._days=zi(this._days),this._months=zi(this._months),e.milliseconds=zi(e.milliseconds),e.seconds=zi(e.seconds),e.minutes=zi(e.minutes),e.hours=zi(e.hours),e.months=zi(e.months),e.years=zi(e.years),this}function vr(e,t,n,r){var i=Jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function yr(e,t){return vr(this,e,t,1)}function Ar(e,t){return vr(this,e,t,-1)}function br(e){return 0>e?Math.floor(e):Math.ceil(e)}function Sr(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||0>=a&&0>=o&&0>=s||(a+=864e5*br(wr(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=m(a/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,o+=m(n/24),i=m(Dr(o)),s+=i,o-=br(wr(i)),r=m(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function Dr(e){return 4800*e/146097}function wr(e){return 146097*e/4800}function $r(e){var t,n,r=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Dr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(wr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function xr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Cr(e){return function(){return this.as(e)}}function Tr(e){return e=T(e),this[e+"s"]()}function Fr(e){return function(){return this._data[e]}}function Mr(){return m(this.days()/7)}function kr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Or(e,t,n){var r=Jt(e).abs(),i=pa(r.as("s")),a=pa(r.as("m")),o=pa(r.as("h")),s=pa(r.as("d")),l=pa(r.as("M")),c=pa(r.as("y")),u=i<fa.s&&["s",i]||1===a&&["m"]||a<fa.m&&["mm",a]||1===o&&["h"]||o<fa.h&&["hh",o]||1===s&&["d"]||s<fa.d&&["dd",s]||1===l&&["M"]||l<fa.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,kr.apply(null,u)}function Pr(e,t){return void 0===fa[e]?!1:void 0===t?fa[e]:(fa[e]=t,!0)}function Er(e){var t=this.localeData(),n=Or(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Lr(){var e,t,n,r=ha(this._milliseconds)/1e3,i=ha(this._days),a=ha(this._months);e=m(r/60),t=m(e/60),r%=60,e%=60,n=m(a/12),a%=12;var o=n,s=a,l=i,c=t,u=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var Rr,Nr,Ir=e.momentProperties=[],Ur=!1,Br={},_r={},Wr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qr={},Yr={},Hr=/\d/,Gr=/\d\d/,Vr=/\d{3}/,Qr=/\d{4}/,jr=/[+-]?\d{6}/,zr=/\d\d?/,Jr=/\d{1,3}/,Zr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,ei=/\d+/,ti=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ri=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ai={},oi={},si=0,li=1,ci=2,ui=3,di=4,pi=5,fi=6;L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),L("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),_("M",zr),_("MM",zr,Gr),_("MMM",ii),_("MMMM",ii),q(["M","MM"],function(e,t){t[li]=v(e)-1}),q(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[li]=i:u(n).invalidMonth=e});var hi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};e.suppressDeprecationWarnings=!1;var vi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ai=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),C("year","y"),_("Y",ti),_("YY",zr,Gr),_("YYYY",Zr,Qr),_("YYYYY",Xr,jr),_("YYYYYY",Xr,jr),q(["YYYYY","YYYYYY"],si),q("YYYY",function(t,n){n[si]=2===t.length?e.parseTwoDigitYear(t):v(t)}),q("YY",function(t,n){n[si]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Si=M("FullYear",!1);L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),_("w",zr),_("ww",zr,Gr),_("W",zr),_("WW",zr,Gr),Y(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var Di={dow:0,doy:6};L("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),_("DDD",Jr),_("DDDD",Vr),q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),e.ISO_8601=function(){};var wi=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=kt.apply(null,arguments);return this>e?this:e}),$i=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=kt.apply(null,arguments);return e>this?this:e});Nt("Z",":"),Nt("ZZ",""),_("Z",ni),_("ZZ",ni),q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=It(e)});var xi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ci=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ti=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=Lt.prototype;var Fi=tn(1,"add"),Mi=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var ki=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),_("G",ti),_("g",ti),_("GG",zr,Gr),_("gg",zr,Gr),_("GGGG",Zr,Qr),_("gggg",Zr,Qr),_("GGGGG",Xr,jr),_("ggggg",Xr,jr),Y(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),Y(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),L("Q",0,0,"quarter"),C("quarter","Q"),_("Q",Hr),q("Q",function(e,t){t[li]=3*(v(e)-1)}),L("D",["DD",2],"Do","date"),C("date","D"),_("D",zr),_("DD",zr,Gr),_("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient
}),q(["D","DD"],ci),q("Do",function(e,t){t[ci]=v(e.match(zr)[0],10)});var Oi=M("Date",!0);L("d",0,"do","day"),L("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),L("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),L("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),_("d",zr),_("e",zr),_("E",zr),_("dd",ii),_("ddd",ii),_("dddd",ii),Y(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:u(n).invalidWeekday=e}),Y(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var Pi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ei="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Li="Su_Mo_Tu_We_Th_Fr_Sa".split("_");L("H",["HH",2],0,"hour"),L("h",["hh",2],0,function(){return this.hours()%12||12}),Gn("a",!0),Gn("A",!1),C("hour","h"),_("a",Vn),_("A",Vn),_("H",zr),_("h",zr),_("HH",zr,Gr),_("hh",zr,Gr),q(["H","HH"],ui),q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(["h","hh"],function(e,t,n){t[ui]=v(e),u(n).bigHour=!0});var Ri=/[ap]\.?m?\.?/i,Ni=M("Hours",!0);L("m",["mm",2],0,"minute"),C("minute","m"),_("m",zr),_("mm",zr,Gr),q(["m","mm"],di);var Ii=M("Minutes",!1);L("s",["ss",2],0,"second"),C("second","s"),_("s",zr),_("ss",zr,Gr),q(["s","ss"],pi);var Ui=M("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),_("S",Jr,Hr),_("SS",Jr,Gr),_("SSS",Jr,Vr);var Bi;for(Bi="SSSS";Bi.length<=9;Bi+="S")_(Bi,ei);for(Bi="S";Bi.length<=9;Bi+="S")q(Bi,zn);var _i=M("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var Wi=h.prototype;Wi.add=Fi,Wi.calendar=rn,Wi.clone=an,Wi.diff=un,Wi.endOf=Dn,Wi.format=hn,Wi.from=gn,Wi.fromNow=mn,Wi.to=vn,Wi.toNow=yn,Wi.get=P,Wi.invalidAt=kn,Wi.isAfter=on,Wi.isBefore=sn,Wi.isBetween=ln,Wi.isSame=cn,Wi.isValid=Fn,Wi.lang=ki,Wi.locale=An,Wi.localeData=bn,Wi.max=$i,Wi.min=wi,Wi.parsingFlags=Mn,Wi.set=P,Wi.startOf=Sn,Wi.subtract=Mi,Wi.toArray=Cn,Wi.toObject=Tn,Wi.toDate=xn,Wi.toISOString=fn,Wi.toJSON=fn,Wi.toString=pn,Wi.unix=$n,Wi.valueOf=wn,Wi.year=Si,Wi.isLeapYear=ct,Wi.weekYear=En,Wi.isoWeekYear=Ln,Wi.quarter=Wi.quarters=In,Wi.month=J,Wi.daysInMonth=Z,Wi.week=Wi.weeks=ht,Wi.isoWeek=Wi.isoWeeks=gt,Wi.weeksInYear=Nn,Wi.isoWeeksInYear=Rn,Wi.date=Oi,Wi.day=Wi.days=qn,Wi.weekday=Yn,Wi.isoWeekday=Hn,Wi.dayOfYear=vt,Wi.hour=Wi.hours=Ni,Wi.minute=Wi.minutes=Ii,Wi.second=Wi.seconds=Ui,Wi.millisecond=Wi.milliseconds=_i,Wi.utcOffset=_t,Wi.utc=Kt,Wi.local=qt,Wi.parseZone=Yt,Wi.hasAlignedHourOffset=Ht,Wi.isDST=Gt,Wi.isDSTShifted=Vt,Wi.isLocal=Qt,Wi.isUtcOffset=jt,Wi.isUtc=zt,Wi.isUTC=zt,Wi.zoneAbbr=Jn,Wi.zoneName=Zn,Wi.dates=tt("dates accessor is deprecated. Use date instead.",Oi),Wi.months=tt("months accessor is deprecated. Use month instead",J),Wi.years=tt("years accessor is deprecated. Use year instead",Si),Wi.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Wt);var Ki=Wi,qi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Yi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Hi="Invalid date",Gi="%d",Vi=/\d{1,2}/,Qi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ji=A.prototype;ji._calendar=qi,ji.calendar=tr,ji._longDateFormat=Yi,ji.longDateFormat=nr,ji._invalidDate=Hi,ji.invalidDate=rr,ji._ordinal=Gi,ji.ordinal=ir,ji._ordinalParse=Vi,ji.preparse=ar,ji.postformat=ar,ji._relativeTime=Qi,ji.relativeTime=or,ji.pastFuture=sr,ji.set=lr,ji.months=V,ji._months=hi,ji.monthsShort=Q,ji._monthsShort=gi,ji.monthsParse=j,ji.week=dt,ji._week=Di,ji.firstDayOfYear=ft,ji.firstDayOfWeek=pt,ji.weekdays=Bn,ji._weekdays=Pi,ji.weekdaysMin=Wn,ji._weekdaysMin=Li,ji.weekdaysShort=_n,ji._weekdaysShort=Ei,ji.weekdaysParse=Kn,ji.isPM=Qn,ji._meridiemParse=Ri,ji.meridiem=jn,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=tt("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",x);var zi=Math.abs,Ji=Cr("ms"),Zi=Cr("s"),Xi=Cr("m"),ea=Cr("h"),ta=Cr("d"),na=Cr("w"),ra=Cr("M"),ia=Cr("y"),aa=Fr("milliseconds"),oa=Fr("seconds"),sa=Fr("minutes"),la=Fr("hours"),ca=Fr("days"),ua=Fr("months"),da=Fr("years"),pa=Math.round,fa={s:45,m:45,h:22,d:26,M:11},ha=Math.abs,ga=Lt.prototype;ga.abs=mr,ga.add=yr,ga.subtract=Ar,ga.as=$r,ga.asMilliseconds=Ji,ga.asSeconds=Zi,ga.asMinutes=Xi,ga.asHours=ea,ga.asDays=ta,ga.asWeeks=na,ga.asMonths=ra,ga.asYears=ia,ga.valueOf=xr,ga._bubble=Sr,ga.get=Tr,ga.milliseconds=aa,ga.seconds=oa,ga.minutes=sa,ga.hours=la,ga.days=ca,ga.weeks=Mr,ga.months=ua,ga.years=da,ga.humanize=Er,ga.toISOString=Lr,ga.toString=Lr,ga.toJSON=Lr,ga.locale=An,ga.localeData=bn,ga.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Lr),ga.lang=ki,L("X",0,0,"unix"),L("x",0,0,"valueOf"),_("x",ti),_("X",ri),q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.10.6",n(kt),e.fn=Ki,e.min=Pt,e.max=Et,e.utc=l,e.unix=Xn,e.months=dr,e.isDate=i,e.locale=w,e.invalid=p,e.duration=Jt,e.isMoment=g,e.weekdays=fr,e.parseZone=er,e.localeData=x,e.isDuration=Rt,e.monthsShort=pr,e.weekdaysMin=gr,e.defineLocale=$,e.weekdaysShort=hr,e.normalizeUnits=T,e.relativeTimeThreshold=Pr;var ma=e;return ma}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===w,i=e===e,a=null===t,o=t===w,s=t===t;if(e>t&&!a||!i||n&&!o&&s||r&&s)return 1;if(t>e&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function r(e,t,n){if(t!==t)return h(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function i(e){return"function"==typeof e||!1}function a(e){return null==e?"":e+""}function o(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function s(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function c(t,n,r){for(var i=-1,a=t.criteria,o=n.criteria,s=a.length,l=r.length;++i<s;){var c=e(a[i],o[i]);if(c){if(i>=l)return c;var u=r[i];return c*("asc"===u||u===!0?1:-1)}}return t.index-n.index}function u(e){return Kt[e]}function d(e){return qt[e]}function p(e,t,n){return t?e=Gt[e]:n&&(e=Vt[e]),"\\"+e}function f(e){return"\\"+Vt[e]}function h(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!==a)return i}return-1}function g(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function v(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=K,a[++i]=n);return a}function y(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,o[++a]=s)}return o}function A(e){for(var t=-1,n=e.length;++t<n&&m(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function S(e){return Yt[e]}function D(n){function m(e){if(g(e)&&!Ml(e)&&!(e instanceof tt)){if(e instanceof X)return e;if(ts.call(e,"__chain__")&&ts.call(e,"__wrapped__"))return fi(e)}return new X(e)}function j(){}function X(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function tt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Fs,this.__views__=[]}function Kt(){var e=new tt(this.__wrapped__);return e.__actions__=nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nn(this.__views__),e}function qt(){if(this.__filtered__){var e=new tt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Yt(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ml(e),r=0>t,i=n?e.length:0,a=Gr(0,i,this.__views__),o=a.start,s=a.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,d=u.length,p=0,f=ws(l,this.__takeCount__);if(!n||U>i||i==l&&f==l)return rr(e,this.__actions__);var h=[];e:for(;l--&&f>p;){c+=t;for(var g=-1,m=e[c];++g<d;){var v=u[g],y=v.iteratee,A=v.type,b=y(m);if(A==_)m=b;else if(!b){if(A==B)continue e;break e}}h[p++]=m}return h}function Ht(){this.__data__={}}function Gt(e){return this.has(e)&&delete this.__data__[e]}function Vt(e){return"__proto__"==e?w:this.__data__[e]}function Qt(e){return"__proto__"!=e&&ts.call(this.__data__,e)}function jt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function zt(e){var t=e?e.length:0;for(this.data={hash:vs(null),set:new ds};t--;)this.push(e[t])}function Jt(e,t){var n=e.data,r="string"==typeof t||La(t)?n.set.has(t):n.hash[t];return r?0:-1}function Zt(e){var t=this.data;"string"==typeof e||La(e)?t.set.add(e):t.hash[e]=!0}function Xt(e,t){for(var n=-1,r=e.length,i=-1,a=t.length,o=Wo(r+a);++n<r;)o[n]=e[n];for(;++i<a;)o[n++]=t[i];return o}function nn(e,t){var n=-1,r=e.length;for(t||(t=Wo(r));++n<r;)t[n]=e[n];return t}function rn(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function an(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function on(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function sn(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var l=e[i],c=+t(l);n(c,o)&&(o=c,s=l)}return s}function ln(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function cn(e,t){for(var n=-1,r=e.length,i=Wo(r);++n<r;)i[n]=t(e[n],n,e);return i}function un(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dn(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function pn(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function fn(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function hn(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function gn(e,t){return e===w?t:e}function mn(e,t,n,r){return e!==w&&ts.call(r,n)?e:t}function vn(e,t,n){for(var r=-1,i=_l(t),a=i.length;++r<a;){var o=i[r],s=e[o],l=n(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==w||o in e)||(e[o]=l)}return e}function yn(e,t){return null==t?e:bn(t,_l(t),e)}function An(e,t){for(var n=-1,r=null==e,i=!r&&Jr(e),a=i?e.length:0,o=t.length,s=Wo(o);++n<o;){var l=t[n];s[n]=i?Zr(l,a)?e[l]:w:r?w:e[l]}return s}function bn(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function Sn(e,t,n){var r=typeof e;return"function"==r?t===w?e:or(e,t,n):null==e?Fo:"object"==r?_n(e):t===w?Lo(e):Wn(e,t)}function Dn(e,t,n,r,i,a,o){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==w)return s;if(!La(e))return e;var l=Ml(e);if(l){if(s=Vr(e),!t)return nn(e,s)}else{var c=rs.call(e),u=c==Q;if(c!=J&&c!=q&&(!u||i))return Wt[c]?jr(e,c,t):i?e:{};if(s=Qr(u?{}:e),!t)return yn(s,e)}a||(a=[]),o||(o=[]);for(var d=a.length;d--;)if(a[d]==e)return o[d];return a.push(e),o.push(s),(l?rn:Pn)(e,function(r,i){s[i]=Dn(r,t,n,i,e,a,o)}),s}function wn(e,t,n){if("function"!=typeof e)throw new zo(W);return ps(function(){e.apply(w,n)},t)}function $n(e,t){var n=e?e.length:0,i=[];if(!n)return i;var a=-1,o=qr(),s=o===r,l=s&&t.length>=U?gr(t):null,c=t.length;l&&(o=Jt,s=!1,t=l);e:for(;++a<n;){var u=e[a];if(s&&u===u){for(var d=c;d--;)if(t[d]===u)continue e;i.push(u)}else o(t,u,0)<0&&i.push(u)}return i}function xn(e,t){var n=!0;return Ns(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Cn(e,t,n,r){var i=r,a=i;return Ns(e,function(e,o,s){var l=+t(e,o,s);(n(l,i)||l===r&&l===a)&&(i=l,a=e)}),a}function Tn(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===w||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Fn(e,t){var n=[];return Ns(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Mn(e,t,n,r){var i;return n(e,function(e,n,a){return t(e,n,a)?(i=r?n:e,!1):void 0}),i}function kn(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];g(o)&&Jr(o)&&(n||Ml(o)||xa(o))?t?kn(o,t,n,r):un(r,o):n||(r[r.length]=o)}return r}function On(e,t){return Us(e,t,eo)}function Pn(e,t){return Us(e,t,_l)}function En(e,t){return Bs(e,t,_l)}function Ln(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];Ea(e[o])&&(a[++i]=o)}return a}function Rn(e,t,n){if(null!=e){n!==w&&n in di(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:w}}function Nn(e,t,n,r,i,a){return e===t?!0:null==e||null==t||!La(e)&&!g(t)?e!==e&&t!==t:In(e,t,Nn,n,r,i,a)}function In(e,t,n,r,i,a,o){var s=Ml(e),l=Ml(t),c=Y,u=Y;s||(c=rs.call(e),c==q?c=J:c!=J&&(s=qa(e))),l||(u=rs.call(t),u==q?u=J:u!=J&&(l=qa(t)));var d=c==J,p=u==J,f=c==u;if(f&&!s&&!d)return Br(e,t,c);if(!i){var h=d&&ts.call(e,"__wrapped__"),g=p&&ts.call(t,"__wrapped__");if(h||g)return n(h?e.value():e,g?t.value():t,r,i,a,o)}if(!f)return!1;a||(a=[]),o||(o=[]);for(var m=a.length;m--;)if(a[m]==e)return o[m]==t;a.push(e),o.push(t);var v=(s?Ur:_r)(e,t,n,r,i,a,o);return a.pop(),o.pop(),v}function Un(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=di(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){o=t[r];var s=o[0],l=e[s],c=o[1];if(a&&o[2]){if(l===w&&!(s in e))return!1}else{var u=n?n(l,c,s):w;if(!(u===w?Nn(c,l,n,!0):u))return!1}}return!0}function Bn(e,t){var n=-1,r=Jr(e)?Wo(e.length):[];return Ns(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function _n(e){var t=Yr(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==w||n in di(e))}}return function(e){return Un(e,t)}}function Wn(e,t){var n=Ml(e),r=ei(e)&&ri(t),i=e+"";return e=pi(e),function(a){if(null==a)return!1;var o=i;if(a=di(a),!(!n&&r||o in a)){if(a=1==e.length?a:Rn(a,jn(e,0,-1)),null==a)return!1;o=Ci(e),a=di(a)}return a[o]===t?t!==w||o in a:Nn(t,a[o],w,!0)}}function Kn(e,t,n,r,i){if(!La(e))return e;var a=Jr(t)&&(Ml(t)||qa(t)),o=a?w:_l(t);return rn(o||t,function(s,l){if(o&&(l=s,s=t[l]),g(s))r||(r=[]),i||(i=[]),qn(e,t,l,Kn,n,r,i);else{var c=e[l],u=n?n(c,s,l,e,t):w,d=u===w;d&&(u=s),u===w&&(!a||l in e)||!d&&(u===u?u===c:c!==c)||(e[l]=u)}}),e}function qn(e,t,n,r,i,a,o){for(var s=a.length,l=t[n];s--;)if(a[s]==l)return void(e[n]=o[s]);var c=e[n],u=i?i(c,l,n,e,t):w,d=u===w;d&&(u=l,Jr(l)&&(Ml(l)||qa(l))?u=Ml(c)?c:Jr(c)?nn(c):[]:_a(l)||xa(l)?u=xa(c)?Qa(c):_a(c)?c:{}:d=!1),a.push(l),o.push(u),d?e[n]=r(u,l,i,a,o):(u===u?u!==c:c===c)&&(e[n]=u)}function Yn(e){return function(t){return null==t?w:t[e]}}function Hn(e){var t=e+"";return e=pi(e),function(n){return Rn(n,e,t)}}function Gn(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Zr(r)){var i=r;fs.call(e,r,1)}}return e}function Vn(e,t){return e+ys(Cs()*(t-e+1))}function Qn(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function jn(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===w||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Wo(i);++r<i;)a[r]=e[r+t];return a}function zn(e,t){var n;return Ns(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Jn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Zn(e,t,n){var r=Wr(),i=-1;t=cn(t,function(e){return r(e)});var a=Bn(e,function(e){var n=cn(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Jn(a,function(e,t){return c(e,t,n)})}function Xn(e,t){var n=0;return Ns(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function er(e,t){var n=-1,i=qr(),a=e.length,o=i===r,s=o&&a>=U,l=s?gr():null,c=[];l?(i=Jt,o=!1):(s=!1,l=t?[]:c);e:for(;++n<a;){var u=e[n],d=t?t(u,n,e):u;if(o&&u===u){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),c.push(u)}else i(l,d,0)<0&&((t||s)&&l.push(d),c.push(u))}return c}function tr(e,t){for(var n=-1,r=t.length,i=Wo(r);++n<r;)i[n]=e[t[n]];return i}function nr(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?jn(e,r?0:a,r?a+1:i):jn(e,r?a+1:0,r?i:a)}function rr(e,t){var n=e;n instanceof tt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,un([n],a.args))}return n}function ir(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Os>=i){for(;i>r;){var a=r+i>>>1,o=e[a];(n?t>=o:t>o)&&null!==o?r=a+1:i=a}return i}return ar(e,t,Fo,n)}function ar(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===w;a>i;){var c=ys((i+a)/2),u=n(e[c]),d=u!==w,p=u===u;if(o)var f=p||r;else f=s?p&&d&&(r||null!=u):l?p&&(r||d):null==u?!1:r?t>=u:t>u;f?i=c+1:a=c}return ws(a,ks)}function or(e,t,n){if("function"!=typeof e)return Fo;if(t===w)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function sr(e){var t=new os(e.byteLength),n=new hs(t);return n.set(new hs(e)),t}function lr(e,t,n){for(var r=n.length,i=-1,a=Ds(e.length-r,0),o=-1,s=t.length,l=Wo(s+a);++o<s;)l[o]=t[o];for(;++i<r;)l[n[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function cr(e,t,n){for(var r=-1,i=n.length,a=-1,o=Ds(e.length-i,0),s=-1,l=t.length,c=Wo(o+l);++a<o;)c[a]=e[a];for(var u=a;++s<l;)c[u+s]=t[s];for(;++r<i;)c[u+n[r]]=e[a++];return c}function ur(e,t){return function(n,r,i){var a=t?t():{};if(r=Wr(r,i,3),Ml(n))for(var o=-1,s=n.length;++o<s;){var l=n[o];e(a,l,r(l,o,n),n)}else Ns(n,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function dr(e){return va(function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:w,o=i>2?n[2]:w,s=i>1?n[i-1]:w;for("function"==typeof a?(a=or(a,s,5),i-=2):(a="function"==typeof s?s:w,i-=a?1:0),o&&Xr(n[0],n[1],o)&&(a=3>i?w:a,i=1);++r<i;){var l=n[r];l&&e(t,l,a)}return t})}function pr(e,t){return function(n,r){var i=n?Ks(n):0;if(!ni(i))return e(n,r);for(var a=t?i:-1,o=di(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function fr(e){return function(t,n,r){for(var i=di(t),a=r(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(n(i[l],l,i)===!1)break}return t}}function hr(e,t){function n(){var i=this&&this!==en&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vr(e);return n}function gr(e){return vs&&ds?new zt(e):null}function mr(e){return function(t){for(var n=-1,r=xo(uo(t)),i=r.length,a="";++n<i;)a=e(a,r[n],n);return a}}function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Rs(e.prototype),r=e.apply(n,t);return La(r)?r:n}}function yr(e){function t(n,r,i){i&&Xr(n,r,i)&&(r=w);var a=Ir(n,e,w,w,w,w,w,r);return a.placeholder=t.placeholder,a}return t}function Ar(e,t){return va(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(w,n))})}function br(e,t){return function(n,r,i){if(i&&Xr(n,r,i)&&(r=w),r=Wr(r,i,3),1==r.length){n=Ml(n)?n:ui(n);var a=sn(n,r,e,t);if(!n.length||a!==t)return a}return Cn(n,r,e,t)}}function Sr(e,n){return function(r,i,a){if(i=Wr(i,a,3),Ml(r)){var o=t(r,i,n);return o>-1?r[o]:w}return Mn(r,i,e)}}function Dr(e){return function(n,r,i){return n&&n.length?(r=Wr(r,i,3),t(n,r,e)):-1}}function wr(e){return function(t,n,r){return n=Wr(n,r,3),Mn(t,n,e,!0)}}function $r(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,a=Wo(n);e?r--:++r<n;){var o=a[i++]=arguments[r];if("function"!=typeof o)throw new zo(W);!t&&X.prototype.thru&&"wrapper"==Kr(o)&&(t=new X([],!0))}for(r=t?-1:n;++r<n;){o=a[r];var s=Kr(o),l="wrapper"==s?Ws(o):w;t=l&&ti(l[0])&&l[1]==(P|F|k|E)&&!l[4].length&&1==l[9]?t[Kr(l[0])].apply(t,l[3]):1==o.length&&ti(o)?t[s]():t.thru(o)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ml(r)&&r.length>=U)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function xr(e,t){return function(n,r,i){return"function"==typeof r&&i===w&&Ml(n)?e(n,r):t(n,or(r,i,3))}}function Cr(e){return function(t,n,r){return("function"!=typeof n||r!==w)&&(n=or(n,r,3)),e(t,n,eo)}}function Tr(e){return function(t,n,r){return("function"!=typeof n||r!==w)&&(n=or(n,r,3)),e(t,n)}}function Fr(e){return function(t,n,r){var i={};return n=Wr(n,r,3),Pn(t,function(t,r,a){var o=n(t,r,a);r=e?o:r,t=e?t:o,i[r]=t}),i}}function Mr(e){return function(t,n,r){return t=a(t),(e?t:"")+Er(t,n,r)+(e?"":t)}}function kr(e){var t=va(function(n,r){var i=v(r,t.placeholder);return Ir(n,e,w,r,i)});return t}function Or(e,t){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&a===w&&Ml(n)?e(n,r,i,o):Qn(n,Wr(r,a,4),i,o,t)}}function Pr(e,t,n,r,i,a,o,s,l,c){function u(){for(var A=arguments.length,b=A,S=Wo(A);b--;)S[b]=arguments[b];if(r&&(S=lr(S,r,i)),a&&(S=cr(S,a,o)),h||m){var D=u.placeholder,$=v(S,D);if(A-=$.length,c>A){var T=s?nn(s):w,F=Ds(c-A,0),M=h?$:w,P=h?w:$,E=h?S:w,L=h?w:S;t|=h?k:O,t&=~(h?O:k),g||(t&=~(x|C));var R=[e,t,n,E,M,L,P,T,l,F],N=Pr.apply(w,R);return ti(e)&&qs(N,R),N.placeholder=D,N}}var I=p?n:this,U=f?I[e]:e;return s&&(S=li(S,s)),d&&l<S.length&&(S.length=l),this&&this!==en&&this instanceof u&&(U=y||vr(e)),U.apply(I,S)}var d=t&P,p=t&x,f=t&C,h=t&F,g=t&T,m=t&M,y=f?w:vr(e);return u}function Er(e,t,n){var r=e.length;if(t=+t,r>=t||!bs(t))return"";var i=t-r;return n=null==n?" ":n+"",vo(n,ms(i/n.length)).slice(0,i)}function Lr(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,c=r.length,u=Wo(c+s);++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++t];var d=this&&this!==en&&this instanceof i?o:e;return d.apply(a?n:this,u)}var a=t&x,o=vr(e);return i}function Rr(e){var t=Ho[e];return function(e,n){return n=n===w?0:+n||0,n?(n=cs(10,n),t(e*n)/n):t(e)}}function Nr(e){return function(t,n,r,i){var a=Wr(r);return null==r&&a===Sn?ir(t,n,e):ar(t,n,a(r,i,1),e)}}function Ir(e,t,n,r,i,a,o,s){var l=t&C;if(!l&&"function"!=typeof e)throw new zo(W);var c=r?r.length:0;if(c||(t&=~(k|O),r=i=w),c-=i?i.length:0,t&O){var u=r,d=i;r=i=w}var p=l?w:Ws(e),f=[e,t,n,r,i,u,d,a,o,s];if(p&&(ii(f,p),t=f[1],s=f[9]),f[9]=null==s?l?0:e.length:Ds(s-c,0)||0,t==x)var h=hr(f[0],f[2]);else h=t!=k&&t!=(x|k)||f[4].length?Pr.apply(w,f):Lr.apply(w,f);var g=p?_s:qs;return g(h,f)}function Ur(e,t,n,r,i,a,o){var s=-1,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;for(;++s<l;){var u=e[s],d=t[s],p=r?r(i?d:u,i?u:d,s):w;if(p!==w){if(p)continue;return!1}if(i){if(!fn(t,function(e){return u===e||n(u,e,r,i,a,o)}))return!1}else if(u!==d&&!n(u,d,r,i,a,o))return!1}return!0}function Br(e,t,n){switch(n){case H:case G:return+e==+t;case V:return e.name==t.name&&e.message==t.message;case z:return e!=+e?t!=+t:e==+t;case Z:case et:return e==t+""}return!1}function _r(e,t,n,r,i,a,o){var s=_l(e),l=s.length,c=_l(t),u=c.length;if(l!=u&&!i)return!1;for(var d=l;d--;){var p=s[d];if(!(i?p in t:ts.call(t,p)))return!1}for(var f=i;++d<l;){p=s[d];var h=e[p],g=t[p],m=r?r(i?g:h,i?h:g,p):w;if(!(m===w?n(h,g,r,i,a,o):m))return!1;f||(f="constructor"==p)}if(!f){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Wr(e,t,n){var r=m.callback||Co;return r=r===Co?Sn:r,n?r(e,t,n):r}function Kr(e){for(var t=e.name+"",n=Ls[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function qr(e,t,n){var i=m.indexOf||$i;return i=i===$i?r:i,e?i(e,t,n):i}function Yr(e){for(var t=to(e),n=t.length;n--;)t[n][2]=ri(t[n][1]);return t}function Hr(e,t){var n=null==e?w:e[t];return Ia(n)?n:w}function Gr(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ws(t,e+o);break;case"takeRight":e=Ds(e,t-o)}}return{start:e,end:t}}function Vr(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Qr(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Vo),new t}function jr(e,t,n){var r=e.constructor;switch(t){case nt:return sr(e);case H:case G:return new r(+e);case rt:case it:case at:case ot:case st:case lt:case ct:case ut:case dt:var i=e.buffer;return new r(n?sr(i):i,e.byteOffset,e.length);case z:case et:return new r(e);case Z:var a=new r(e.source,kt.exec(e));a.lastIndex=e.lastIndex}return a}function zr(e,t,n){null==e||ei(t,e)||(t=pi(t),e=1==t.length?e:Rn(e,jn(t,0,-1)),t=Ci(t));var r=null==e?e:e[t];return null==r?w:r.apply(e,n)}function Jr(e){return null!=e&&ni(Ks(e))}function Zr(e,t){return e="number"==typeof e||Et.test(e)?+e:-1,t=null==t?Ps:t,e>-1&&e%1==0&&t>e}function Xr(e,t,n){if(!La(n))return!1;var r=typeof t;if("number"==r?Jr(n)&&Zr(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function ei(e,t){var n=typeof e;if("string"==n&&wt.test(e)||"number"==n)return!0;if(Ml(e))return!1;var r=!Dt.test(e);return r||null!=t&&e in di(t)}function ti(e){var t=Kr(e),n=m[t];if("function"!=typeof n||!(t in tt.prototype))return!1;if(e===n)return!0;var r=Ws(n);return!!r&&e===r[0]}function ni(e){return"number"==typeof e&&e>-1&&e%1==0&&Ps>=e}function ri(e){return e===e&&!La(e)}function ii(e,t){var n=e[1],r=t[1],i=n|r,a=P>i,o=r==P&&n==F||r==P&&n==E&&e[7].length<=t[8]||r==(P|E)&&n==F;if(!a&&!o)return e;r&x&&(e[2]=t[2],i|=n&x?0:T);var s=t[3];if(s){var l=e[3];e[3]=l?lr(l,s,t[4]):nn(s),e[4]=l?v(e[3],K):nn(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?cr(l,s,t[6]):nn(s),e[6]=l?v(e[5],K):nn(t[6])),s=t[7],s&&(e[7]=nn(s)),r&P&&(e[8]=null==e[8]?t[8]:ws(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ai(e,t){return e===w?t:kl(e,t,ai)}function oi(e,t){e=di(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function si(e,t){var n={};return On(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function li(e,t){for(var n=e.length,r=ws(t.length,n),i=nn(e);r--;){var a=t[r];e[r]=Zr(a,n)?i[a]:w}return e}function ci(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&ni(r)&&(Ml(e)||xa(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&Zr(s,r)||ts.call(e,s))&&o.push(s)}return o}function ui(e){return null==e?[]:Jr(e)?La(e)?e:Vo(e):ao(e)}function di(e){return La(e)?e:Vo(e)}function pi(e){if(Ml(e))return e;var t=[];return a(e).replace($t,function(e,n,r,i){t.push(r?i.replace(Ft,"$1"):n||e)}),t}function fi(e){return e instanceof tt?e.clone():new X(e.__wrapped__,e.__chain__,nn(e.__actions__))}function hi(e,t,n){t=(n?Xr(e,t,n):null==t)?1:Ds(ys(t)||1,1);for(var r=0,i=e?e.length:0,a=-1,o=Wo(ms(i/t));i>r;)o[++a]=jn(e,r,r+=t);return o}function gi(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i}function mi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),jn(e,0>t?0:t)):[]}function vi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),t=r-(+t||0),jn(e,0,0>t?0:t)):[]}function yi(e,t,n){return e&&e.length?nr(e,Wr(t,n,3),!0,!0):[]}function Ai(e,t,n){return e&&e.length?nr(e,Wr(t,n,3),!0):[]}function bi(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Xr(e,t,n)&&(n=0,r=i),Tn(e,t,n,r)):[]}function Si(e){return e?e[0]:w}function Di(e,t,n){var r=e?e.length:0;return n&&Xr(e,t,n)&&(t=!1),r?kn(e,t):[]}function wi(e){var t=e?e.length:0;return t?kn(e,!0):[]}function $i(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=0>n?Ds(i+n,0):n;else if(n){var a=ir(e,t);return i>a&&(t===t?t===e[a]:e[a]!==e[a])?a:-1}return r(e,t,n||0)}function xi(e){return vi(e,1)}function Ci(e){var t=e?e.length:0;return t?e[t-1]:w}function Ti(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?Ds(r+n,0):ws(n||0,r-1))+1;else if(n){i=ir(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return h(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Fi(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=qr(),i=e.length;++n<i;)for(var a=0,o=e[n];(a=r(t,o,a))>-1;)fs.call(t,a,1);return t}function Mi(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=Wr(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return Gn(e,a),r}function ki(e){return mi(e,1)}function Oi(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Xr(e,t,n)&&(t=0,n=r),jn(e,t,n)):[]}function Pi(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),jn(e,0,0>t?0:t)):[]}function Ei(e,t,n){var r=e?e.length:0;return r?((n?Xr(e,t,n):null==t)&&(t=1),t=r-(+t||0),jn(e,0>t?0:t)):[]}function Li(e,t,n){return e&&e.length?nr(e,Wr(t,n,3),!1,!0):[]}function Ri(e,t,n){return e&&e.length?nr(e,Wr(t,n,3)):[]}function Ni(e,t,n,i){var a=e?e.length:0;if(!a)return[];null!=t&&"boolean"!=typeof t&&(i=n,n=Xr(e,t,i)?w:t,t=!1);var o=Wr();return(null!=n||o!==Sn)&&(n=o(n,i,3)),t&&qr()===r?y(e,n):er(e,n)}function Ii(e){if(!e||!e.length)return[];var t=-1,n=0;e=ln(e,function(e){return Jr(e)?(n=Ds(e.length,n),!0):void 0});for(var r=Wo(n);++t<n;)r[t]=cn(e,Yn(t));return r}function Ui(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Ii(e);return null==t?i:(t=or(t,n,4),cn(i,function(e){return dn(e,t,w,!0)}))}function Bi(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jr(n))var r=r?un($n(r,n),$n(n,r)):n}return r?er(r):[]}function _i(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ml(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Wi(e){var t=m(e);return t.__chain__=!0,t}function Ki(e,t,n){return t.call(n,e),e}function qi(e,t,n){return t.call(n,e)}function Yi(){return Wi(this)}function Hi(){return new X(this.value(),this.__chain__)}function Gi(e){for(var t,n=this;n instanceof j;){var r=fi(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Vi(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof tt){var n=e;return this.__actions__.length&&(n=new tt(this)),n=n.reverse(),n.__actions__.push({func:qi,args:[t],thisArg:w}),new X(n,this.__chain__)}return this.thru(t)}function Qi(){return this.value()+""}function ji(){return rr(this.__wrapped__,this.__actions__)}function zi(e,t,n){var r=Ml(e)?on:xn;return n&&Xr(e,t,n)&&(t=w),("function"!=typeof t||n!==w)&&(t=Wr(t,n,3)),r(e,t)}function Ji(e,t,n){var r=Ml(e)?ln:Fn;return t=Wr(t,n,3),r(e,t)}function Zi(e,t){return il(e,_n(t))}function Xi(e,t,n,r){var i=e?Ks(e):0;return ni(i)||(e=ao(e),i=e.length),n="number"!=typeof n||r&&Xr(t,n,r)?0:0>n?Ds(i+n,0):n||0,"string"==typeof e||!Ml(e)&&Ka(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&qr(e,t,n)>-1}function ea(e,t,n){var r=Ml(e)?cn:Bn;return t=Wr(t,n,3),r(e,t)}function ta(e,t){return ea(e,Lo(t))}function na(e,t,n){var r=Ml(e)?ln:Fn;return t=Wr(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ra(e,t,n){if(n?Xr(e,t,n):null==t){e=ui(e);var r=e.length;return r>0?e[Vn(0,r-1)]:w}var i=-1,a=Va(e),r=a.length,o=r-1;for(t=ws(0>t?0:+t||0,r);++i<t;){var s=Vn(i,o),l=a[s];a[s]=a[i],a[i]=l}return a.length=t,a}function ia(e){return ra(e,Fs)}function aa(e){var t=e?Ks(e):0;return ni(t)?t:_l(e).length}function oa(e,t,n){var r=Ml(e)?fn:zn;return n&&Xr(e,t,n)&&(t=w),("function"!=typeof t||n!==w)&&(t=Wr(t,n,3)),r(e,t)}function sa(e,t,n){if(null==e)return[];n&&Xr(e,t,n)&&(t=w);var r=-1;t=Wr(t,n,3);var i=Bn(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Jn(i,l)}function la(e,t,n,r){return null==e?[]:(r&&Xr(t,n,r)&&(n=w),Ml(t)||(t=null==t?[]:[t]),Ml(n)||(n=null==n?[]:[n]),Zn(e,t,n))
}function ca(e,t){return Ji(e,_n(t))}function ua(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new zo(W);var n=e;e=t,t=n}return e=bs(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function da(e,t,n){return n&&Xr(e,t,n)&&(t=w),t=e&&null==t?e.length:Ds(+t||0,0),Ir(e,P,w,w,w,w,t)}function pa(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new zo(W);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=w),n}}function fa(e,t,n){function r(){f&&ss(f),c&&ss(c),g=0,c=f=h=w}function i(t,n){n&&ss(n),c=f=h=w,t&&(g=gl(),u=e.apply(p,l),f||c||(l=p=w))}function a(){var e=t-(gl()-d);0>=e||e>t?i(h,c):f=ps(a,e)}function o(){i(v,f)}function s(){if(l=arguments,d=gl(),p=this,h=v&&(f||!y),m===!1)var n=y&&!f;else{c||y||(g=d);var r=m-(d-g),i=0>=r||r>m;i?(c&&(c=ss(c)),g=d,u=e.apply(p,l)):c||(c=ps(o,r))}return i&&f?f=ss(f):f||t===m||(f=ps(a,t)),n&&(i=!0,u=e.apply(p,l)),!i||f||c||(l=p=w),u}var l,c,u,d,p,f,h,g=0,m=!1,v=!0;if("function"!=typeof e)throw new zo(W);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else La(n)&&(y=!!n.leading,m="maxWait"in n&&Ds(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function ha(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new zo(W);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new ha.Cache,n}function ga(e){if("function"!=typeof e)throw new zo(W);return function(){return!e.apply(this,arguments)}}function ma(e){return pa(2,e)}function va(e,t){if("function"!=typeof e)throw new zo(W);return t=Ds(t===w?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=Ds(n.length-t,0),a=Wo(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=Wo(t+1);for(r=-1;++r<t;)o[r]=n[r];return o[t]=a,e.apply(this,o)}}function ya(e){if("function"!=typeof e)throw new zo(W);return function(t){return e.apply(this,t)}}function Aa(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new zo(W);return n===!1?r=!1:La(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fa(e,t,{leading:r,maxWait:+t,trailing:i})}function ba(e,t){return t=null==t?Fo:t,Ir(t,k,w,[e],[])}function Sa(e,t,n,r){return t&&"boolean"!=typeof t&&Xr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?Dn(e,t,or(n,r,3)):Dn(e,t)}function Da(e,t,n){return"function"==typeof t?Dn(e,!0,or(t,n,3)):Dn(e,!0)}function wa(e,t){return e>t}function $a(e,t){return e>=t}function xa(e){return g(e)&&Jr(e)&&ts.call(e,"callee")&&!us.call(e,"callee")}function Ca(e){return e===!0||e===!1||g(e)&&rs.call(e)==H}function Ta(e){return g(e)&&rs.call(e)==G}function Fa(e){return!!e&&1===e.nodeType&&g(e)&&!_a(e)}function Ma(e){return null==e?!0:Jr(e)&&(Ml(e)||Ka(e)||xa(e)||g(e)&&Ea(e.splice))?!e.length:!_l(e).length}function ka(e,t,n,r){n="function"==typeof n?or(n,r,3):w;var i=n?n(e,t):w;return i===w?Nn(e,t,n):!!i}function Oa(e){return g(e)&&"string"==typeof e.message&&rs.call(e)==V}function Pa(e){return"number"==typeof e&&bs(e)}function Ea(e){return La(e)&&rs.call(e)==Q}function La(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ra(e,t,n,r){return n="function"==typeof n?or(n,r,3):w,Un(e,Yr(t),n)}function Na(e){return Ba(e)&&e!=+e}function Ia(e){return null==e?!1:Ea(e)?as.test(es.call(e)):g(e)&&Pt.test(e)}function Ua(e){return null===e}function Ba(e){return"number"==typeof e||g(e)&&rs.call(e)==z}function _a(e){var t;if(!g(e)||rs.call(e)!=J||xa(e)||!ts.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return On(e,function(e,t){n=t}),n===w||ts.call(e,n)}function Wa(e){return La(e)&&rs.call(e)==Z}function Ka(e){return"string"==typeof e||g(e)&&rs.call(e)==et}function qa(e){return g(e)&&ni(e.length)&&!!_t[rs.call(e)]}function Ya(e){return e===w}function Ha(e,t){return t>e}function Ga(e,t){return t>=e}function Va(e){var t=e?Ks(e):0;return ni(t)?t?nn(e):[]:ao(e)}function Qa(e){return bn(e,eo(e))}function ja(e,t,n){var r=Rs(e);return n&&Xr(e,t,n)&&(t=w),t?yn(r,t):r}function za(e){return Ln(e,eo(e))}function Ja(e,t,n){var r=null==e?w:Rn(e,pi(t),t+"");return r===w?n:r}function Za(e,t){if(null==e)return!1;var n=ts.call(e,t);if(!n&&!ei(t)){if(t=pi(t),e=1==t.length?e:Rn(e,jn(t,0,-1)),null==e)return!1;t=Ci(t),n=ts.call(e,t)}return n||ni(e.length)&&Zr(t,e.length)&&(Ml(e)||xa(e))}function Xa(e,t,n){n&&Xr(e,t,n)&&(t=w);for(var r=-1,i=_l(e),a=i.length,o={};++r<a;){var s=i[r],l=e[s];t?ts.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function eo(e){if(null==e)return[];La(e)||(e=Vo(e));var t=e.length;t=t&&ni(t)&&(Ml(e)||xa(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Wo(t),o=t>0;++r<t;)a[r]=r+"";for(var s in e)o&&Zr(s,t)||"constructor"==s&&(i||!ts.call(e,s))||a.push(s);return a}function to(e){e=di(e);for(var t=-1,n=_l(e),r=n.length,i=Wo(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function no(e,t,n){var r=null==e?w:e[t];return r===w&&(null==e||ei(t,e)||(t=pi(t),e=1==t.length?e:Rn(e,jn(t,0,-1)),r=null==e?w:e[Ci(t)]),r=r===w?n:r),Ea(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||ei(t,e)?[r]:pi(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];La(s)&&(i==o?s[l]=n:null==s[l]&&(s[l]=Zr(t[i+1])?[]:{})),s=s[l]}return e}function io(e,t,n,r){var i=Ml(e)||qa(e);if(t=Wr(t,r,4),null==n)if(i||La(e)){var a=e.constructor;n=i?Ml(e)?new a:[]:Rs(Ea(a)?a.prototype:w)}else n={};return(i?rn:Pn)(e,function(e,r,i){return t(n,e,r,i)}),n}function ao(e){return tr(e,_l(e))}function oo(e){return tr(e,eo(e))}function so(e,t,n){return t=+t||0,n===w?(n=t,t=0):n=+n||0,e>=ws(t,n)&&e<Ds(t,n)}function lo(e,t,n){n&&Xr(e,t,n)&&(t=n=w);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Cs();return ws(e+a*(t-e+ls("1e-"+((a+"").length-1))),t)}return Vn(e,t)}function co(e){return e=a(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function uo(e){return e=a(e),e&&e.replace(Lt,u).replace(Tt,"")}function po(e,t,n){e=a(e),t+="";var r=e.length;return n=n===w?r:ws(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fo(e){return e=a(e),e&&yt.test(e)?e.replace(mt,d):e}function ho(e){return e=a(e),e&&Ct.test(e)?e.replace(xt,p):e||"(?:)"}function go(e,t,n){e=a(e),t=+t;var r=e.length;if(r>=t||!bs(t))return e;var i=(t-r)/2,o=ys(i),s=ms(i);return n=Er("",s,n),n.slice(0,o)+e+n}function mo(e,t,n){return(n?Xr(e,t,n):null==t)?t=0:t&&(t=+t),e=bo(e),xs(e,t||(Ot.test(e)?16:10))}function vo(e,t){var n="";if(e=a(e),t=+t,1>t||!e||!bs(t))return n;do t%2&&(n+=e),t=ys(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=a(e),n=null==n?0:ws(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function Ao(e,t,n){var r=m.templateSettings;n&&Xr(e,t,n)&&(t=n=w),e=a(e),t=vn(yn({},n||t),r,mn);var i,o,s=vn(yn({},t.imports),r.imports,mn),l=_l(s),c=tr(s,l),u=0,d=t.interpolate||Rt,p="__p += '",h=Qo((t.escape||Rt).source+"|"+d.source+"|"+(d===St?Mt:Rt).source+"|"+(t.evaluate||Rt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Bt+"]")+"\n";e.replace(h,function(t,n,r,a,s,l){return r||(r=a),p+=e.slice(u,l).replace(Nt,f),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(pt,""):p).replace(ft,"$1").replace(ht,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Jl(function(){return Yo(l,g+"return "+p).apply(w,c)});if(y.source=p,Oa(y))throw y;return y}function bo(e,t,n){var r=e;return(e=a(e))?(n?Xr(r,t,n):null==t)?e.slice(A(e),b(e)+1):(t+="",e.slice(o(e,t),s(e,t)+1)):e}function So(e,t,n){var r=e;return e=a(e),e?e.slice((n?Xr(r,t,n):null==t)?A(e):o(e,t+"")):e}function Do(e,t,n){var r=e;return e=a(e),e?(n?Xr(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,s(e,t+"")+1):e}function wo(e,t,n){n&&Xr(e,t,n)&&(t=w);var r=L,i=R;if(null!=t)if(La(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?a(t.omission):i}else r=+t||0;if(e=a(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var l=e.slice(0,s);if(null==o)return l+i;if(Wa(o)){if(e.slice(s).search(o)){var c,u,d=e.slice(0,s);for(o.global||(o=Qo(o.source,(kt.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)u=c.index;l=l.slice(0,null==u?s:u)}}else if(e.indexOf(o,s)!=s){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i}function $o(e){return e=a(e),e&&vt.test(e)?e.replace(gt,S):e}function xo(e,t,n){return n&&Xr(e,t,n)&&(t=w),e=a(e),e.match(t||It)||[]}function Co(e,t,n){return n&&Xr(e,t,n)&&(t=w),g(e)?Mo(e):Sn(e,t)}function To(e){return function(){return e}}function Fo(e){return e}function Mo(e){return _n(Dn(e,!0))}function ko(e,t){return Wn(e,Dn(t,!0))}function Oo(e,t,n){if(null==n){var r=La(t),i=r?_l(t):w,a=i&&i.length?Ln(t,i):w;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=Ln(t,_l(t)));var o=!0,s=-1,l=Ea(e),c=a.length;n===!1?o=!1:La(n)&&"chain"in n&&(o=n.chain);for(;++s<c;){var u=a[s],d=t[u];e[u]=d,l&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(o||n){var r=e(this.__wrapped__),i=r.__actions__=nn(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,un([this.value()],arguments))}}(d))}return e}function Po(){return en._=is,this}function Eo(){}function Lo(e){return ei(e)?Yn(e):Hn(e)}function Ro(e){return function(t){return Rn(e,pi(t),t+"")}}function No(e,t,n){n&&Xr(e,t,n)&&(t=n=w),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=Ds(ms((t-e)/(n||1)),0),a=Wo(i);++r<i;)a[r]=e,e+=n;return a}function Io(e,t,n){if(e=ys(e),1>e||!bs(e))return[];var r=-1,i=Wo(ws(e,Ms));for(t=or(t,n,1);++r<e;)Ms>r?i[r]=t(r):t(r);return i}function Uo(e){var t=++ns;return a(e)+t}function Bo(e,t){return(+e||0)+(+t||0)}function _o(e,t,n){return n&&Xr(e,t,n)&&(t=w),t=Wr(t,n,3),1==t.length?hn(Ml(e)?e:ui(e),t):Xn(e,t)}n=n?tn.defaults(en.Object(),n,tn.pick(en,Ut)):en;{var Wo=n.Array,Ko=n.Date,qo=n.Error,Yo=n.Function,Ho=n.Math,Go=n.Number,Vo=n.Object,Qo=n.RegExp,jo=n.String,zo=n.TypeError,Jo=Wo.prototype,Zo=Vo.prototype,Xo=jo.prototype,es=Yo.prototype.toString,ts=Zo.hasOwnProperty,ns=0,rs=Zo.toString,is=en._,as=Qo("^"+es.call(ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=n.ArrayBuffer,ss=n.clearTimeout,ls=n.parseFloat,cs=Ho.pow,us=Zo.propertyIsEnumerable,ds=Hr(n,"Set"),ps=n.setTimeout,fs=Jo.splice,hs=n.Uint8Array,gs=Hr(n,"WeakMap"),ms=Ho.ceil,vs=Hr(Vo,"create"),ys=Ho.floor,As=Hr(Wo,"isArray"),bs=n.isFinite,Ss=Hr(Vo,"keys"),Ds=Ho.max,ws=Ho.min,$s=Hr(Ko,"now"),xs=n.parseInt,Cs=Ho.random,Ts=Go.NEGATIVE_INFINITY,Fs=Go.POSITIVE_INFINITY,Ms=4294967295,ks=Ms-1,Os=Ms>>>1,Ps=9007199254740991,Es=gs&&new gs,Ls={};m.support={}}m.templateSettings={escape:At,evaluate:bt,interpolate:St,variable:"",imports:{_:m}};var Rs=function(){function e(){}return function(t){if(La(t)){e.prototype=t;var n=new e;e.prototype=w}return n||{}}}(),Ns=pr(Pn),Is=pr(En,!0),Us=fr(),Bs=fr(!0),_s=Es?function(e,t){return Es.set(e,t),e}:Fo,Ws=Es?function(e){return Es.get(e)}:Eo,Ks=Yn("length"),qs=function(){var e=0,t=0;return function(n,r){var i=gl(),a=I-(i-t);if(t=i,a>0){if(++e>=N)return n}else e=0;return _s(n,r)}}(),Ys=va(function(e,t){return g(e)&&Jr(e)?$n(e,kn(t,!1,!0)):[]}),Hs=Dr(),Gs=Dr(!0),Vs=va(function(e){for(var t=e.length,n=t,i=Wo(d),a=qr(),o=a===r,s=[];n--;){var l=e[n]=Jr(l=e[n])?l:[];i[n]=o&&l.length>=120?gr(n&&l):null}var c=e[0],u=-1,d=c?c.length:0,p=i[0];e:for(;++u<d;)if(l=c[u],(p?Jt(p,l):a(s,l,0))<0){for(var n=t;--n;){var f=i[n];if((f?Jt(f,l):a(e[n],l,0))<0)continue e}p&&p.push(l),s.push(l)}return s}),Qs=va(function(t,n){n=kn(n);var r=An(t,n);return Gn(t,n.sort(e)),r}),js=Nr(),zs=Nr(!0),Js=va(function(e){return er(kn(e,!1,!0))}),Zs=va(function(e,t){return Jr(e)?$n(e,t):[]}),Xs=va(Ii),el=va(function(e){var t=e.length,n=t>2?e[t-2]:w,r=t>1?e[t-1]:w;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):w,r=w),e.length=t,Ui(e,n,r)}),tl=va(function(e){return e=kn(e),this.thru(function(t){return Xt(Ml(t)?t:[di(t)],e)})}),nl=va(function(e,t){return An(e,kn(t))}),rl=ur(function(e,t,n){ts.call(e,n)?++e[n]:e[n]=1}),il=Sr(Ns),al=Sr(Is,!0),ol=xr(rn,Ns),sl=xr(an,Is),ll=ur(function(e,t,n){ts.call(e,n)?e[n].push(t):e[n]=[t]}),cl=ur(function(e,t,n){e[n]=t}),ul=va(function(e,t,n){var r=-1,i="function"==typeof t,a=ei(t),o=Jr(e)?Wo(e.length):[];return Ns(e,function(e){var s=i?t:a&&null!=e?e[t]:w;o[++r]=s?s.apply(e,n):zr(e,t,n)}),o}),dl=ur(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),pl=Or(dn,Ns),fl=Or(pn,Is),hl=va(function(e,t){if(null==e)return[];var n=t[2];return n&&Xr(t[0],t[1],n)&&(t.length=1),Zn(e,kn(t),[])}),gl=$s||function(){return(new Ko).getTime()},ml=va(function(e,t,n){var r=x;if(n.length){var i=v(n,ml.placeholder);r|=k}return Ir(e,r,t,n,i)}),vl=va(function(e,t){t=t.length?kn(t):za(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Ir(e[i],x,e)}return e}),yl=va(function(e,t,n){var r=x|C;if(n.length){var i=v(n,yl.placeholder);r|=k}return Ir(t,r,e,n,i)}),Al=yr(F),bl=yr(M),Sl=va(function(e,t){return wn(e,1,t)}),Dl=va(function(e,t,n){return wn(e,t,n)}),wl=$r(),$l=$r(!0),xl=va(function(e,t){if(t=kn(t),"function"!=typeof e||!on(t,i))throw new zo(W);var n=t.length;return va(function(r){for(var i=ws(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Cl=kr(k),Tl=kr(O),Fl=va(function(e,t){return Ir(e,E,w,w,w,kn(t))}),Ml=As||function(e){return g(e)&&ni(e.length)&&rs.call(e)==Y},kl=dr(Kn),Ol=dr(function(e,t,n){return n?vn(e,t,n):yn(e,t)}),Pl=Ar(Ol,gn),El=Ar(kl,ai),Ll=wr(Pn),Rl=wr(En),Nl=Cr(Us),Il=Cr(Bs),Ul=Tr(Pn),Bl=Tr(En),_l=Ss?function(e){var t=null==e?w:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jr(e)?ci(e):La(e)?Ss(e):[]}:ci,Wl=Fr(!0),Kl=Fr(),ql=va(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=cn(kn(t),jo);return oi(e,$n(eo(e),t))}var n=or(t[0],t[1],3);return si(e,function(e,t,r){return!n(e,t,r)})}),Yl=va(function(e,t){return null==e?{}:"function"==typeof t[0]?si(e,or(t[0],t[1],3)):oi(e,kn(t))}),Hl=mr(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Gl=mr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Vl=Mr(),Ql=Mr(!0),jl=mr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),zl=mr(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Jl=va(function(e,t){try{return e.apply(w,t)}catch(n){return Oa(n)?n:new qo(n)}}),Zl=va(function(e,t){return function(n){return zr(n,e,t)}}),Xl=va(function(e,t){return function(n){return zr(e,n,t)}}),ec=Rr("ceil"),tc=Rr("floor"),nc=br(wa,Ts),rc=br(Ha,Fs),ic=Rr("round");return m.prototype=j.prototype,X.prototype=Rs(j.prototype),X.prototype.constructor=X,tt.prototype=Rs(j.prototype),tt.prototype.constructor=tt,Ht.prototype.delete=Gt,Ht.prototype.get=Vt,Ht.prototype.has=Qt,Ht.prototype.set=jt,zt.prototype.push=Zt,ha.Cache=Ht,m.after=ua,m.ary=da,m.assign=Ol,m.at=nl,m.before=pa,m.bind=ml,m.bindAll=vl,m.bindKey=yl,m.callback=Co,m.chain=Wi,m.chunk=hi,m.compact=gi,m.constant=To,m.countBy=rl,m.create=ja,m.curry=Al,m.curryRight=bl,m.debounce=fa,m.defaults=Pl,m.defaultsDeep=El,m.defer=Sl,m.delay=Dl,m.difference=Ys,m.drop=mi,m.dropRight=vi,m.dropRightWhile=yi,m.dropWhile=Ai,m.fill=bi,m.filter=Ji,m.flatten=Di,m.flattenDeep=wi,m.flow=wl,m.flowRight=$l,m.forEach=ol,m.forEachRight=sl,m.forIn=Nl,m.forInRight=Il,m.forOwn=Ul,m.forOwnRight=Bl,m.functions=za,m.groupBy=ll,m.indexBy=cl,m.initial=xi,m.intersection=Vs,m.invert=Xa,m.invoke=ul,m.keys=_l,m.keysIn=eo,m.map=ea,m.mapKeys=Wl,m.mapValues=Kl,m.matches=Mo,m.matchesProperty=ko,m.memoize=ha,m.merge=kl,m.method=Zl,m.methodOf=Xl,m.mixin=Oo,m.modArgs=xl,m.negate=ga,m.omit=ql,m.once=ma,m.pairs=to,m.partial=Cl,m.partialRight=Tl,m.partition=dl,m.pick=Yl,m.pluck=ta,m.property=Lo,m.propertyOf=Ro,m.pull=Fi,m.pullAt=Qs,m.range=No,m.rearg=Fl,m.reject=na,m.remove=Mi,m.rest=ki,m.restParam=va,m.set=ro,m.shuffle=ia,m.slice=Oi,m.sortBy=sa,m.sortByAll=hl,m.sortByOrder=la,m.spread=ya,m.take=Pi,m.takeRight=Ei,m.takeRightWhile=Li,m.takeWhile=Ri,m.tap=Ki,m.throttle=Aa,m.thru=qi,m.times=Io,m.toArray=Va,m.toPlainObject=Qa,m.transform=io,m.union=Js,m.uniq=Ni,m.unzip=Ii,m.unzipWith=Ui,m.values=ao,m.valuesIn=oo,m.where=ca,m.without=Zs,m.wrap=ba,m.xor=Bi,m.zip=Xs,m.zipObject=_i,m.zipWith=el,m.backflow=$l,m.collect=ea,m.compose=$l,m.each=ol,m.eachRight=sl,m.extend=Ol,m.iteratee=Co,m.methods=za,m.object=_i,m.select=Ji,m.tail=ki,m.unique=Ni,Oo(m,m),m.add=Bo,m.attempt=Jl,m.camelCase=Hl,m.capitalize=co,m.ceil=ec,m.clone=Sa,m.cloneDeep=Da,m.deburr=uo,m.endsWith=po,m.escape=fo,m.escapeRegExp=ho,m.every=zi,m.find=il,m.findIndex=Hs,m.findKey=Ll,m.findLast=al,m.findLastIndex=Gs,m.findLastKey=Rl,m.findWhere=Zi,m.first=Si,m.floor=tc,m.get=Ja,m.gt=wa,m.gte=$a,m.has=Za,m.identity=Fo,m.includes=Xi,m.indexOf=$i,m.inRange=so,m.isArguments=xa,m.isArray=Ml,m.isBoolean=Ca,m.isDate=Ta,m.isElement=Fa,m.isEmpty=Ma,m.isEqual=ka,m.isError=Oa,m.isFinite=Pa,m.isFunction=Ea,m.isMatch=Ra,m.isNaN=Na,m.isNative=Ia,m.isNull=Ua,m.isNumber=Ba,m.isObject=La,m.isPlainObject=_a,m.isRegExp=Wa,m.isString=Ka,m.isTypedArray=qa,m.isUndefined=Ya,m.kebabCase=Gl,m.last=Ci,m.lastIndexOf=Ti,m.lt=Ha,m.lte=Ga,m.max=nc,m.min=rc,m.noConflict=Po,m.noop=Eo,m.now=gl,m.pad=go,m.padLeft=Vl,m.padRight=Ql,m.parseInt=mo,m.random=lo,m.reduce=pl,m.reduceRight=fl,m.repeat=vo,m.result=no,m.round=ic,m.runInContext=D,m.size=aa,m.snakeCase=jl,m.some=oa,m.sortedIndex=js,m.sortedLastIndex=zs,m.startCase=zl,m.startsWith=yo,m.sum=_o,m.template=Ao,m.trim=bo,m.trimLeft=So,m.trimRight=Do,m.trunc=wo,m.unescape=$o,m.uniqueId=Uo,m.words=xo,m.all=zi,m.any=oa,m.contains=Xi,m.eq=ka,m.detect=il,m.foldl=pl,m.foldr=fl,m.head=Si,m.include=Xi,m.inject=pl,Oo(m,function(){var e={};return Pn(m,function(t,n){m.prototype[n]||(e[n]=t)}),e}(),!1),m.sample=ra,m.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ra(t,e)}):ra(this.value())},m.VERSION=$,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),rn(["drop","take"],function(e,t){tt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new tt(this);n=null==n?1:Ds(ys(n)||0,0);var i=this.clone();return r?i.__takeCount__=ws(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},tt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=_;tt.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Wr(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rn(["first","last"],function(e,t){var n="take"+(t?"Right":"");tt.prototype[e]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");tt.prototype[e]=function(){return this.__filtered__?new tt(this):this[n](1)}}),rn(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?_n:Lo;tt.prototype[e]=function(e){return this[n](r(e))}}),tt.prototype.compact=function(){return this.filter(Fo)},tt.prototype.reject=function(e,t){return e=Wr(e,t,1),this.filter(function(t){return!e(t)})},tt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new tt(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==w&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},tt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},tt.prototype.toArray=function(){return this.take(Fs)},Pn(tt.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=m[r?"take"+("last"==t?"Right":""):t];i&&(m.prototype[t]=function(){var t=r?[1]:arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof tt,c=t[0],u=l||Ml(o);u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=function(e){return r&&a?i(e,1)[0]:i.apply(w,un([e],t))},p={func:qi,args:[d],thisArg:w},f=l&&!s;if(r&&!a)return f?(o=o.clone(),o.__actions__.push(p),e.call(o)):i.call(w,this.value())[0];if(!r&&u){o=f?o:new tt(this);var h=e.apply(o,t);return h.__actions__.push(p),new X(h,a)}return this.thru(d)})}),rn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Xo:Jo)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);m.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Pn(tt.prototype,function(e,t){var n=m[t];if(n){var r=n.name+"",i=Ls[r]||(Ls[r]=[]);i.push({name:t,func:n})}}),Ls[Pr(w,C).name]=[{name:"wrapper",func:w}],tt.prototype.clone=Kt,tt.prototype.reverse=qt,tt.prototype.value=Yt,m.prototype.chain=Yi,m.prototype.commit=Hi,m.prototype.concat=tl,m.prototype.plant=Gi,m.prototype.reverse=Vi,m.prototype.toString=Qi,m.prototype.run=m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=ji,m.prototype.collect=m.prototype.map,m.prototype.head=m.prototype.first,m.prototype.select=m.prototype.filter,m.prototype.tail=m.prototype.rest,m}var w,$="3.10.1",x=1,C=2,T=4,F=8,M=16,k=32,O=64,P=128,E=256,L=30,R="...",N=150,I=16,U=200,B=1,_=2,W="Expected a function",K="__lodash_placeholder__",q="[object Arguments]",Y="[object Array]",H="[object Boolean]",G="[object Date]",V="[object Error]",Q="[object Function]",j="[object Map]",z="[object Number]",J="[object Object]",Z="[object RegExp]",X="[object Set]",et="[object String]",tt="[object WeakMap]",nt="[object ArrayBuffer]",rt="[object Float32Array]",it="[object Float64Array]",at="[object Int8Array]",ot="[object Int16Array]",st="[object Int32Array]",lt="[object Uint8Array]",ct="[object Uint8ClampedArray]",ut="[object Uint16Array]",dt="[object Uint32Array]",pt=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,mt=/[&<>"'`]/g,vt=RegExp(gt.source),yt=RegExp(mt.source),At=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,wt=/^\w*$/,$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(xt.source),Tt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ft=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kt=/\w*$/,Ot=/^0[xX]/,Pt=/^\[object .+?Constructor\]$/,Et=/^\d+$/,Lt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rt=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,It=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ut=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Bt=-1,_t={};_t[rt]=_t[it]=_t[at]=_t[ot]=_t[st]=_t[lt]=_t[ct]=_t[ut]=_t[dt]=!0,_t[q]=_t[Y]=_t[nt]=_t[H]=_t[G]=_t[V]=_t[Q]=_t[j]=_t[z]=_t[J]=_t[Z]=_t[X]=_t[et]=_t[tt]=!1;var Wt={};Wt[q]=Wt[Y]=Wt[nt]=Wt[H]=Wt[G]=Wt[rt]=Wt[it]=Wt[at]=Wt[ot]=Wt[st]=Wt[z]=Wt[J]=Wt[Z]=Wt[et]=Wt[lt]=Wt[ct]=Wt[ut]=Wt[dt]=!0,Wt[V]=Wt[Q]=Wt[j]=Wt[X]=Wt[tt]=!1;var Kt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Yt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ht={"function":!0,object:!0},Gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Ht[typeof exports]&&exports&&!exports.nodeType&&exports,jt=Ht[typeof module]&&module&&!module.nodeType&&module,zt=Qt&&jt&&"object"==typeof global&&global&&global.Object&&global,Jt=Ht[typeof self]&&self&&self.Object&&self,Zt=Ht[typeof window]&&window&&window.Object&&window,Xt=jt&&jt.exports===Qt&&Qt,en=zt||Zt!==(this&&this.window)&&Zt||Jt||this,tn=D();"function"==typeof n&&"object"==typeof n.amd&&n.amd?(en._=tn,n("lodash",[],function(){return tn})):Qt&&jt?Xt?(jt.exports=tn)._=tn:Qt._=tn:en._=tn}.call(this),n("util/ItinerariesDedupper",["lodash"],function(e){"use strict";function t(){}return t.prototype.dedupMerge=function(t,n){var r=this.createFlightStructureToItinerariesMap(t),i=e.keys(r),a=this;n.forEach(function(t){var n=t.getFlightStructure();if(e.contains(i,n)){var o=r[n].getPricingSource(),s=t.getPricingSource(),l=a.comparePricingSources(o,s);-1===l&&(r[n]=t)}else r[n]=t});var o=e.values(r);return o},t.prototype.comparePricingSources=function(e,t){return e.indexOf("MIP")>-1?1:t.indexOf("MIP")>-1?-1:0},t.prototype.createFlightStructureToItinerariesMap=function(t){return e.indexBy(t,function(e){return e.getFlightStructure()})},t}),n("datamodel/ItinerariesList",["lodash","util/ItinerariesDedupper"],function(e,t){"use strict";function n(){this.itineraries=[]}return n.prototype.getPermittedItineraries=function(){return e.reject(this.itineraries,"filteredOut")},n.prototype.getItineraries=function(){return this.itineraries},n.prototype.add=function(e){this.itineraries.push(e)},n.prototype.addItinerariesList=function(e){var t=this;return e.getItineraries().forEach(function(e){t.add(e)}),this},n.prototype.addItinerariesListWithDedup=function(e){var n=new t;return this.itineraries=n.dedupMerge(this.itineraries,e.itineraries),this},n.prototype.size=function(){return this.getPermittedItineraries().length},n.prototype.getLeadPrice=function(){var t=e.min(this.getPermittedItineraries(),"totalFareAmount");return{price:t.totalFareAmountWithCurrency.amount,currency:t.totalFareAmountWithCurrency.currency}},n.prototype.getCheapestItinerary=function(){return e.min(this.getPermittedItineraries(),"totalFareAmount")},n.prototype.getShortestItinerary=function(){return e.min(this.getPermittedItineraries(),"duration")},n.prototype.applyFilters=function(e){this.getItineraries().forEach(function(t){t.filteredOut=!e.every(function(e){return e(t)})})},n}),n("util/LodashExtensions",["lodash"],function(e){"use strict";var t=e.runInContext();return t.mixin({isDefined:e.negate(e.isUndefined),minOfValues:function(t){var n=e.values(t);return Math.min.apply(void 0,n)},groupByAndGetCountAndMin:function(t,n,r,i){function a(t,n,a){e.isUndefined(t.keysAcc[n])&&(t.keysAcc[n]=n,t.valuesAcc[n]={min:1/0,count:0}),t.valuesAcc[n].count++;var o=e.result(a,r),s=e.result(a,i);if(i&&t.valuesAcc[n].mustBeEqualPropertyValue&&t.valuesAcc[n].mustBeEqualPropertyValue!==s)throw new Error('Error while calculating min value. The property to be equal "'+i+"' while calculating minimum was different across values");return o<t.valuesAcc[n].min&&(t.valuesAcc[n].min=o,t.valuesAcc[n].mustBeEqualPropertyValue=s),t}var o=t.reduce(function(t,r){var i=e.result(r,n);return e.isArray(i)?i.reduce(function(e,t){return a(e,t,r)},t):a(t,i,r)},{keysAcc:{},valuesAcc:{}}),s=e.map(o.keysAcc,function(e){return{value:o.keysAcc[e],count:o.valuesAcc[e].count,min:o.valuesAcc[e].min,mustBeEqualPropertyValue:o.valuesAcc[e].mustBeEqualPropertyValue}});return s},median:function(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},pushAll:function(e,t){return e.push.apply(e,t),e},pushIfNotContains:function(t,n){return e.contains(t,n)||t.push(n),t},leafValues:function n(t,r){var i=e.values(t);return e.isUndefined(r)||r--,e.isObject(i[0])&&0!==r?e.flatten(i.map(function(e){return n(e,r)})):i}}),t}),n("util/validator",["moment"],function(e){"use strict";var t=new RegExp("^[A-Z]{3}$"),n=new RegExp("^[A-Z]{3}$"),r=function(e,t){if("undefined"==typeof e)throw new Error(t);return!0},i=function(e,t,n){if(r(e,n),!t.test(e))throw new Error(n);return!0},a=function(e,t){if(r(e,t),0===Object.keys(e).length)throw new Error(t);return!0};return{notEmpty:a,defined:r,definedAndMatches:i,onlyOneDefined:function(e,t,n){if("undefined"==typeof e&&"undefined"==typeof t)throw new Error(n);if(e&&t)throw new Error(n);return!0},currencySymbol:function(e,n){return i(e,t,n)},airportCode:function(e,t){return i(e,n,t)},arrayHasLength:function(e,t,n){if(r(e,n),e.length!==t)throw new Error(n);return!0},year:function(t,n){if(r(t),!e([t,0,1]).isValid())throw new Error(n);return!0},month:function(t,n){if(r(t),!e([2e3,t,1]).isValid())throw new Error(n);return!0},validDate:function(t,n){if(!e(t,n).isValid())throw new Error("invalid date for date format '"+n+"'")},notAfter:function(t,n,r,i,a){var o=e(t,r),s=e(n,r);if(o.isAfter(s))throw new Error(i+"='"+o.format(r)+"' cannot be after "+a+"='"+s.format(r)+"'")},notGreaterThan:function(e,t,n,r){if(e>t)throw new Error(n+": "+e+" cannot be greater than "+r+": "+t)},atLeast:function(e,t){if(t>e)throw new Error(e+": "+e+" is less than required: "+t)},notLowerThan:function(e,t){if(t>e)throw new Error(e+" cannot be lower than "+t)}}}),n("webservices/common/validators/BasicSearchCriteriaValidator",["lodash","util/LodashExtensions","util/validator"],function(e,t,n){"use strict";function r(){}return r.prototype.validateRoundTripTravelSpecification=function(e){var n=[];return this.validateAirportCodes(e),t.pushAll(n,this.validateTravelDatesRelations(e)),n},r.prototype.validateAirportCodes=function(e){n.airportCode(e.getFirstLeg().origin,"You have to specify origin location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getFirstLeg().destination,"You have to specify destination location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getSecondLeg().origin,"You have to specify origin location, and it must be valid 3 letter airport or city code, for example LAX"),n.airportCode(e.getSecondLeg().destination,"You have to specify destination location, and it must be valid 3 letter airport or city code, for example LAX")},r.prototype.validateTravelDatesRelations=function(t){var n=[],r=t.getFirstLeg().departureDateTime,i=t.getSecondLeg().departureDateTime,a=t.getEarliestDepartureDateTime(),o=t.getLatestReturnDateTime();return e.isUndefined(r)&&e.isUndefined(a)&&n.push("departureDateTime or earliestDepartureDateTime must be defined for round trip travel"),e.isUndefined(i)&&e.isUndefined(o)&&n.push("return date or latest return date must be defined for round trip travel"),e.isDate(r),e.isDate(i),e.isUndefined(i)&&e.isUndefined(o)&&e.isUndefined(t.lengthOfStay)&&n.push("returnDate or latestReturnDateTime or lengthOfStay is not defined for round trip travel. You must define one of them."),e.isUndefined(i)||e.isDate(r),i&&r&&(i.isBefore(r)||i.isSame(r))&&n.push("return date must be after departureDate"),o&&a&&(o.isBefore(a)||o.isSame(a))&&n.push("latest return date must be after earliest departureDate"),n},r}),n("webservices/common/validators/TravelInsightEngineSearchCriteriaValidator",["util/LodashExtensions","webservices/common/validators/BasicSearchCriteriaValidator"],function(e,t){"use strict";function n(){this.basicValidator=new t}return n.prototype.validateLengthOfStay=function(e){var t=[];return 0>e&&t.push("Length of stay must be non-negative"),e>this.MAX_LENGTH_OF_STAY_DAYS&&t.push("Length of stay over "+this.MAX_LENGTH_OF_STAY_DAYS+" not supported. Please select other travel dates"),t
},n.prototype.validate=function(t){var n=[];if(!t.isRoundTripTravel())return n.push("Travel Insight Engine services support only round trip travel"),n;var r=this.basicValidator.validateRoundTripTravelSpecification(t);e.pushAll(n,r),e.pushAll(n,this.validateLengthOfStay(t.getLengthOfStay())),e.pushAll(n,this.validateLengthOfStay(t.getMinLengthOfStay())),e.pushAll(n,this.validateLengthOfStay(t.getMaxLengthOfStay())),t.isEconomyCabinRequested()||n.push("Travel Insight Engine services support only Economy cabin requests, or requests without cabin preference - then economy fares will be returned)");var i=this.validatePaxCountAndType(t);return e.pushAll(n,i),n},n.prototype.validatePaxCountAndType=function(e){var t=[];return e.passengerSpecifications.length>1&&t.push("Travel Insight Engine services do not support multiple passenger type definitions. Use only 1 passenger type definition (for example 1 ADT)."),(e.passengerSpecifications[0].count>1||"ADT"!==e.passengerSpecifications[0].passengerTypeCode)&&t.push("Travel Insight Engine services support only 1 passenger number and only of type ADT. The only supported passenger type is 1 ADT."),t},n.prototype.MAX_LENGTH_OF_STAY_DAYS=16,n}),n("webservices/instaflights/InstaflightSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){"use strict";function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),t.isAlternateDatesRequest()&&n.push("Instaflight does not support alt dates requests (date flexibility)"),n},r}),function(e,t,n){"use strict";function r(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.3.16/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,t+=i(r)}return Error(t)}}function i(e){if(null==e||$(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===Kr&&t?!0:A(e)||Rr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r,o;if(e)if(D(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Rr(e)||i(e)){var s="object"!=typeof e;for(r=0,o=e.length;o>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function o(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++Er}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var a=Object.keys(i),o=0,s=a.length;s>o;o++){var l=a[o];e[l]=i[l]}}return c(e,t),e}function d(e){return parseInt(e,10)}function p(e,t){return u(Object.create(e),t)}function f(){}function h(e){return e}function g(e){return function(){return e}}function m(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function A(e){return"string"==typeof e}function b(e){return"number"==typeof e}function S(e){return"[object Date]"===kr.call(e)}function D(e){return"function"==typeof e}function w(e){return"[object RegExp]"===kr.call(e)}function $(e){return e&&e.window===e}function x(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"boolean"==typeof e}function T(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function F(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function M(e){return $r(e.nodeName||e[0]&&e[0].nodeName)}function k(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function O(e,t,n,r){if($(e)||x(e))throw Or("cpws");if(t){if(e===t)throw Or("cpi");if(n=n||[],r=r||[],y(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}if(Rr(e))for(var o=t.length=0;o<e.length;o++)i=O(e[o],null,n,r),y(e[o])&&(n.push(e[o]),r.push(i)),t.push(i);else{var s=t.$$hashKey;Rr(t)?t.length=0:a(t,function(e,n){delete t[n]});for(o in e)e.hasOwnProperty(o)&&(i=O(e[o],null,n,r),y(e[o])&&(n.push(e[o]),r.push(i)),t[o]=i);c(t,s)}}else(t=e)&&(Rr(e)?t=O(e,[],n,r):S(e)?t=new Date(e.getTime()):w(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):y(e)&&(i=Object.create(Object.getPrototypeOf(e)),t=O(e,i,n,r)));return t}function P(e,t){if(Rr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function E(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i=typeof e;if(i==typeof t&&"object"==i){if(!Rr(e)){if(S(e))return S(t)?E(e.getTime(),t.getTime()):!1;if(w(e))return w(t)?e.toString()==t.toString():!1;if(x(e)||x(t)||$(e)||$(t)||Rr(t)||S(t)||w(t))return!1;i={};for(r in e)if("$"!==r.charAt(0)&&!D(e[r])){if(!E(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!i.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!D(t[r]))return!1;return!0}if(!Rr(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!E(e[r],t[r]))return!1;return!0}}return!1}function L(e,t,n){return e.concat(Tr.call(t,n))}function R(e,t){var n=2<arguments.length?Tr.call(arguments,2):[];return!D(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,L(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function N(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:$(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":x(r)&&(i="$SCOPE"),i}function I(e,t){return"undefined"==typeof e?n:(b(t)||(t=t?2:null),JSON.stringify(e,N,t))}function U(e){return A(e)?JSON.parse(e):e}function B(e){e=br(e).clone();try{e.empty()}catch(t){}var n=br("<div>").append(e).html();try{return e[0].nodeType===qr?$r(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+$r(t)})}catch(r){return $r(n)}}function _(e){try{return decodeURIComponent(e)}catch(t){}}function W(e){var t,n,r={};return a((e||"").split("&"),function(e){e&&(t=e.replace(/\+/g,"%20").split("="),n=_(t[0]),v(n)&&(e=v(t[1])?_(t[1]):!0,xr.call(r,n)?Rr(r[n])?r[n].push(e):r[n]=[r[n],e]:r[n]=e))}),r}function K(e){var t=[];return a(e,function(e,n){Rr(e)?a(e,function(e){t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function q(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function H(e,t){var n,r,i=Br.length;for(e=br(e),r=0;i>r;++r)if(n=Br[r]+t,A(n=e.attr(n)))return n;return null}function G(e,t){var n,r,i={};a(Br,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,r=e.getAttribute(t))}),a(Br,function(t){t+="app";var i;!n&&(i=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(t))}),n&&(i.strictDi=null!==H(n,"strict-di"),t(n,r?[r]:[],i))}function V(n,r,i){y(i)||(i={}),i=u({strictDi:!1},i);var o=function(){if(n=br(n),n.injector()){var e=n[0]===t?"document":B(n);throw Or("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),e=Pt(r,i.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?o():(e.name=e.name.replace(l,""),Pr.resumeBootstrap=function(e){return a(e,function(e){r.push(e)}),o()},void(D(Pr.resumeDeferredBootstrap)&&Pr.resumeDeferredBootstrap()))}function Q(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function j(e){if(e=Pr.element(e).injector(),!e)throw Or("test");return e.get("$$testability")}function z(e,t){return t=t||"_",e.replace(_r,function(e,n){return(n?t:"")+e.toLowerCase()})}function J(){var t;Wr||((Sr=e.jQuery)&&Sr.fn.on?(br=Sr,u(Sr.fn,{scope:ni.scope,isolateScope:ni.isolateScope,controller:ni.controller,injector:ni.injector,inheritedData:ni.inheritedData}),t=Sr.cleanData,Sr.cleanData=function(e){var n;if(Lr)Lr=!1;else for(var r,i=0;null!=(r=e[i]);i++)(n=Sr._data(r,"events"))&&n.$destroy&&Sr(r).triggerHandler("$destroy");t(e)}):br=ct,Pr.element=br,Wr=!0)}function Z(e,t,n){if(!e)throw Or("areq",t||"?",n||"required");return e}function X(e,t,n){return n&&Rr(e)&&(e=e[e.length-1]),Z(D(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function et(e,t){if("hasOwnProperty"===e)throw Or("badname",t)}function tt(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,a=t.length,o=0;a>o;o++)r=t[o],e&&(e=(i=e)[r]);return!n&&D(e)?R(i,e):e}function nt(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return br(n)}function rt(){return Object.create(null)}function it(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||r,t(e,"module",function(){var e={};return function(r,a,o){if("hasOwnProperty"===r)throw i("badname","module");return a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),c}}if(!a)throw n("nomod",r);var t=[],i=[],s=[],l=e("$injector","invoke","push",i),c={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:a,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(e){return s.push(e),this}};return o&&l(o),c})}})}function at(t){u(t,{bootstrap:V,copy:O,extend:u,equals:E,element:br,forEach:a,injector:Pt,noop:f,bind:R,toJson:I,fromJson:U,identity:h,isUndefined:m,isDefined:v,isString:A,isFunction:D,isObject:y,isNumber:b,isElement:T,isArray:Rr,version:Yr,isDate:S,lowercase:$r,uppercase:Cr,callbacks:{counter:0},getTestability:j,$$minErr:r,$$csp:Ur,reloadWithDebugInfo:Q}),Dr=it(e);try{Dr("ngLocale")}catch(n){Dr("ngLocale",[]).provider("$locale",nn)}Dr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:En}),e.provider("$compile",Bt).directive({a:Qi,input:ua,textarea:ua,form:Zi,script:ja,select:Za,style:eo,option:Xa,ngBind:fa,ngBindHtml:ga,ngBindTemplate:ha,ngClass:va,ngClassEven:Aa,ngClassOdd:ya,ngCloak:ba,ngController:Sa,ngForm:Xi,ngHide:qa,ngIf:$a,ngInclude:xa,ngInit:Ta,ngNonBindable:Ba,ngPluralize:_a,ngRepeat:Wa,ngShow:Ka,ngStyle:Ya,ngSwitch:Ha,ngSwitchWhen:Ga,ngSwitchDefault:Va,ngOptions:Ja,ngTransclude:Qa,ngModel:Na,ngList:Fa,ngChange:ma,pattern:no,ngPattern:no,required:to,ngRequired:to,minlength:io,ngMinlength:io,maxlength:ro,ngMaxlength:ro,ngValue:pa,ngModelOptions:Ua}).directive({ngInclude:Ca}).directive(ji).directive(Da),e.provider({$anchorScroll:Et,$animate:pi,$browser:Nt,$cacheFactory:It,$controller:qt,$document:Yt,$exceptionHandler:Ht,$filter:Hn,$interpolate:en,$interval:tn,$http:zt,$httpBackend:Zt,$location:mn,$log:vn,$parse:Tn,$rootScope:Pn,$q:Fn,$$q:Mn,$sce:In,$sceDelegate:Nn,$sniffer:Un,$templateCache:Ut,$templateRequest:Bn,$$testability:_n,$timeout:Wn,$window:Yn,$$rAF:On,$$asyncCallback:Lt,$$jqLite:Ft})}])}function ot(e){return e.replace(Vr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Qr,"Moz$1")}function st(e){return e=e.nodeType,e===Kr||!e||9===e}function lt(e,t){var n,r,i=t.createDocumentFragment(),o=[];if(Zr.test(e)){for(n=n||i.appendChild(t.createElement("div")),r=(Xr.exec(e)||["",""])[1].toLowerCase(),r=ti[r]||ti._default,n.innerHTML=r[1]+e.replace(ei,"<$1></$2>")+r[2],r=r[0];r--;)n=n.lastChild;o=L(o,n.childNodes),n=i.firstChild,n.textContent=""}else o.push(t.createTextNode(e));return i.textContent="",i.innerHTML="",a(o,function(e){i.appendChild(e)}),i}function ct(e){if(e instanceof ct)return e;var n;if(A(e)&&(e=Nr(e),n=!0),!(this instanceof ct)){if(n&&"<"!=e.charAt(0))throw zr("nosel");return new ct(e)}if(n){n=t;var r;e=(r=Jr.exec(e))?[n.createElement(r[1])]:(r=lt(e,n))?r.childNodes:[]}At(this,e)}function ut(e){return e.cloneNode(!0)}function dt(e,t){if(t||ft(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)ft(n[r])}function pt(e,t,n,r){if(v(r))throw zr("offargs");var i=(r=ht(e))&&r.events,o=r&&r.handle;if(o)if(t)a(t.split(" "),function(t){if(v(n)){var r=i[t];if(k(r||[],n),r&&0<r.length)return}e.removeEventListener(t,o,!1),delete i[t]});else for(t in i)"$destroy"!==t&&e.removeEventListener(t,o,!1),delete i[t]}function ft(e,t){var r=e.ng339,i=r&&Hr[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),pt(e)),delete Hr[r],e.ng339=n))}function ht(e,t){var r=e.ng339,r=r&&Hr[r];return t&&!r&&(e.ng339=r=++Gr,r=Hr[r]={events:{},data:{},handle:n}),r}function gt(e,t,n){if(st(e)){var r=v(n),i=!r&&t&&!y(t),a=!t;if(e=(e=ht(e,!i))&&e.data,r)e[t]=n;else{if(a)return e;if(i)return e&&e[t];u(e,t)}}}function mt(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function vt(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",Nr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Nr(t)+" "," ")))})}function yt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=Nr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Nr(n))}}function At(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function bt(e,t){return St(e,"$"+(t||"ngController")+"Controller")}function St(e,t,r){for(9==e.nodeType&&(e=e.documentElement),t=Rr(t)?t:[t];e;){for(var i=0,a=t.length;a>i;i++)if((r=br.data(e,t[i]))!==n)return r;e=e.parentNode||11===e.nodeType&&e.host}}function Dt(e){for(dt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function wt(e,t){t||dt(e);var n=e.parentNode;n&&n.removeChild(e)}function $t(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):br(n).on("load",t)}function xt(e,t){var n=ri[t.toLowerCase()];return n&&ii[M(e)]&&n}function Ct(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&ai[t]}function Tt(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(m(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},a>1&&(i=P(i));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function Ft(){this.$get=function(){return u(ct,{hasClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),yt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),vt(e,t)}})}}function Mt(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function kt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Ot(e){return(e=e.toString().replace(ci,"").match(oi))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Pt(e,t){function r(e){return function(t,n){return y(t)?void a(t,s(e)):e(t,n)}}function i(e,t){if(et(e,"service"),(D(t)||Rr(t))&&(t=b.instantiate(t)),!t.$get)throw ui("pget",e);return v[e+"Provider"]=t}function o(e,t){return function(){var n=w.invoke(t,this);if(m(n))throw ui("undef",e);return n}}function l(e,t,n){return i(e,{$get:!1!==n?o(e,t):t})}function c(e){var t,n=[];return a(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=b.get(r[0]);i[r[1]].apply(i,r[2])}}if(!h.get(e)){h.put(e,!0);try{A(e)?(t=Dr(e),n=n.concat(c(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):D(e)?n.push(b.invoke(e)):Rr(e)?n.push(b.invoke(e)):X(e,"module")}catch(i){throw Rr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),ui("modulerr",e,i.stack||i.message||i)}}}),n}function u(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===d)throw ui("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,r)}catch(i){throw e[t]===d&&delete e[t],i}finally{p.shift()}}function i(e,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,l,c=[],u=Pt.$$annotate(e,t,a);for(s=0,o=u.length;o>s;s++){if(l=u[s],"string"!=typeof l)throw ui("itkn",l);c.push(i&&i.hasOwnProperty(l)?i[l]:r(l,a))}return Rr(e)&&(e=e[o]),e.apply(n,c)}return{invoke:i,instantiate:function(e,t,n){var r=Object.create((Rr(e)?e[e.length-1]:e).prototype||null);return e=i(e,r,t,n),y(e)||D(e)?e:r},get:r,annotate:Pt.$$annotate,has:function(t){return v.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],h=new kt([],!0),v={$provide:{provider:r(i),factory:r(l),service:r(function(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}),value:r(function(e,t){return l(e,g(t),!1)}),constant:r(function(e,t){et(e,"constant"),v[e]=t,S[e]=t}),decorator:function(e,t){var n=b.get(e+"Provider"),r=n.$get;n.$get=function(){var e=w.invoke(r,n);return w.invoke(t,null,{$delegate:e})}}}},b=v.$injector=u(v,function(e,t){throw Pr.isString(t)&&p.push(t),ui("unpr",p.join(" <- "))}),S={},w=S.$injector=u(S,function(e,t){var r=b.get(e+"Provider",t);return w.invoke(r.$get,r,n,e)});return a(c(e),function(e){w.invoke(e||f)}),w}function Et(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===M(e)?(t=e,!0):void 0}),t}function a(e){if(e){e.scrollIntoView();var n;n=o.yOffset,D(n)?n=n():T(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):b(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function o(){var e,t=n.hash();t?(e=s.getElementById(t))?a(e):(e=i(s.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||$t(function(){r.$evalAsync(o)})}),o}]}function Lt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Rt(e,t,r,i){function o(e){try{e.apply(null,Tr.call(arguments,1))}finally{if(D--,0===D)for(;w.length;)try{w.pop()()}catch(t){r.error(t)}}}function s(e,t){!function n(){a(x,function(e){e()}),$=t(n,e)}()}function l(){c(),u()}function c(){e:{try{C=v.state;break e}catch(e){}C=void 0}C=m(C)?null:C,E(C,L)&&(C=L),L=C}function u(){(F!==p.url()||T!==C)&&(F=p.url(),T=C,a(O,function(e){e(p.url(),C)}))}function d(e){try{return decodeURIComponent(e)}catch(t){return e}}var p=this,h=t[0],g=e.location,v=e.history,y=e.setTimeout,b=e.clearTimeout,S={};p.isMock=!1;var D=0,w=[];p.$$completeOutstandingRequest=o,p.$$incOutstandingRequestCount=function(){D++},p.notifyWhenNoOutstandingRequests=function(e){a(x,function(e){e()}),0===D?e():w.push(e)};var $,x=[];p.addPollFn=function(e){return m($)&&s(100,y),x.push(e),e};var C,T,F=g.href,M=t.find("base"),k=null;c(),T=C,p.url=function(t,n,r){if(m(r)&&(r=null),g!==e.location&&(g=e.location),v!==e.history&&(v=e.history),t){var a=T===r;if(F===t&&(!i.history||a))return p;var o=F&&ln(F)===ln(t);return F=t,T=r,!i.history||o&&a?(o||(k=t),n?g.replace(t):o?(n=g,r=t.indexOf("#"),t=-1===r?"":t.substr(r+1),n.hash=t):g.href=t):(v[n?"replaceState":"pushState"](r,"",t),c(),T=C),p}return k||g.href.replace(/%27/g,"'")},p.state=function(){return C};var O=[],P=!1,L=null;p.onUrlChange=function(t){return P||(i.history&&br(e).on("popstate",l),br(e).on("hashchange",l),P=!0),O.push(t),t},p.$$checkUrlChange=u,p.baseHref=function(){var e=M.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var R={},N="",I=p.baseHref();p.cookies=function(e,t){var i,a,o,s;if(!e){if(h.cookie!==N)for(N=h.cookie,i=N.split("; "),R={},o=0;o<i.length;o++)a=i[o],s=a.indexOf("="),s>0&&(e=d(a.substring(0,s)),R[e]===n&&(R[e]=d(a.substring(s+1))));return R}t===n?h.cookie=encodeURIComponent(e)+"=;path="+I+";expires=Thu, 01 Jan 1970 00:00:00 GMT":A(t)&&(i=(h.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+I).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},p.defer=function(e,t){var n;return D++,n=y(function(){delete S[n],o(e)},t||0),S[n]=!0,n},p.defer.cancel=function(e){return S[e]?(delete S[e],b(e),o(f),!0):!1}}function Nt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Rt(e,r,t,n)}]}function It(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var o=0,s=u({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,d={},p=null,f=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return m(t)?void 0:(e in l||o++,l[e]=t,o>c&&this.remove(f.key),t)},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),a(t.n,t.p),delete d[e]}delete l[e],o--},removeAll:function(){l={},o=0,d={},p=f=null},destroy:function(){d=s=l=null,delete t[e]},info:function(){return u({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ut(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Bt(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(e,function(e,i){var a=e.match(n);if(!a)throw fi("iscp",t,i,e);r[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),r}function o(e){var t=e.charAt(0);if(!t||t!==$r(t))throw fi("baddir",e);return e}var l={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=F("ngSrc,ngSrcset,src,srcset"),b=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/;this.directive=function $(t,n){return et(t,"directive"),A(t)?(o(t),Z(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var r=[];return a(l[t],function(a,o){try{var s=e.invoke(a);D(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",y(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(l){n(l)}}),r}])),l[t].push(n)):a(t,s($)),this},this.aHrefSanitizationWhitelist=function(e){return v(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(e){return v(e)?(w=e,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,o,s,g,v,$,C,T,F){function O(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,n,r,i){e instanceof br||(e=br(e)),a(e,function(t,n){t.nodeType==qr&&t.nodeValue.match(/\S+/)&&(e[n]=br(t).wrap("<span></span>").parent()[0])});var o=L(e,t,e,n,r,i);P.$$addScopeClass(e);var s=null;return function(t,n,r){Z(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers;if(r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=(r=r&&r[0])&&"foreignobject"!==M(r)&&r.toString().match(/SVG/)?"svg":"html"),r="html"!==s?br(j(s,br("<div>").append(e).html())):n?ni.clone.call(e):e,a)for(var l in a)r.data("$"+l+"Controller",a[l].instance);return P.$$addScopeInfo(r,t),n&&n(r,t),o&&o(t,r,r,i),r}}function L(e,t,r,i,a,o){function s(e,r,i,a){var o,s,l,c,u,d,h;if(p)for(h=Array(r.length),c=0;c<f.length;c+=3)o=f[c],h[o]=r[o];else h=r;for(c=0,u=f.length;u>c;)s=h[f[c++]],r=f[c++],o=f[c++],r?(r.scope?(l=e.$new(),P.$$addScopeInfo(br(s),l)):l=e,d=r.transcludeOnThisElement?R(e,r.transclude,a,r.elementTranscludeOnThisElement):!r.templateOnThisElement&&a?a:!a&&t?R(e,t):null,r(o,l,s,i,d)):o&&o(e,s.childNodes,n,a)}for(var l,c,u,d,p,f=[],h=0;h<e.length;h++)l=new it,c=N(e[h],[],l,0===h?i:n,a),(o=c.length?_(c,e[h],l,t,r,null,[],[],o):null)&&o.scope&&P.$$addScopeClass(l.$$element),l=o&&o.terminal||!(u=e[h].childNodes)||!u.length?null:L(u,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||l)&&(f.push(h,o,l),d=!0,p=p||o),o=null;return d?s:null}function R(e,t,n){return function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}}function N(e,t,n,r,i){var a,o=n.$attr;switch(e.nodeType){case Kr:K(t,_t(M(e)),"E",r,i);for(var s,l,u,p=e.attributes,f=0,h=p&&p.length;h>f;f++){var g=!1,m=!1;s=p[f],a=s.name,l=Nr(s.value),s=_t(a),(u=lt.test(s))&&(a=a.replace(hi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var v=s.replace(/(Start|End)$/,"");q(v)&&s===v+"Start"&&(g=a,m=a.substr(0,a.length-5)+"end",a=a.substr(0,a.length-6)),s=_t(a.toLowerCase()),o[s]=a,(u||!n.hasOwnProperty(s))&&(n[s]=l,xt(e,s)&&(n[s]=!0)),X(e,t,l,s,u),K(t,s,"A",r,i,g,m)}if(e=e.className,y(e)&&(e=e.animVal),A(e)&&""!==e)for(;a=d.exec(e);)s=_t(a[2]),K(t,s,"C",r,i)&&(n[s]=Nr(a[3])),e=e.substr(a.index+a[0].length);break;case qr:Q(t,e.nodeValue);break;case 8:try{(a=c.exec(e.nodeValue))&&(s=_t(a[1]),K(t,s,"M",r,i)&&(n[s]=Nr(a[2])))}catch(b){}}return t.sort(G),t}function I(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw fi("uterdir",t,n);e.nodeType==Kr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return br(r)}function U(e,t,n){return function(r,i,a,o,s){return i=I(i[0],t,n),e(r,i,a,o,s)}}function _(e,o,l,c,u,d,p,f,h){function m(e,t,n,r){e&&(n&&(e=U(e,n,r)),e.require=C.require,e.directiveName=T,(L===C||C.$$isolateScope)&&(e=tt(e,{isolateScope:!0})),p.push(e)),t&&(n&&(t=U(t,n,r)),t.require=C.require,t.directiveName=T,(L===C||C.$$isolateScope)&&(t=tt(t,{isolateScope:!0})),f.push(t))}function v(e,t,n,r){var i,o,s="data",l=!1,c=n;if(A(t)){if(o=t.match(b),t=t.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?s="inheritedData":"^^"===o[1]&&(s="inheritedData",c=n.parent()),"?"===o[2]&&(l=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||c[s]("$"+t+"Controller"),!i&&!l)throw fi("ctreq",t,e);return i||null}return Rr(t)&&(i=[],a(t,function(t){i.push(v(e,t,n,r))})),i}function S(e,t,i,c,u){function d(e,t,r){var i;return x(e)||(r=t,t=e,e=n),G&&(i=b),r||(r=G?D.parent():D),u(e,t,i,r,T)}var h,m,y,A,b,S,D,w;if(o===i?(w=l,D=l.$$element):(D=br(i),w=new it(D,l)),L&&(A=t.$new(!0)),u&&(S=d,S.$$boundTransclude=u),O&&($={},b={},a(O,function(e){var n={$scope:e===L||e.$$isolateScope?A:t,$element:D,$attrs:w,$transclude:S};y=e.controller,"@"==y&&(y=w[e.name]),n=g(y,n,!0,e.controllerAs),b[e.name]=n,G||D.data("$"+e.name+"Controller",n.instance),$[e.name]=n})),L){P.$$addScopeInfo(D,A,!0,!(R&&(R===L||R===L.$$originalDirective))),P.$$addScopeClass(D,!0),c=$&&$[L.name];var C=A;c&&c.identifier&&!0===L.bindToController&&(C=c.instance),a(A.$$isolateBindings=L.$$isolateBindings,function(e,n){var i,a,o,l,c=e.attrName,u=e.optional;switch(e.mode){case"@":w.$observe(c,function(e){C[n]=e}),w.$$observers[c].$$scope=t,w[c]&&(C[n]=r(w[c])(t));break;case"=":if(u&&!w[c])break;a=s(w[c]),l=a.literal?E:function(e,t){return e===t||e!==e&&t!==t},o=a.assign||function(){throw i=C[n]=a(t),fi("nonassign",w[c],L.name)},i=C[n]=a(t),u=function(e){return l(e,C[n])||(l(e,i)?o(t,e=C[n]):C[n]=e),i=e},u.$stateful=!0,u=e.collection?t.$watchCollection(w[c],u):t.$watch(s(w[c],u),null,a.literal),A.$on("$destroy",u);break;case"&":a=s(w[c]),C[n]=function(e){return a(t,e)}}})}for($&&(a($,function(e){e()}),$=null),c=0,h=p.length;h>c;c++)m=p[c],nt(m,m.isolateScope?A:t,D,w,m.require&&v(m.directiveName,m.require,D,b),S);var T=t;for(L&&(L.template||null===L.templateUrl)&&(T=A),e&&e(T,i.childNodes,n,u),c=f.length-1;c>=0;c--)m=f[c],nt(m,m.isolateScope?A:t,D,w,m.require&&v(m.directiveName,m.require,D,b),S)}h=h||{};for(var w,$,C,T,F,M,k=-Number.MAX_VALUE,O=h.controllerDirectives,L=h.newIsolateScopeDirective,R=h.templateDirective,_=h.nonTlbTranscludeDirective,K=!1,q=!1,G=h.hasElementTranscludeDirective,Q=l.$$element=br(o),z=c,J=0,Z=e.length;Z>J;J++){C=e[J];var X=C.$$start,rt=C.$$end;if(X&&(Q=I(o,X,rt)),F=n,k>C.priority)break;if((F=C.scope)&&(C.templateUrl||(y(F)?(V("new/isolated scope",L||w,C,Q),L=C):V("new/isolated scope",L,C,Q)),w=w||C),T=C.name,!C.templateUrl&&C.controller&&(F=C.controller,O=O||{},V("'"+T+"' controller",O[T],C,Q),O[T]=C),(F=C.transclude)&&(K=!0,C.$$tlb||(V("transclusion",_,C,Q),_=C),"element"==F?(G=!0,k=C.priority,F=Q,Q=l.$$element=br(t.createComment(" "+T+": "+l[T]+" ")),o=Q[0],et(u,Tr.call(F,0),o),z=P(F,c,k,d&&d.name,{nonTlbTranscludeDirective:_})):(F=br(ut(o)).contents(),Q.empty(),z=P(F,c))),C.template)if(q=!0,V("template",R,C,Q),R=C,F=D(C.template)?C.template(Q,l):C.template,F=st(F),C.replace){if(d=C,F=Zr.test(F)?Kt(j(C.templateNamespace,Nr(F))):[],o=F[0],1!=F.length||o.nodeType!==Kr)throw fi("tplrt",T,"");et(u,Q,o),Z={$attr:{}},F=N(o,[],Z);var at=e.splice(J+1,e.length-(J+1));L&&W(F),e=e.concat(F).concat(at),Y(l,Z),Z=e.length}else Q.html(F);if(C.templateUrl)q=!0,V("template",R,C,Q),R=C,C.replace&&(d=C),S=H(e.splice(J,e.length-J),Q,l,u,K&&z,p,f,{controllerDirectives:O,newIsolateScopeDirective:L,templateDirective:R,nonTlbTranscludeDirective:_}),Z=e.length;else if(C.compile)try{M=C.compile(Q,l,z),D(M)?m(null,M,X,rt):M&&m(M.pre,M.post,X,rt)}catch(ot){i(ot,B(Q))}C.terminal&&(S.terminal=!0,k=Math.max(k,C.priority))}return S.scope=w&&!0===w.scope,S.transcludeOnThisElement=K,S.elementTranscludeOnThisElement=G,S.templateOnThisElement=q,S.transclude=z,h.hasElementTranscludeDirective=G,S}function W(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function K(t,r,a,o,s,c,u){if(r===s)return null;if(s=null,l.hasOwnProperty(r)){var d;r=e.get(r+"Directive");for(var f=0,h=r.length;h>f;f++)try{d=r[f],(o===n||o>d.priority)&&-1!=d.restrict.indexOf(a)&&(c&&(d=p(d,{$$start:c,$$end:u})),t.push(d),s=d)}catch(g){i(g)}}return s}function q(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),r=0,i=n.length;i>r;r++)if(t=n[r],t.multiElement)return!0;return!1}function Y(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(O(i,t),e.class=(e.class?e.class+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function H(e,t,n,r,i,s,l,c){var u,d,f=[],h=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=D(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,A=g.templateNamespace;return t.empty(),o(C.getTrustedResourceUrl(v)).then(function(o){var p,b;if(o=st(o),g.replace){if(o=Zr.test(o)?Kt(j(A,Nr(o))):[],p=o[0],1!=o.length||p.nodeType!==Kr)throw fi("tplrt",g.name,v);
o={$attr:{}},et(r,t,p);var S=N(p,[],o);y(g.scope)&&W(S),e=S.concat(e),Y(n,o)}else p=h,t.html(o);for(e.unshift(m),u=_(e,p,n,i,t,g,s,l,c),a(r,function(e,n){e==p&&(r[n]=t[0])}),d=L(t[0].childNodes,i);f.length;){o=f.shift(),b=f.shift();var D=f.shift(),w=f.shift(),S=t[0];if(!o.$$destroyed){if(b!==h){var $=b.className;c.hasElementTranscludeDirective&&g.replace||(S=ut(p)),et(D,br(b),S),O(br(S),$)}b=u.transcludeOnThisElement?R(o,u.transclude,w):w,u(d,o,S,r,b)}}f=null}),function(e,t,n,r,i){e=i,t.$$destroyed||(f?f.push(t,n,r,e):(u.transcludeOnThisElement&&(e=R(t,u.transclude,i)),u(d,t,n,r,e)))}}function G(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function V(e,t,n,r){if(t)throw fi("multidir",t.name,n.name,e,B(r))}function Q(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&P.$$addBindingClass(e),function(e,r){var i=r.parent();t||P.$$addBindingClass(i),P.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){r[0].nodeValue=e})}}})}function j(e,n){switch(e=$r(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function J(e,t){if("srcdoc"==t)return C.HTML;var n=M(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function X(e,t,n,i,a){var o=J(e,i);a=m[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===M(e))throw fi("selmulti",B(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers={}),S.test(i))throw fi("nodomevents");var c=l[i];c!==n&&(s=c&&r(c,!0,o,a),n=c),s&&(l[i]=s(e),(t[i]||(t[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function et(e,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r,a=i+s-1;for(var c=e.length;c>i;i++,a++)c>a?e[i]=e[a]:delete e[i];e.length-=s-1,e.context===o&&(e.context=r);break}for(l&&l.replaceChild(r,o),e=t.createDocumentFragment(),e.appendChild(o),br(r).data(br(o).data()),Sr?(Lr=!0,Sr.cleanData([o])):delete br.cache[o[br.expando]],o=1,s=n.length;s>o;o++)l=n[o],br(l).remove(),e.appendChild(l),delete n[o];n[0]=r,n.length=1}function tt(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function nt(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(s){i(s,B(n))}}var it=function(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e};it.prototype={$normalize:_t,$addClass:function(e){e&&0<e.length&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Wt(e,t);n&&n.length&&T.addClass(this.$$element,n),(n=Wt(t,e))&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,r,o){var s=this.$$element[0],l=xt(s,e),c=Ct(s,e),s=e;if(l?(this.$$element.prop(e,t),o=l):c&&(this[c]=t,s=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e])||(this.$attr[e]=o=z(e,"-")),l=M(this.$$element),"a"===l&&"href"===e||"img"===l&&"src"===e)this[e]=t=F(t,"src"===e);else if("img"===l&&"srcset"===e){for(var l="",c=Nr(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(c)?u:/(,)/,c=c.split(u),u=Math.floor(c.length/2),d=0;u>d;d++)var p=2*d,l=l+F(Nr(c[p]),!0),l=l+(" "+Nr(c[p+1]));c=Nr(c[2*d]).split(/\s/),l+=F(Nr(c[0]),!0),2===c.length&&(l+=" "+Nr(c[1])),this[e]=t=l}!1!==r&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t)),(e=this.$$observers)&&a(e[s],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=rt()),i=r[e]||(r[e]=[]);return i.push(t),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){k(i,t)}}};var at=r.startSymbol(),ot=r.endSymbol(),st="{{"==at||"}}"==ot?h:function(e){return e.replace(/\{\{/g,at).replace(/}}/g,ot)},lt=/^ngAttr[A-Z]/;return P.$$addBindingInfo=w?function(e,t){var n=e.data("$binding")||[];Rr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,P.$$addBindingClass=w?function(e){O(e,"ng-binding")}:f,P.$$addScopeInfo=w?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:f,P.$$addScopeClass=w?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:f,P}]}function _t(e){return ot(e.replace(hi,""))}function Wt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),a=0;e:for(;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(0<n.length?" ":"")+o}return n}function Kt(e){e=br(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Fr.call(e,t,1);return e}function qt(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){et(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(a,o){function s(e,t,n,i){if(!e||!y(e.$scope))throw r("$controller")("noscp",i,t);e.$scope[t]=n}return function(r,l,c,d){var p,f,h;if(c=!0===c,d&&A(d)&&(h=d),A(r)){if(d=r.match(i),!d)throw gi("ctrlfmt",r);f=d[1],h=h||d[3],r=e.hasOwnProperty(f)?e[f]:tt(l.$scope,f,!0)||(t?tt(o,f,!0):n),X(r,f,!0)}return c?(c=(Rr(r)?r[r.length-1]:r).prototype,p=Object.create(c||null),h&&s(l,h,p,f||r.name),u(function(){return a.invoke(r,p,l,f),p},{instance:p,identifier:h})):(p=a.instantiate(r,l,f),h&&s(l,h,p,f||r.name),p)}}]}function Yt(){this.$get=["$window",function(e){return br(e.document)}]}function Ht(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Gt(e,t){if(A(e)){var n=e.replace(bi,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(mi))||(r=(r=n.match(yi))&&Ai[r[0]].test(n)),r&&(e=U(n))}}return e}function Vt(e){var t,n,r,i=rt();return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=$r(Nr(e.substr(0,r))),n=Nr(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function Qt(e){var t=y(e)?e:n;return function(n){return t||(t=Vt(e)),n?(n=t[$r(n)],void 0===n&&(n=null),n):t}}function jt(e,t,n,r){return D(r)?r(e,t,n):(a(r,function(r){e=r(e,t,n)}),e)}function zt(){var e=this.defaults={transformResponse:[Gt],transformRequest:[function(e){return y(e)&&"[object File]"!==kr.call(e)&&"[object Blob]"!==kr.call(e)&&"[object FormData]"!==kr.call(e)?I(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:P(vi),put:P(vi),patch:P(vi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return v(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,l,c,d,p,f){function h(t){function i(e){var t=u({},e);return t.data=e.data?jt(e.data,e.headers,e.status,s.transformResponse):e.data,e=e.status,e>=200&&300>e?t:p.reject(t)}function o(e){var t,n={};return a(e,function(e,r){D(e)?(t=e(),null!=t&&(n[r]=t)):n[r]=e}),n}if(!Pr.isObject(t))throw r("$http")("badreq",t);var s=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);s.headers=function(t){var n,r,i=e.headers,a=u({},t.headers),i=u({},i.common,i[$r(t.method)]);e:for(n in i){t=$r(n);for(r in a)if($r(r)===t)continue e;a[n]=i[n]}return o(a)}(t),s.method=Cr(s.method);var l=[function(t){var r=t.headers,o=jt(t.data,Qt(r),n,t.transformRequest);return m(o)&&a(r,function(e,t){"content-type"===$r(t)&&delete r[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,o).then(i,i)},n],c=p.when(s);for(a($,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var d=l.shift(),c=c.then(t,d)}return c.success=function(e){return X(e,"fn"),c.then(function(t){e(t.data,t.status,t.headers,s)}),c},c.error=function(e){return X(e,"fn"),c.then(null,function(t){e(t.data,t.status,t.headers,s)}),c},c}function g(r,i){function a(e,n,r,i){function a(){o(n,e,r,i)}f&&(e>=200&&300>e?f.put(x,[e,n,Vt(r),i]):f.remove(x)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function o(e,t,n,i){t=Math.max(t,0),(t>=200&&300>t?A.resolve:A.reject)({data:e,status:t,headers:Qt(n),config:r,statusText:i})}function c(e){o(e.data,e.status,P(e.headers()),e.statusText)}function u(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var f,g,A=p.defer(),S=A.promise,$=r.headers,x=b(r.url,r.params);return h.pendingRequests.push(r),S.then(u,u),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(f=y(r.cache)?r.cache:y(e.cache)?e.cache:w),f&&(g=f.get(x),v(g)?g&&D(g.then)?g.then(c,c):Rr(g)?o(g[1],g[0],P(g[2]),g[3]):o(g,200,{},"OK"):f.put(x,S)),m(g)&&((g=qn(r.url)?l.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n)&&($[r.xsrfHeaderName||e.xsrfHeaderName]=g),s(r.method,x,i,a,$,r.timeout,r.withCredentials,r.responseType)),S}function b(e,t){if(!t)return e;var n=[];return o(t,function(e,t){null===e||m(e)||(Rr(e)||(e=[e]),a(e,function(e){y(e)&&(e=S(e)?e.toISOString():I(e)),n.push(Y(t)+"="+Y(e))}))}),0<n.length&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var w=c("$http"),$=[];return a(i,function(e){$.unshift(A(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],function(){a(arguments,function(e){h[e]=function(t,n){return h(u(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(){a(arguments,function(e){h[e]=function(t,n,r){return h(u(r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function Jt(){return new e.XMLHttpRequest}function Zt(){this.$get=["$browser","$window","$document",function(e,t,n){return Xt(e,Jt,e.defer,t.angular.callbacks,n[0])}]}function Xt(e,t,r,i,o){function s(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){r.removeEventListener("load",a,!1),r.removeEventListener("error",a,!1),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},r.addEventListener("load",a,!1),r.addEventListener("error",a,!1),o.body.appendChild(r),a}return function(o,l,c,u,d,p,h,g){function m(){b&&b(),S&&S.abort()}function y(t,i,a,o,s){$!==n&&r.cancel($),b=S=null,t(i,a,o,s),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==$r(o)){var A="_"+(i.counter++).toString(36);i[A]=function(e){i[A].data=e,i[A].called=!0};var b=s(l.replace("JSON_CALLBACK","angular.callbacks."+A),A,function(e,t){y(u,e,i[A].data,"",t),i[A]=f})}else{var S=t();if(S.open(o,l,!0),a(d,function(e,t){v(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"==Kn(l).protocol?404:0),y(u,n,t,S.getAllResponseHeaders(),e)},o=function(){y(u,-1,null,null,"")},S.onerror=o,S.onabort=o,h&&(S.withCredentials=!0),g)try{S.responseType=g}catch(w){if("json"!==g)throw w}S.send(c||null)}if(p>0)var $=r(m,p);else p&&D(p.then)&&p.then(m)}}function en(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(a,o,p,f){function h(n){return n.replace(c,e).replace(d,t)}function g(e){try{var t=e;e=p?i.getTrusted(p,t):i.valueOf(t);var n;if(f&&!v(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=I(e)}n=e}return n}catch(o){n=Si("interr",a,o.toString()),r(n)}}f=!!f;for(var y,A,b=0,S=[],w=[],$=a.length,x=[],C=[];$>b;){if(-1==(y=a.indexOf(e,b))||-1==(A=a.indexOf(t,y+s))){b!==$&&x.push(h(a.substring(b)));break}b!==y&&x.push(h(a.substring(b,y))),b=a.substring(y+s,A),S.push(b),w.push(n(b,g)),b=A+l,C.push(x.length),x.push("")}if(p&&1<x.length)throw Si("noconcat",a);if(!o||S.length){var T=function(e){for(var t=0,n=S.length;n>t;t++){if(f&&m(e[t]))return;x[C[t]]=e[t]}return x.join("")};return u(function(e){var t=0,n=S.length,i=Array(n);try{for(;n>t;t++)i[t]=w[t](e);return T(i)}catch(o){e=Si("interr",a,o.toString()),r(e)}},{exp:a,expressions:S,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(w,function(n,i){var a=T(n);D(t)&&t.call(this,a,n!==i?r:a,e),r=a},n)}})}}var s=e.length,l=t.length,c=new RegExp(e.replace(/./g,a),"g"),d=new RegExp(t.replace(/./g,a),"g");return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function tn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,o,s,l){var c=t.setInterval,u=t.clearInterval,d=0,p=v(l)&&!l,f=(p?r:n).defer(),h=f.promise;return s=v(s)?s:0,h.then(null,null,i),h.$$intervalId=c(function(){f.notify(d++),s>0&&d>=s&&(f.resolve(d),u(h.$$intervalId),delete a[h.$$intervalId]),p||e.$apply()},o),a[h.$$intervalId]=f,h}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function rn(e){e=e.split("/");for(var t=e.length;t--;)e[t]=q(e[t]);return e.join("/")}function an(e,t){var n=Kn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||wi[n.protocol]||null}function on(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Kn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=W(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function sn(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function ln(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function cn(e){return e.replace(/(#.+)|#$/,"$1")}function un(e){return e.substr(0,ln(e).lastIndexOf("/")+1)}function dn(e,t){this.$$html5=!0,t=t||"";var r=un(e);an(e,this),this.$$parse=function(e){var t=sn(r,e);if(!A(t))throw $i("ipthprfx",e,r);on(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),t=this.$$hash?"#"+q(this.$$hash):"";this.$$url=rn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,s;return(o=sn(e,i))!==n?(s=o,s=(o=sn(t,o))!==n?r+(sn("/",o)||o):e+s):(o=sn(r,i))!==n?s=r+o:r==i+"/"&&(s=r),s&&this.$$parse(s),!!s}}function pn(e,t){var n=un(e);an(e,this),this.$$parse=function(r){r=sn(e,r)||sn(n,r);var i;"#"===r.charAt(0)?(i=sn(t,r),m(i)&&(i=r)):i=this.$$html5?r:"",on(i,this),r=this.$$path;var a=/^\/[A-Z]:(\/.*)/;0===i.indexOf(e)&&(i=i.replace(e,"")),a.exec(i)||(r=(i=a.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+q(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t){return ln(e)==ln(t)?(this.$$parse(t),!0):!1}}function fn(e,t){this.$$html5=!0,pn.apply(this,arguments);var n=un(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==ln(r)?a=r:(o=sn(n,r))?a=e+t+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+q(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function hn(e){return function(){return this[e]}}function gn(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function mn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return v(t)?(e=t,this):e},this.html5Mode=function(e){return C(e)?(t.enabled=e,this):y(e)?(C(e.enabled)&&(t.enabled=e.enabled),C(e.requireBase)&&(t.requireBase=e.requireBase),C(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(e,t,n){var i=c.url(),a=c.$$state;try{r.url(e,t,n),c.$$state=r.state()}catch(o){throw c.url(i),c.$$state=a,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u;u=r.baseHref();var d,p=r.url();if(t.enabled){if(!u&&t.requireBase)throw $i("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(u||"/"),u=i.history?dn:fn}else d=ln(p),u=pn;c=new u(d,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=r.state();var f=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=br(e.target);"a"!==M(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Kn(s.animVal).href),f.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(s,l)||(e.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),cn(c.absUrl())!=cn(p)&&r.url(c.absUrl(),!0);var h=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=c.absUrl(),a=c.$$state;c.$$parse(e),c.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,c.absUrl()===e&&(r?(c.$$parse(i),c.$$state=a,s(i,!1,a)):(h=!1,l(i,a)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=cn(r.url()),t=cn(c.absUrl()),a=r.state(),o=c.$$replace,u=e!==t||c.$$html5&&i.history&&a!==c.$$state;(h||u)&&(h=!1,n.$evalAsync(function(){var t=c.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(r?(c.$$parse(e),c.$$state=a):(u&&s(t,o,a===c.$$state?null:c.$$state),l(e,a)))})),c.$$replace=!1}),c}]}function vn(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||f;e=!1;try{e=!!i.apply}catch(o){}return e?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function yn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Ci("isecfld",t);return e}function An(e,t){if(e){if(e.constructor===e)throw Ci("isecfn",t);if(e.window===e)throw Ci("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Ci("isecdom",t);if(e===Object)throw Ci("isecobj",t)}return e}function bn(e){return e.constant}function Sn(e,t,n,r,i){An(e,i),An(t,i),n=n.split(".");for(var a,o=0;1<n.length;o++){a=yn(n.shift(),i);var s=0===o&&t&&t[a]||e[a];s||(s={},e[a]=s),e=An(s,i)}return a=yn(n.shift(),i),An(e[a],i),e[a]=r}function Dn(e){return"constructor"==e}function wn(e,t,r,i,a,o,s){yn(e,o),yn(t,o),yn(r,o),yn(i,o),yn(a,o);var l=function(e){return An(e,o)},c=s||Dn(e)?l:h,u=s||Dn(t)?l:h,d=s||Dn(r)?l:h,p=s||Dn(i)?l:h,f=s||Dn(a)?l:h;return function(o,s){var l=s&&s.hasOwnProperty(e)?s:o;return null==l?l:(l=c(l[e]),t?null==l?n:(l=u(l[t]),r?null==l?n:(l=d(l[r]),i?null==l?n:(l=p(l[i]),a?null==l?n:l=f(l[a]):l):l):l):l)}}function $n(e,t){return function(n,r){return e(n,r,An,t)}}function xn(e,t,r){var i=t.expensiveChecks,o=i?Ni:Ri,s=o[e];if(s)return s;var l=e.split("."),c=l.length;if(t.csp)s=6>c?wn(l[0],l[1],l[2],l[3],l[4],r,i):function(e,t){var a,o=0;do a=wn(l[o++],l[o++],l[o++],l[o++],l[o++],r,i)(e,t),t=n,e=a;while(c>o);return a};else{var u="";i&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=i;a(l,function(e,t){yn(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||Dn(e))&&(n="eso("+n+", fe)",d=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;",t=new Function("s","l","eso","fe",u),t.toString=g(u),d&&(t=$n(t,r)),s=t}return s.sharedGetter=!0,s.assign=function(t,n,r){return Sn(t,r,e,n,e)},o[e]=s}function Cn(e){return D(e.valueOf)?e.valueOf():Ii.call(e)}function Tn(){var e=rt(),t=rt();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function o(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?o(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Cn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,r){var i,a=r.$$inputs||(r.$$inputs=o(r.inputs,[]));if(1===a.length){var l=s,a=a[0];return e.$watch(function(e){var t=a(e);return s(t,l)||(i=r(e),l=t&&Cn(t)),i},t,n)}for(var c=[],u=0,d=a.length;d>u;u++)c[u]=s;return e.$watch(function(e){for(var t=!1,n=0,o=a.length;o>n;n++){var l=a[n](e);(t||(t=!s(l,c[n])))&&(c[n]=l&&Cn(l))}return t&&(i=r(e)),i},t,n)}function c(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,D(t)&&t.apply(this,arguments),v(e)&&r.$$postDigest(function(){v(a)&&i()})},n)}function u(e,t,n,r){function i(e){var t=!0;return a(e,function(e){v(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return r(e)},function(e,n,r){s=e,D(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(){D(t)&&t.apply(this,arguments),i()},n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==u&&n!==c?function(n,r){var i=e(n,r);return t(i,n,r)}:function(n,r){var i=e(n,r),a=t(i,n,r);return v(i)?a:i};return e.$$watchDelegate&&e.$$watchDelegate!==l?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=l,n.inputs=[e]),n}var h={csp:r.csp,expensiveChecks:!1},g={csp:r.csp,expensiveChecks:!0};return function(r,a,o){var s,m,v;switch(typeof r){case"string":v=r=r.trim();var y=o?t:e;return s=y[v],s||(":"===r.charAt(0)&&":"===r.charAt(1)&&(m=!0,r=r.substring(2)),o=o?g:h,s=new Ei(o),s=new Li(s,n,o).parse(r),s.constant?s.$$watchDelegate=d:m?(s=i(s),s.$$watchDelegate=s.literal?u:c):s.inputs&&(s.$$watchDelegate=l),y[v]=s),p(s,a);case"function":return p(r,a);default:return p(f,a)}}}]}function Fn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return kn(function(t){e.$evalAsync(t)},t)}]}function Mn(){this.$get=["$browser","$exceptionHandler",function(e,t){return kn(function(t){e.defer(t)},t)}]}function kn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,e(function(){var e,i,a;a=r.pending,r.processScheduled=!1,r.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],e=a[o][r.status];try{D(e)?i.resolve(e(r.value)):1===r.status?i.resolve(r.value):i.reject(r.value)}catch(l){i.reject(l),t(l)}}}))}function c(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var u=r("$q",TypeError);o.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,!0,e)},function(t){return p(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(u("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(e)||D(e))&&(n=e&&e.then),D(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(a){r[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify(D(e)?e(n):n)}catch(s){t(s)}}})}};var d=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},p=function(e,t,n){var r=null;try{D(n)&&(r=n())}catch(i){return d(i,!1)}return r&&D(r.then)?r.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},f=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},h=function g(e){if(!D(e))throw u("norslvr",e);if(!(this instanceof g))return new g(e);var t=new c;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return h.defer=function(){return new c},h.reject=function(e){var t=new c;return t.reject(e),t.promise},h.when=f,h.all=function(e){var t=new c,n=0,r=Rr(e)?[]:{};return a(e,function(e,i){n++,f(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise},h}function On(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}c=u.length=0}function r(e){var t=u.length;return c++,u.push(e),0===t&&(l=s(n)),function(){t>=0&&(t=u[t]=null,0===--c&&l&&(l(),l=null,u.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!i,s=o?function(e){var t=i(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=o;var l,c=0,u=[];return r}]}function Pn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++Er,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,c,u){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=++Er,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(e){if(S.$$phase)throw n("inprog",S.$$phase);S.$$phase=e}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function v(){}function A(){for(;x.length;)try{x.shift()()}catch(e){l(e)}s=null}function b(){null===s&&(s=u.defer(function(){S.$apply(A)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var i=this.$$watchers,a={fn:t,last:v,get:r,exp:e,eq:!!n};return o=null,D(t)||(a.fn=f),i||(i=this.$$watchers=[]),i.unshift(a),function(){k(i,a),o=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(i,i,s)):t(i,r,s)}var r=Array(e.length),i=Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(i,i,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){i[0]=e,r[0]=n,t(i,e===n?i:r,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){i[t]=e,r[t]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,o,s;if(!m(r)){if(y(r))if(i(r))for(a!==p&&(a=p,g=a.length=0,u++),e=r.length,g!==e&&(u++,a.length=g=e),t=0;e>t;t++)s=a[t],o=r[t],n=s!==s&&o!==o,n||s===o||(u++,a[t]=o);else{a!==f&&(a=f={},g=0,u++),e=0;for(t in r)r.hasOwnProperty(t)&&(e++,o=r[t],s=a[t],t in a?(n=s!==s&&o!==o,n||s===o||(u++,a[t]=o)):(g++,a[t]=o,u++));if(g>e)for(t in u++,a)r.hasOwnProperty(t)||(g--,delete a[t])}else a!==r&&(a=r,u++);return u}}n.$stateful=!0;var r,a,o,s=this,l=1<t.length,u=0,d=c(e,n),p=[],f={},h=!0,g=0;return this.$watch(d,function(){if(h?(h=!1,t(r,r,s)):t(r,o,s),l)if(y(r))if(i(r)){o=Array(r.length);for(var e=0;e<r.length;e++)o[e]=r[e]}else for(e in o={},r)xr.call(r,e)&&(o[e]=r[e]);else o=r})},$digest:function(){var e,r,i,a,c,d,p,f,g,m=t,y=[];h("$digest"),u.$$checkUrlChange(),this===S&&null!==s&&(u.defer.cancel(s),A()),o=null;do{for(d=!1,p=this;w.length;){try{g=w.shift(),g.scope.$eval(g.expression,g.locals)}catch(b){l(b)}o=null}e:do{if(a=p.$$watchers)for(c=a.length;c--;)try{if(e=a[c])if((r=e.get(p))===(i=e.last)||(e.eq?E(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===o){d=!1;break e}}else d=!0,o=e,e.last=e.eq?O(r,null):r,e.fn(r,i===v?r:i,p),5>m&&(f=4-m,y[f]||(y[f]=[]),y[f].push({msg:D(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(x){l(x)}if(!(a=p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(a=p.$$nextSibling);)p=p.$parent}while(p=a);if((d||w.length)&&!m--)throw S.$$phase=null,n("infdig",t,y)}while(d||w.length);for(S.$$phase=null;$.length;)try{$.shift()()}catch(C){l(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==S){for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){S.$$phase||w.length||u.defer(function(){w.length&&S.$digest()}),w.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{return h("$apply"),this.$eval(e)}catch(t){l(t)}finally{S.$$phase=null;try{S.$digest()}catch(n){throw l(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&x.push(t),b()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,g(i,1,e))}},$emit:function(e){var t,n,r,i=[],a=this,o=!1,s={name:e,targetScope:a,stopPropagation:function(){o=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},c=L([s],arguments,1);do{for(t=a.$$listeners[e]||i,s.currentScope=a,n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){l(u)}else t.splice(n,1),n--,r--;if(o)return s.currentScope=null,s;a=a.$parent}while(a);return s.currentScope=null,s},$broadcast:function(e){var t=this,n=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0
},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var i,a,o=L([r],arguments,1);t=n;){for(r.currentScope=t,n=t.$$listeners[e]||[],i=0,a=n.length;a>i;i++)if(n[i])try{n[i].apply(null,o)}catch(s){l(s)}else n.splice(i,1),i--,a--;if(!(n=t.$$listenerCount[e]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(n=t.$$nextSibling);)t=t.$parent}return r.currentScope=null,r}};var S=new p,w=S.$$asyncQueue=[],$=S.$$postDigestQueue=[],x=S.$$applyAsyncQueue=[];return S}]}function En(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=Kn(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Ln(e){if("self"===e)return e;if(A(e)){if(-1<e.indexOf("***"))throw Ui("iwcard",e);return e=Ir(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(w(e))return new RegExp("^"+e.source+"$");throw Ui("imatcher")}function Rn(e){var t=[];return v(e)&&a(e,function(e){t.push(Ln(e))}),t}function Nn(){this.SCE_CONTEXTS=Bi;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Rn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Rn(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?qn(t):!!e.exec(t.href)}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(){throw Ui("unsafe")};r.has("$sanitize")&&(o=r.get("$sanitize"));var s=a(),l={};return l[Bi.HTML]=a(s),l[Bi.CSS]=a(s),l[Bi.URL]=a(s),l[Bi.JS]=a(s),l[Bi.RESOURCE_URL]=a(l[Bi.URL]),{trustAs:function(e,t){var r=l.hasOwnProperty(e)?l[e]:null;if(!r)throw Ui("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Ui("itype",e);return new r(t)},getTrusted:function(r,a){if(null===a||a===n||""===a)return a;var s=l.hasOwnProperty(r)?l[r]:null;if(s&&a instanceof s)return a.$$unwrapTrustedValue();if(r===Bi.RESOURCE_URL){var c,u,s=Kn(a.toString()),d=!1;for(c=0,u=e.length;u>c;c++)if(i(e[c],s)){d=!0;break}if(d)for(c=0,u=t.length;u>c;c++)if(i(t[c],s)){d=!1;break}if(d)return a;throw Ui("insecurl",a.toString())}if(r===Bi.HTML)return o(a);throw Ui("unsafe")},valueOf:function(e){return e instanceof s?e.$$unwrapTrustedValue():e}}}]}function In(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Ar)throw Ui("iequirks");var r=P(Bi);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=h),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a(Bi,function(e,t){var n=$r(t);r[ot("parse_as_"+n)]=function(t){return i(e,t)},r[ot("get_trusted_"+n)]=function(t){return o(e,t)},r[ot("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Un(){this.$get=["$window","$document",function(e,t){var n,r={},i=d((/android (\d+)/.exec($r((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,l=o.body&&o.body.style,c=!1,u=!1;if(l){for(var p in l)if(c=s.exec(p)){n=c[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!i||c&&u||(c=A(o.body.style.webkitTransition),u=A(o.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||a),hasEvent:function(e){if("input"===e&&11>=Ar)return!1;if(m(r[e])){var t=o.createElement("div");r[e]="on"+e in t}return r[e]},csp:Ur(),vendorPrefix:n,transitions:c,animations:u,android:i}}]}function Bn(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,a){r.totalPendingRequests++;var o=t.defaults&&t.defaults.transformResponse;return Rr(o)?o=o.filter(function(e){return e!==Gt}):o===Gt&&(o=null),t.get(i,{cache:e,transformResponse:o}).finally(function(){r.totalPendingRequests--}).then(function(e){return e.data},function(e){if(!a)throw fi("tpload",i);return n.reject(e)})}return r.totalPendingRequests=0,r}]}function _n(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return a(e,function(e){var i=Pr.element(e).data("$binding");i&&a(i,function(i){n?new RegExp("(^|\\s)"+Ir(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!=i.indexOf(t)&&r.push(e)})}),r},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function Wn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,l){var c=v(l)&&!l,u=(c?r:n).defer(),d=u.promise;return s=t.defer(function(){try{u.resolve(a())}catch(t){u.reject(t),i(t)}finally{delete o[d.$$timeoutId]}c||e.$apply()},s),d.$$timeoutId=s,o[s]=u,d}var o={};return a.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function Kn(e){return Ar&&(_i.setAttribute("href",e),e=_i.href),_i.setAttribute("href",e),{href:_i.href,protocol:_i.protocol?_i.protocol.replace(/:$/,""):"",host:_i.host,search:_i.search?_i.search.replace(/^\?/,""):"",hash:_i.hash?_i.hash.replace(/^#/,""):"",hostname:_i.hostname,port:_i.port,pathname:"/"===_i.pathname.charAt(0)?_i.pathname:"/"+_i.pathname}}function qn(e){return e=A(e)?Kn(e):e,e.protocol===Wi.protocol&&e.host===Wi.host}function Yn(){this.$get=g(e)}function Hn(e){function t(n,r){if(y(n)){var i={};return a(n,function(e,n){i[n]=t(n,e)}),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",jn),t("date",ir),t("filter",Gn),t("json",ar),t("limitTo",or),t("lowercase",Gi),t("number",zn),t("orderBy",sr),t("uppercase",Vi)}function Gn(){return function(e,t,n){if(!Rr(e))return e;var r;switch(null!==t?typeof t:"null"){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":t=Vn(t,n,r);break;default:return e}return e.filter(t)}}function Vn(e,t,n){var r=y(e)&&"$"in e;return!0===t?t=E:D(t)||(t=function(e,t){return m(e)?!1:null===e||null===t?e===t:y(e)||y(t)?!1:(e=$r(""+e),t=$r(""+t),-1!==e.indexOf(t))}),function(i){return r&&!y(i)?Qn(i,e.$,t,!1):Qn(i,e,t,n)}}function Qn(e,t,n,r,i){var a=null!==e?typeof e:"null",o=null!==t?typeof t:"null";if("string"===o&&"!"===t.charAt(0))return!Qn(e,t.substring(1),n,r);if(Rr(e))return e.some(function(e){return Qn(e,t,n,r)});switch(a){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Qn(e[s],t,n,!0))return!0;return i?!1:Qn(e,t,n,!1)}if("object"===o){for(s in t)if(i=t[s],!D(i)&&!m(i)&&(a="$"===s,!Qn(a?e:e[s],i,n,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function jn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return m(n)&&(n=t.CURRENCY_SYM),m(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Jn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function zn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Jn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Jn(e,t,n,r,i){if(!isFinite(e)||y(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",l=[],c=!1;if(-1!==o.indexOf("e")){var u=o.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>i+1?e=0:(s=o,c=!0)}if(c)i>0&&1>e&&(s=e.toFixed(i),e=parseFloat(s));else{o=(o.split(Ki)[1]||"").length,m(i)&&(i=Math.min(Math.max(t.minFrac,o),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var o=(""+e).split(Ki),c=o[0],o=o[1]||"",d=0,p=t.lgSize,f=t.gSize;if(c.length>=p+f)for(d=c.length-p,u=0;d>u;u++)0===(d-u)%f&&0!==u&&(s+=n),s+=c.charAt(u);for(u=d;u<c.length;u++)0===(c.length-u)%p&&0!==u&&(s+=n),s+=c.charAt(u);for(;o.length<i;)o+="0";i&&"0"!==i&&(s+=r+o.substr(0,i))}return 0===e&&(a=!1),l.push(a?t.negPre:t.posPre,s,a?t.negSuf:t.posSuf),l.join("")}function Zn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Xn(e,t,n,r){return n=n||0,function(i){return i=i["get"+e](),(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),Zn(i,t,r)}}function er(e,t){return function(n,r){var i=n["get"+e](),a=Cr(t?"SHORT"+e:e);return r[a][i]}}function tr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function nr(e){return function(t){var n=tr(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Zn(t,e)}}function rr(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function ir(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=d(t[9]+t[10]),i=d(t[9]+t[11])),a.call(e,d(t[1]),d(t[2])-1,d(t[3])),r=d(t[4]||0)-r,i=d(t[5]||0)-i,a=d(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,r,i,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,l="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,A(n)&&(n=Hi.test(n)?d(n):t(n)),b(n)&&(n=new Date(n)),!S(n))return n;for(;r;)(s=Yi.exec(r))?(c=L(c,s,1),r=c.pop()):(c.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),a(c,function(t){o=qi[t],l+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ar(){return function(e,t){return m(t)&&(t=2),I(e,t)}}function or(){return function(e,t){return b(e)&&(e=e.toString()),Rr(e)||A(e)?(t=1/0===Math.abs(Number(t))?Number(t):d(t))?t>0?e.slice(0,t):e.slice(t):A(e)?"":[]:e}}function sr(e){return function(t,n,r){function a(e,t){return t?function(t,n){return e(n,t)}:e}function o(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function s(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),o(e))||"function"==typeof e.toString&&(e=e.toString(),o(e))?e:""}function l(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=s(e),t=s(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=Rr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||h;if(A(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(l,n);if(r=e(t),r.constant){var i=r();return a(function(e,t){return l(e[i],t[i])},n)}}return a(function(e,t){return l(r(e),r(t))},n)}),Tr.call(t).sort(a(function(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0},r))):t}}function lr(e){return D(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function cr(e,t,r,i,o){var s=this,l=[],c=s.$$parentForm=e.parent().controller("form")||zi;s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){a(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){et(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),a(s.$$success,function(t,n){s.$setValidity(n,null,e)}),k(l,e)},vr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(k(r,n),0===r.length&&delete e[t])},parentForm:c,$animate:i}),s.$setDirty=function(){i.removeClass(e,Oa),i.addClass(e,Pa),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){i.setClass(e,Oa,Pa+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(l,function(e){e.$setPristine()})},s.$setUntouched=function(){a(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,"ng-submitted"),s.$submitted=!0,c.$setSubmitted()}}function ur(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function dr(e,t,n,r,i,a){var o=$r(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,l()})}var l=function(e){if(c&&(a.defer.cancel(c),c=null),!s){var i=t.val();e=e&&e.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=Nr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",l);else{var c,u=function(e,t,n){c||(c=a.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function pr(e,t){return function(n,r){var i,o;if(S(n))return n;if(A(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ea.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return 0/0}}function fr(e,t,r,i){return function(a,o,s,l,c,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return v(e)?S(e)?e:r(e):n}hr(a,o,s,l),dr(a,o,s,l,c,u);var h,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){return l.$isEmpty(e)?null:t.test(e)?(e=r(e,h),"UTC"===g&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e):n}),l.$formatters.push(function(e){if(e&&!S(e))throw La("datefmt",e);if(p(e)){if((h=e)&&"UTC"===g){var t=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+t)}return d("date")(e,i,g)}return h=null,""}),v(s.min)||s.ngMin){var y;l.$validators.min=function(e){return!p(e)||m(y)||r(e)>=y},s.$observe("min",function(e){y=f(e),l.$validate()})}if(v(s.max)||s.ngMax){var A;l.$validators.max=function(e){return!p(e)||m(A)||r(e)<=A},s.$observe("max",function(e){A=f(e),l.$validate()})}}}function hr(e,t,r,i){(i.$$hasNativeValidators=y(t[0].validity))&&i.$parsers.push(function(e){var r=t.prop("validity")||{};return r.badInput&&!r.typeMismatch?n:e})}function gr(e,t,n,i,a){if(v(i)){if(e=e(i),!e.constant)throw r("ngModel")("constexpr",n,i);return e(t)}return a}function mr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(!Rr(e)){if(A(e))return e.split(" ");if(y(e)){var t=[];return a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}}return e}return{restrict:"AC",link:function(o,s,l){function c(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function u(e){if(!0===t||o.$index%2===t){var a=i(e||[]);if(d){if(!E(e,d)){var u=i(d),p=r(a,u),a=r(u,a),p=c(p,1),a=c(a,-1);p&&p.length&&n.addClass(s,p),a&&a.length&&n.removeClass(s,a)}}else{var p=c(a,1);l.$addClass(p)}}d=P(e)}var d;o.$watch(l[e],u,!0),l.$observe("class",function(){u(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(l[e]));a===t?(a=c(s,1),l.$addClass(a)):(a=c(s,-1),l.$removeClass(a))}})}}}]}function vr(e){function t(e,t){t&&!o[e]?(u.addClass(a,e),o[e]=!0):!t&&o[e]&&(u.removeClass(a,e),o[e]=!1)}function r(e,n){e=e?"-"+z(e,"-"):"",t(Ma+e,!0===n),t(ka+e,!1===n)}var i=e.ctrl,a=e.$element,o={},s=e.set,l=e.unset,c=e.parentForm,u=e.$animate;o[ka]=!(o[Ma]=a.hasClass(Ma)),i.$setValidity=function(e,a,o){a===n?(i.$pending||(i.$pending={}),s(i.$pending,e,o)):(i.$pending&&l(i.$pending,e,o),yr(i.$pending)&&(i.$pending=n)),C(a)?a?(l(i.$error,e,o),s(i.$$success,e,o)):(s(i.$error,e,o),l(i.$$success,e,o)):(l(i.$error,e,o),l(i.$$success,e,o)),i.$pending?(t(Ea,!0),i.$valid=i.$invalid=n,r("",null)):(t(Ea,!1),i.$valid=yr(i.$error),i.$invalid=!i.$valid,r("",i.$valid)),a=i.$pending&&i.$pending[e]?n:i.$error[e]?!1:i.$$success[e]?!0:null,r(e,a),c.$setValidity(e,a,i)}}function yr(e){if(e)for(var t in e)return!1;return!0}var Ar,br,Sr,Dr,wr=/^\/(.+)\/([a-z]*)$/,$r=function(e){return A(e)?e.toLowerCase():e},xr=Object.prototype.hasOwnProperty,Cr=function(e){return A(e)?e.toUpperCase():e},Tr=[].slice,Fr=[].splice,Mr=[].push,kr=Object.prototype.toString,Or=r("ng"),Pr=e.angular||(e.angular={}),Er=0;Ar=t.documentMode,f.$inject=[],h.$inject=[];var Lr,Rr=Array.isArray,Nr=function(e){return A(e)?e.trim():e},Ir=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ur=function(){if(v(Ur.isActive_))return Ur.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return Ur.isActive_=e},Br=["ng-","data-ng-","ng:","x-ng-"],_r=/[A-Z]/g,Wr=!1,Kr=1,qr=3,Yr={full:"1.3.16",major:1,minor:3,dot:16,codeName:"cookie-oatmealification"};ct.expando="ng339";var Hr=ct.cache={},Gr=1;ct._data=function(e){return this.cache[e[this.expando]]||{}};var Vr=/([\:\-\_]+(.))/g,Qr=/^moz([A-Z])/,jr={mouseleave:"mouseout",mouseenter:"mouseover"},zr=r("jqLite"),Jr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Zr=/<|&#?\w+;/,Xr=/<([\w:]+)/,ei=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ti={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ti.optgroup=ti.option,ti.tbody=ti.tfoot=ti.colgroup=ti.caption=ti.thead,ti.th=ti.td;var ni=ct.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ct(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return br(e>=0?this[e]:this[this.length+e])},length:0,push:Mr,sort:[].sort,splice:[].splice},ri={};a("multiple selected checked disabled readOnly required open".split(" "),function(e){ri[$r(e)]=e});var ii={};a("input select option textarea button form details".split(" "),function(e){ii[e]=!0});var ai={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:gt,removeData:ft},function(e,t){ct[t]=e}),a({data:gt,inheritedData:St,scope:function(e){return br.data(e,"$scope")||St(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return br.data(e,"$isolateScope")||br.data(e,"$isolateScopeNoTemplate")},controller:bt,injector:function(e){return St(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:mt,css:function(e,t,n){return t=ot(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==qr&&2!==i&&8!==i)if(i=$r(t),ri[i]){if(!v(r))return e[t]||(e.attributes.getNamedItem(t)||f).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(v(r))e.setAttribute(t,r);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return n===Kr||n===qr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===M(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return m(t)?e.innerHTML:(dt(e,!0),void(e.innerHTML=t))},empty:Dt},function(e,t){ct.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==Dt&&(2==e.length&&e!==mt&&e!==bt?t:r)===n){if(y(t)){for(i=0;o>i;i++)if(e===gt)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(i=e.$dv,o=i===n?Math.min(o,1):o,a=0;o>a;a++){var s=e(this[a],t,r);i=i?i+s:s}return i}for(i=0;o>i;i++)e(this[i],t,r);return this}}),a({removeData:ft,on:function ao(e,t,n,r){if(v(r))throw zr("onargs");if(st(e)){var i=ht(e,!0);r=i.events;var a=i.handle;a||(a=i.handle=Tt(e,r));for(var i=0<=t.indexOf(" ")?t.split(" "):[t],o=i.length;o--;){t=i[o];var s=r[t];s||(r[t]=[],"mouseenter"===t||"mouseleave"===t?ao(e,jr[t],function(e){var n=e.relatedTarget;n&&(n===this||this.contains(n))||a(e,t)}):"$destroy"!==t&&e.addEventListener(t,a,!1),s=r[t]),s.push(n)}}},off:pt,one:function(e,t,n){e=br(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;dt(e),a(new ct(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===Kr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Kr||11===n){t=new ct(t);for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===Kr){var n=e.firstChild;a(new ct(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=br(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:wt,detach:function(e){wt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new ct(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:yt,removeClass:vt,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;m(r)&&(r=!mt(e,t)),(r?yt:vt)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ut,triggerHandler:function(e,t,n){var r,i,o=t.type||t,s=ht(e);(s=(s=s&&s.events)&&s[o])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:o,target:e},t.type&&(r=u(r,t)),t=P(s),i=n?[r].concat(n):[r],a(t,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(e,t){ct.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)m(i)?(i=e(this[a],t,n,r),v(i)&&(i=br(i))):At(i,e(this[a],t,n,r));return v(i)?i:this},ct.prototype.bind=ct.prototype.on,ct.prototype.unbind=ct.prototype.off}),kt.prototype={put:function(e,t){this[Mt(e,this.nextUid)]=t},get:function(e){return this[Mt(e,this.nextUid)]},remove:function(e){var t=this[e=Mt(e,this.nextUid)];return delete this[e],t}};var oi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,si=/,/,li=/^\s*(_?)(\S+?)\1\s*$/,ci=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ui=r("$injector");Pt.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw A(n)&&n||(n=e.name||Ot(e)),ui("strictdi",n);t=e.toString().replace(ci,""),t=t.match(oi),a(t[1].split(si),function(e){e.replace(li,function(e,t,n){r.push(n)})})}e.$inject=r}}else Rr(e)?(t=e.length-1,X(e[t],"fn"),r=e.slice(0,t)):X(e,"fn",!0);return r};var di=r("$animate"),pi=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw di("notcsel",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=rt();return a((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),a(t,function(e,t){var a=i[t];!1===e&&a?r.push(t):!0!==e||a||n.push(t)}),0<n.length+r.length&&[n.length?n:null,r.length?r:null]}function o(e,t,n){for(var r=0,i=t.length;i>r;++r)e[t[r]]=n}function s(){return c||(c=e.defer(),t(function(){c.resolve(),c=null})),c.promise}function l(e,t){if(Pr.isObject(t)){var n=u(t.from||{},t.to||{});e.css(n)}}var c;return{animate:function(e,t,n){return l(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return l(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return l(e,t),e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=br(e),t=A(t)?t:Rr(t)?t.join(" "):"",a(e,function(e){yt(e,t)}),l(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=br(e),t=A(t)?t:Rr(t)?t.join(" "):"",a(e,function(e){vt(e,t)}),l(e,n),s()},setClass:function(e,t,n,a){var s=this,l=!1;e=br(e);var c=e.data("$$animateClasses");return c?a&&c.options&&(c.options=Pr.extend(c.options||{},a)):(c={classes:{},options:a},l=!0),a=c.classes,t=Rr(t)?t:t.split(" "),n=Rr(n)?n:n.split(" "),o(a,t,!0),o(a,n,!1),l&&(c.promise=r(function(t){var n=e.data("$$animateClasses");if(e.removeData("$$animateClasses"),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data("$$animateClasses",c)),c.promise},$$setClassImmediately:function(e,t,n,r){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),l(e,r),s()},enabled:f,cancel:f}}]}],fi=r("$compile");Bt.$inject=["$provide","$$sanitizeUriProvider"];var hi=/^((?:x|data)[\:\-_])/i,gi=r("$controller"),mi="application/json",vi={"Content-Type":mi+";charset=utf-8"},yi=/^\[|^\{(?!\{)/,Ai={"[":/]$/,"{":/}$/},bi=/^\)\]\}',?\n/,Si=r("$interpolate"),Di=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,wi={http:80,https:443,ftp:21},$i=r("$location"),xi={$$html5:!1,$$replace:!1,absUrl:hn("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=Di.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:hn("$$protocol"),host:hn("$$host"),port:hn("$$port"),path:gn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(A(e)||b(e))e=e.toString(),this.$$search=W(e);else{if(!y(e))throw $i("isrcharg");e=O(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:gn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([fn,pn,dn],function(e){e.prototype=Object.create(xi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==dn||!this.$$html5)throw $i("nostate");return this.$$state=m(t)?null:t,this}});var Ci=r("$parse"),Ti=Function.prototype.call,Fi=Function.prototype.apply,Mi=Function.prototype.bind,ki=rt();a({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,ki[t]=e}),ki.this=function(e){return e},ki.this.sharedGetter=!0;var Oi=u(rt(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),v(r)?v(i)?r+i:r:v(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(v(n)?n:0)-(v(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),Pi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ei=function(e){this.options=e};Ei.prototype={constructor:Ei,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=Oi[t],i=Oi[n];Oi[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Ci("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=$r(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),r=r+a;if(i)"u"===a?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=Pi[a]||a,i=!1;else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Li=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};Li.ZERO=u(function(){return 0},{sharedGetter:!0,constant:!0}),Li.prototype={constructor:Li,parse:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in ki?e=ki[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");
return e},throwError:function(e,t){throw Ci("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Ci("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var a=e.text;if(a===t||a===n||a===r||a===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.tokens.shift(),e):!1},consume:function(e){if(0===this.tokens.length)throw Ci("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=Oi[e];return u(function(e,r){return n(e,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){var i=Oi[t];return u(function(t,r){return i(t,r,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return xn(e,this.options,this.text)},constant:function(){var e=this.consume().value;return u(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,a=e.length;a>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},filter:function(e){var t,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var a=[e].concat(t||[]);return u(function(a,o){var s=e(a,o);if(r){for(r[0]=s,s=t.length;s--;)r[s+1]=t[s](a,o);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&a.every(bn),inputs:!i.$stateful&&a})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),u(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t=this.logicalOR();if(this.expect("?")&&(e=this.assignment(),this.consume(":"))){var n=this.assignment();return u(function(r,i){return t(r,i)?e(r,i):n(r,i)},{constant:t.constant&&e.constant&&n.constant})}return t},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Li.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return u(function(r,i,a){return r=a||e(r,i),null==r?n:t(r)},{assign:function(n,r,i){var a=e(n,i);return a||e.assign(n,a={},i),t.assign(a,r)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),u(function(i,a){var o=e(i,a),s=r(i,a);return yn(s,t),o?An(o[s],t):n},{assign:function(n,i,a){var o=yn(r(n,a),t),s=An(e(n,a),t);return s||e.assign(n,s={},a),s[o]=i}})},functionCall:function(e,t){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,a=r.length?[]:null;return function(o,s){var l=t?t(o,s):v(t)?n:o,c=e(o,s,l)||f;if(a)for(var u=r.length;u--;)a[u]=An(r[u](o,s),i);if(An(l,i),c){if(c.constructor===c)throw Ci("isecfn",i);if(c===Ti||c===Fi||c===Mi)throw Ci("isecff",i)}return l=c.apply?c.apply(l,a):c(a[0],a[1],a[2],a[3],a[4]),a&&(a.length=0),An(l,i)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),u(function(t,n){for(var r=[],i=0,a=e.length;a>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(bn),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),u(function(n,r){for(var i={},a=0,o=t.length;o>a;a++)i[e[a]]=t[a](n,r);return i},{literal:!0,constant:t.every(bn),inputs:t})}};var Ri=rt(),Ni=rt(),Ii=Object.prototype.valueOf,Ui=r("$sce"),Bi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},fi=r("$compile"),_i=t.createElement("a"),Wi=Kn(e.location.href);Hn.$inject=["$provide"],jn.$inject=["$locale"],zn.$inject=["$locale"];var Ki=".",qi={yyyy:Xn("FullYear",4),yy:Xn("FullYear",2,0,!0),y:Xn("FullYear",1),MMMM:er("Month"),MMM:er("Month",!0),MM:Xn("Month",2,1),M:Xn("Month",1,1),dd:Xn("Date",2),d:Xn("Date",1),HH:Xn("Hours",2),H:Xn("Hours",1),hh:Xn("Hours",2,-12),h:Xn("Hours",1,-12),mm:Xn("Minutes",2),m:Xn("Minutes",1),ss:Xn("Seconds",2),s:Xn("Seconds",1),sss:Xn("Milliseconds",3),EEEE:er("Day"),EEE:er("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(e>=0?"+":"")+(Zn(Math[e>0?"floor":"ceil"](e/60),2)+Zn(Math.abs(e%60),2))},ww:nr(2),w:nr(1),G:rr,GG:rr,GGG:rr,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Yi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Hi=/^\-?\d+$/;ir.$inject=["$locale"];var Gi=g($r),Vi=g(Cr);sr.$inject=["$parse"];var Qi=g({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===kr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),ji={};a(ri,function(e,t){if("multiple"!=e){var n=_t("ng-"+t);ji[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(ai,function(e,t){ji[t]=function(){return{priority:100,link:function(e,n,r){return"ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(wr))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(r[t],function(e){r.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=_t("ng-"+e);ji[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===kr.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){t?(i.$set(o,t),Ar&&a&&r.prop(a,i[o])):"href"===e&&i.$set(o,null)})}}}});var zi={$addControl:f,$$renameControl:function(e,t){e.$name=t},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};cr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ji=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:cr,compile:function(r,i){r.addClass(Oa).addClass(Ma);var a=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,o){if(!("action"in i)){var s=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};r[0].addEventListener("submit",s,!1),r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",s,!1)},0,!1)})}var l=o.$$parentForm;a&&(Sn(e,null,o.$name,o,o.$name),i.$observe(a,function(t){o.$name!==t&&(Sn(e,null,o.$name,n,o.$name),l.$$renameControl(o,t),Sn(e,null,o.$name,o,o.$name))})),r.on("$destroy",function(){l.$removeControl(o),a&&Sn(e,null,i[a],n,o.$name),u(o,zi)})}}}}}]},Zi=Ji(),Xi=Ji(!0),ea=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ta=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,na=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ra=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ia=/^(\d{4})-(\d{2})-(\d{2})$/,aa=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oa=/^(\d{4})-W(\d\d)$/,sa=/^(\d{4})-(\d\d)$/,la=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ca={text:function(e,t,n,r,i,a){dr(e,t,n,r,i,a),ur(r)},date:fr("date",ia,pr(ia,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fr("datetimelocal",aa,pr(aa,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:fr("time",la,pr(la,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fr("week",oa,function(e,t){if(S(e))return e;if(A(e)){oa.lastIndex=0;var n=oa.exec(e);if(n){var r=+n[1],i=+n[2],a=n=0,o=0,s=0,l=tr(r),i=7*(i-1);return t&&(n=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),s=t.getMilliseconds()),new Date(r,0,l.getDate()+i,n,a,o,s)}}return 0/0},"yyyy-Www"),month:fr("month",sa,pr(sa,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,r,i,a,o){if(hr(e,t,r,i),dr(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:ra.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!b(e))throw La("numfmt",e);e=e.toString()}return e}),v(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||m(s)||e>=s},r.$observe("min",function(e){v(e)&&!b(e)&&(e=parseFloat(e,10)),s=b(e)&&!isNaN(e)?e:n,i.$validate()})}if(v(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||m(l)||l>=e},r.$observe("max",function(e){v(e)&&!b(e)&&(e=parseFloat(e,10)),l=b(e)&&!isNaN(e)?e:n,i.$validate()})}},url:function(e,t,n,r,i,a){dr(e,t,n,r,i,a),ur(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||ta.test(n)}},email:function(e,t,n,r,i,a){dr(e,t,n,r,i,a),ur(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||na.test(n)}},radio:function(e,t,n,r){m(n.name)&&t.attr("name",++Er),t.on("click",function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,a,o,s){var l=gr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=gr(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return E(e,l)}),r.$parsers.push(function(e){return e?l:c})},hidden:f,button:f,submit:f,reset:f,file:f},ua=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(ca[$r(o.type)]||ca.text)(i,a,o,s[0],t,e,n,r)}}}}],da=/^(true|false|\d+)$/,pa=function(){return{restrict:"A",priority:100,compile:function(e,t){return da.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},fa=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],ha=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,a){r=e(i.attr(a.$attr.ngBindTemplate)),t.$$addBindingInfo(i,r.expressions),i=i[0],a.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],ga=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){r.html(e.getTrustedHtml(a(t))||"")})}}}}],ma=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),va=mr("",!0),ya=mr("Odd",0),Aa=mr("Even",1),ba=lr({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Sa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Da={},wa={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=_t("ng-"+e);Da[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};wa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var $a=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,c;n.$watch(i.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=nt(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],xa=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Pr.noop,compile:function(i,a){var o=a.ngInclude||a.src,s=a.onload||"",l=a.autoscroll;return function(i,a,c,u,d){var p,f,h,g=0,m=function(){f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),h&&(n.leave(h).then(function(){f=null}),f=h,h=null)};i.$watch(r.parseAsResourceUrl(o),function(r){var o=function(){!v(l)||l&&!i.$eval(l)||t()},c=++g;r?(e(r,!0).then(function(e){if(c===g){var t=i.$new();u.template=e,e=d(t,function(e){m(),n.enter(e,null,a).then(o)}),p=t,h=e,p.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){c===g&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),u.template=null)})}}}}],Ca=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){/SVG/.test(r[0].toString())?(r.empty(),e(lt(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),e(r.contents())(n))}}}],Ta=lr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Fa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Nr(o):o;i.$parsers.push(function(e){if(!m(e)){var t=[];return e&&a(e.split(l),function(e){e&&t.push(s?Nr(e):e)}),t}}),i.$formatters.push(function(e){return Rr(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Ma="ng-valid",ka="ng-invalid",Oa="ng-pristine",Pa="ng-dirty",Ea="ng-pending",La=new r("ngModel"),Ra=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,l,c,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e);var p,h=o(r.ngModel),g=h.assign,y=h,A=g,S=null,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");y=function(e){var n=h(e);return D(n)&&(n=t(e)),n},A=function(e){D(h(e))?n(e,{$$$p:w.$modelValue}):g(e,w.$modelValue)}}else if(!h.assign)throw La("nonassign",r.ngModel,B(i))},this.$render=f,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e};var $=i.inheritedData("$formController")||zi,x=0;vr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:$,$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(i,Pa),s.addClass(i,Oa)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(i,Oa),s.addClass(i,Pa),$.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(S),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!b(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,r=w.$modelValue,i=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,w.$$lastCommittedViewValue,function(a){i||t===a||(w.$modelValue=a?e:n,w.$modelValue!==r&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var n=!0;return a(w.$validators,function(r,i){var a=r(e,t);n=n&&a,s(i,a)}),n?!0:(a(w.$asyncValidators,function(e,t){s(t,null)}),!1)}function o(){var r=[],i=!0;a(w.$asyncValidators,function(a,o){var l=a(e,t);if(!l||!D(l.then))throw La("$asyncValidators",l);s(o,n),r.push(l.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),r.length?u.all(r).then(function(){l(i)},f):l(!0)}function s(e,t){c===x&&w.$setValidity(e,t)}function l(e){c===x&&r(e)}x++;var c=x;(function(){var e=w.$$parserName||"parse";return p!==n?(p||(a(w.$validators,function(e,t){s(t,null)}),a(w.$asyncValidators,function(e,t){s(t,null)})),s(e,p),p):(s(e,null),!0)})()&&i()?o():l(!1)},this.$commitViewValue=function(){var e=w.$viewValue;l.cancel(S),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue;if(p=m(t)?n:!0)for(var r=0;r<w.$parsers.length;r++)if(t=w.$parsers[r](t),m(t)){p=!1;break}b(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=y(e));var i=w.$modelValue,a=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,a&&(w.$modelValue=t,w.$modelValue!==i&&w.$$writeModelToScope()),w.$$runValidators(t,w.$$lastCommittedViewValue,function(e){a||(w.$modelValue=e?t:n,w.$modelValue!==i&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){A(e,w.$modelValue),a(w.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=w.$options;r&&v(r.debounce)&&(r=r.debounce,b(r)?n=r:b(r[t])?n=r[t]:b(r.default)&&(n=r.default)),l.cancel(S),n?S=l(function(){w.$commitViewValue()},n):c.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=y(e);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t,p=n;for(var r=w.$formatters,i=r.length,a=t;i--;)a=r[i](a);w.$viewValue!==a&&(w.$viewValue=w.$$lastCommittedViewValue=a,w.$render(),w.$$runValidators(t,a,f))}return t})}],Na=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ra,priority:1,compile:function(t){return t.addClass(Oa).addClass("ng-untouched").addClass(Ma),{pre:function(e,t,n,r){var i=r[0],a=r[1]||zi;i.$$setOptions(r[2]&&r[2].$options),a.$addControl(i),n.$observe("name",function(e){i.$name!==e&&a.$$renameControl(i,e)}),e.$on("$destroy",function(){a.$removeControl(i)})},post:function(t,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],Ia=/(\s+|^)default(\s+|$)/,Ua=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Nr(this.$options.updateOn.replace(Ia,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ba=lr({terminal:!0,priority:1e3}),_a=["$locale","$interpolate",function(e,t){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,o,s){function l(e){o.text(e||"")}var c,u=s.count,d=s.$attr.when&&o.attr(s.$attr.when),p=s.offset||0,f=i.$eval(d)||{},h={},d=t.startSymbol(),g=t.endSymbol(),m=d+u+"-"+p+g,v=Pr.noop;a(s,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+$r(n[2]),f[n]=o.attr(s.$attr[t]))}),a(f,function(e,r){h[r]=t(e.replace(n,m))}),i.$watch(u,function(t){t=parseFloat(t);var n=isNaN(t);n||t in f||(t=e.pluralCat(t-p)),t===c||n&&isNaN(c)||(v(),v=i.$watch(h[t],l),c=t)})}}}],Wa=["$parse","$animate",function(e,o){var s=r("ngRepeat"),l=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,c){var u=c.ngRepeat,d=t.createComment(" end ngRepeat: "+u+" "),p=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp",u);var f=p[1],h=p[2],g=p[3],m=p[4],p=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw s("iidexp",f);var v=p[3]||p[1],y=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw s("badident",g);var A,b,S,D,w={$id:Mt};return m?A=e(m):(S=function(e,t){return Mt(t)},D=function(e){return e}),function(e,t,r,c,p){A&&(b=function(t,n,r){return y&&(w[y]=t),w[v]=n,w.$index=r,A(e,w)});var f=rt();e.$watchCollection(h,function(r){var c,h,m,A,w,$,x,C,T,F,M=t[0],k=rt();if(g&&(e[g]=r),i(r))C=r,h=b||S;else{h=b||D,C=[];for(F in r)r.hasOwnProperty(F)&&"$"!=F.charAt(0)&&C.push(F);C.sort()}for(A=C.length,F=Array(A),c=0;A>c;c++)if(w=r===C?c:C[c],$=r[w],x=h(w,$,c),f[x])T=f[x],delete f[x],k[x]=T,F[c]=T;else{if(k[x])throw a(F,function(e){e&&e.scope&&(f[e.id]=e)}),s("dupes",u,x,$);F[c]={id:x,scope:n,clone:n},k[x]=!0}for(m in f){if(T=f[m],x=nt(T.clone),o.leave(x),x[0].parentNode)for(c=0,h=x.length;h>c;c++)x[c].$$NG_REMOVED=!0;T.scope.$destroy()}for(c=0;A>c;c++)if(w=r===C?c:C[c],$=r[w],T=F[c],T.scope){m=M;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);T.clone[0]!=m&&o.move(nt(T.clone),null,br(M)),M=T.clone[T.clone.length-1],l(T.scope,c,v,$,y,w,A)}else p(function(e,t){T.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,o.enter(e,null,br(M)),M=n,T.clone=e,k[T.id]=T,l(T.scope,c,v,$,y,w,A)});f=k})}}}}],Ka=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],qa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ya=lr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ha=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=[],l=[],c=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(i.ngSwitch||i.on,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(r=c.length=0,i=u.length;i>r;++r){var p=nt(l[r].clone);u[r].$destroy(),(c[r]=e.leave(p)).then(d(c,r))}l.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&a(s,function(n){n.transclude(function(r,i){u.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: "),l.push({clone:r}),e.enter(r,a.parent(),a)})})})}}}],Ga=lr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Va=lr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Qa=lr({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan",B(t));a(function(e){t.empty(),t.append(e)})}}),ja=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],za=r("ngOptions"),Ja=g({restrict:"A",terminal:!0}),Za=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,o={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i=this,a={},s=o;i.databound=n.ngModel,i.init=function(e,t,n){s=e,r=n},i.addOption=function(t,n){et(t,'"option value"'),a[t]=!0,s.$viewValue==t&&(e.val(t),r.parent()&&r.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},i.removeOption=function(e){this.hasOption(e)&&(delete a[e],s.$viewValue===e&&this.renderUnknownOption(e))},i.renderUnknownOption=function(t){t="? "+Mt(t)+" ?",r.val(t),e.prepend(r),e.val(t),r.prop("selected",!0)},i.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){i.renderUnknownOption=f})}],link:function(o,s,l,c){function u(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(D.parent()&&D.remove(),t.val(e),""===e&&h.prop("selected",!0)):null==e&&h?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){D.parent()&&D.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var r;n.$render=function(){var e=new kt(n.$viewValue);a(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){E(r,n.$viewValue)||(r=P(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,o,s){function l(e,n,r){return E[w]=r,C&&(E[C]=n),e(t,E)}function c(e){var t;if(g)if(k&&Rr(e)){t=new kt([]);for(var n=0;n<e.length;n++)t.put(l(k,null,e[n]),!0)}else t=new kt(e);else k&&(e=l(k,null,e));return function(n,r){var i;return i=k?k:x?x:F,g?v(t.remove(l(i,n,r))):e===l(i,n,r)}}function u(){A||(t.$$postDigest(p),A=!0)}function d(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function p(){A=!1;var e,n,r,i,u,p={"":[]},h=[""];r=s.$viewValue,i=M(t)||[];var m,w,$,x,F=C?Object.keys(i).sort():i,L={};u=c(r);var R,N,I=!1;for(O={},x=0;$=F.length,$>x;x++)m=x,C&&(m=F[x],"$"===m.charAt(0))||(w=i[m],e=l(T,m,w)||"",(n=p[e])||(n=p[e]=[],h.push(e)),e=u(m,w),I=I||e,w=l(D,m,w),w=v(w)?w:"",N=k?k(t,E):C?F[x]:x,k&&(O[N]=m),n.push({id:N,label:w,selected:e}));for(g||(y||null===r?p[""].unshift({id:"",label:"",selected:!I}):I||p[""].unshift({id:"?",label:"",selected:!0})),m=0,F=h.length;F>m;m++){for(e=h[m],n=p[e],P.length<=m?(r={element:S.clone().attr("label",e),label:n.label},i=[r],P.push(i),o.append(r.element)):(i=P[m],r=i[0],r.label!=e&&r.element.attr("label",r.label=e)),I=null,x=0,$=n.length;$>x;x++)e=n[x],(u=i[x+1])?(I=u.element,u.label!==e.label&&(d(L,u.label,!1),d(L,e.label,!0),I.text(u.label=e.label),I.prop("label",u.label)),u.id!==e.id&&I.val(u.id=e.id),I[0].selected!==e.selected&&(I.prop("selected",u.selected=e.selected),Ar&&I.prop("selected",u.selected))):(""===e.id&&y?R=y:(R=b.clone()).val(e.id).prop("selected",e.selected).attr("selected",e.selected).prop("label",e.label).text(e.label),i.push(u={element:R,label:e.label,id:e.id,selected:e.selected}),d(L,e.label,!0),I?I.after(R):r.element.append(R),I=R);for(x++;i.length>x;)e=i.pop(),d(L,e.label,!1),e.element.remove()}for(;P.length>m;){for(n=P.pop(),x=1;x<n.length;++x)d(L,n[x].label,!1);n[0].element.remove()}a(L,function(e,t){e>0?f.addOption(t):0>e&&f.removeOption(t)})}var h;if(!(h=m.match(i)))throw za("iexp",m,B(o));var D=r(h[2]||h[1]),w=h[4]||h[6],$=/ as /.test(h[0])&&h[1],x=$?r($):null,C=h[5],T=r(h[3]||""),F=r(h[2]?h[1]:w),M=r(h[7]),k=h[8]?r(h[8]):null,O={},P=[[{element:o,label:""}]],E={};y&&(e(y)(t),y.removeClass("ng-scope"),y.remove()),o.empty(),o.on("change",function(){t.$apply(function(){var e,r=M(t)||[];if(g)e=[],a(o.val(),function(t){t=k?O[t]:t,e.push("?"===t?n:""===t?null:l(x?x:F,t,r[t]))});else{var i=k?O[o.val()]:o.val();e="?"===i?n:""===i?null:l(x?x:F,i,r[i])}s.$setViewValue(e),p()})}),s.$render=p,t.$watchCollection(M,u),t.$watchCollection(function(){var e,n=M(t);if(n&&Rr(n)){e=Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=l(D,r,n[r])}else if(n)for(r in e={},n)n.hasOwnProperty(r)&&(e[r]=l(D,r,n[r]));return e},u),g&&t.$watchCollection(function(){return s.$modelValue},u)}if(c[1]){var f=c[0];c=c[1];var h,g=l.multiple,m=l.ngOptions,y=!1,A=!1,b=br(t.createElement("option")),S=br(t.createElement("optgroup")),D=b.clone();l=0;for(var w=s.children(),$=w.length;$>l;l++)if(""===w[l].value){h=y=w.eq(l);break}f.init(c,y,D),g&&(c.$isEmpty=function(e){return!e||0===e.length}),m?p(o,s,c):g?d(o,s,c):u(o,s,c,f)}}}}],Xa=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,r){if(m(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a=n.parent(),o=a.data("$selectController")||a.parent().data("$selectController");o&&o.databound||(o=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&o.removeOption(t),o.addOption(e,n)}):o.addOption(r.value,n),n.on("$destroy",function(){o.removeOption(r.value)})}}}}],eo=g({restrict:"E",terminal:!1}),to=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},no=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(A(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp",s,e,B(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e){return a.$isEmpty(e)||m(o)||o.test(e)}}}}},ro=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=d(e),i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},io=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?void 0:(J(),at(Pr),br(t).ready(function(){G(t,V)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),n("angular",function(e){return function(){var t;return t||e.angular}}(this)),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,r){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(a)
}function a(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void e.removeClass(n,"in",{to:{height:"0"}}).then(s)):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(r.collapse,function(e){e?o():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,r,i){e(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,r,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),r.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){r.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,r){var i=r[0],a=r[1];t.find("input").css({display:"none"}),a.$render=function(){t.toggleClass(i.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var r=t.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(r?null:e.$eval(n.btnRadio)),a.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,r,i){function a(){return s(r.btnCheckboxTrue,!0)}function o(){return s(r.btnCheckboxFalse,!1)}function s(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,a()))},n.bind(l.toggleEvent,function(){r.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?o():a()),c.$render()})}),n.on("keypress",function(i){r.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?o():a()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,r){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),r.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(g,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?r.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,m=n,o())}function a(e){if(angular.isUndefined(p[e].index))return p[e];{var t;p.length}for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function o(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],f=angular.version.minor>=4,h="uib-noTransition",g="uib-slideDirection",m=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var r=e.indexOfSlide(t);void 0===n&&(n=r>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&i(t,r,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:m},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():d.select(a(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():d.select(a(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",o),e.$on("$destroy",s),e.play=function(){u||(u=!0,o())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?d.select(t>=p.length?p[t-1]:p[t]):m>t&&m--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(h,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var r="uib-noTransition",i="uib-slideDirection",a=null;return e.has("$animateCss")&&(a=e.get("$animateCss")),{beforeAddClass:function(e,o,s){if("active"==o&&e.parent()&&!e.parent().data(r)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u+" "+c,s);return e.addClass(c),a?a(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,o,s){if("active"===o&&e.parent()&&!e.parent().data(r)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u,s);return a?a(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function r(e){var t=[],r=e.split("");return angular.forEach(o,function(n,i){var a=e.indexOf(i);if(a>-1){e=e.split(""),r[a]="("+n.regex+")",e[a]="$";for(var o=a+1,s=a+i.length;s>o;o++)r[o]="",e[o]="$";e=e.join(""),t.push({index:a,apply:n.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,o,s){if(!angular.isString(n)||!o)return n;o=t.DATETIME_FORMATS[o]||o,o=o.replace(a,"\\$&"),this.parsers[o]||(this.parsers[o]=r(o));var l=this.parsers[o],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,f;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,g=d.length;g>h;h++){var m=u[h-1];m.apply&&m.apply.call(p,d[h])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},a=i(t[0]);a!=e[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,a,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=r?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-a};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-o,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,r,i,a,o,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?r(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(e){l[r]=e?new Date(e):null,l.refreshView()}):l[r]=o[r]?new Date(o[r]):null}),angular.forEach(["minMode","maxMode"],function(r){t[r]?e.$parent.$watch(n(t[r]),function(n){l[r]=angular.isDefined(n)?n:t[r],e[r]=l[r],("minMode"==r&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[r])||"maxMode"==r&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[r]))&&(e.datepickerMode=l[r])}):(l[r]=o[r]||null,e[r]=l[r])}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],a=r[1];i.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,r,i){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function o(e,t){for(var n,r=new Array(t),a=new Date(e),o=0;t>o;)n=new Date(a),i.fixTimeZone(n),r[o++]=n,a.setDate(a.getDate()+1);return r}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),a=new Date(n,r,1),l=i.startingDay-a.getDay(),c=l>0?7-l:-l,u=new Date(a);c>0&&u.setDate(-c+1);for(var d=o(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==r,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-i.startingDay)%7,g=t.rows.length,m=0;g>m;m++)t.weekNumbers.push(s(t.rows[m][h].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(a(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=a(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,r=new Array(12),a=i.activeDate.getFullYear(),o=0;12>o;o++)n=new Date(a,o,1),i.fixTimeZone(n),r[o]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(r,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,r){function i(e){return parseInt((e-1)/a,10)*a+1}var a=r.yearRange;r.step={years:a},r.element=t,r._refreshView=function(){for(var t,n=new Array(a),o=0,s=i(r.activeDate.getFullYear());a>o;o++)t=new Date(s+o,0,1),r.fixTimeZone(t),n[o]=angular.extend(r.createDateObject(t,r.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[a-1].label].join(" - "),e.rows=r.split(n,5)},r.compare=function(e,t){return e.getFullYear()-t.getFullYear()},r.handleKeyDown=function(e){var t=r.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*r.step.years:"home"===e?t=i(r.activeDate.getFullYear()):"end"===e&&(t=i(r.activeDate.getFullYear())+a-1),r.activeDate.setFullYear(t)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,r,i,a,o,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,m,c.date);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var r=o.parse(n,m);return!isNaN(r)}return!1}return!0}var m,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,y=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,A=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,b=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,S=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,D={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,D.minDate)<0||c.watchData.maxDate&&c.compare(e,D.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var w=!1;if(s.html5Types[d.type]?(m=s.html5Types[d.type],w=!0):(m=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==m&&(m=t,p.$modelValue=null,!m))throw new Error("datepickerPopup must have a date format specified.")})),!m)throw new Error("datepickerPopup must have a date format specified.");if(w&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var $=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");$.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":b});var x=angular.element($.children()[0]);if(x.attr("template-url",S),w&&"month"===d.type&&(x.attr("datepicker-mode",'"month"'),x.attr("min-mode","month")),d.datepickerOptions){var C=c.$parent.$eval(d.datepickerOptions);C&&C.initDate&&(c.initDate=C.initDate,x.attr("init-date","initDate"),delete C.initDate),angular.forEach(C,function(e,t){x.attr(f(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(D[e]=new Date(t))}),x.attr(f(e),"watchData."+e),"datepickerMode"===e){var r=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(r)&&e!==t&&r(c.$parent,e)})}}}),d.dateDisabled&&x.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&x.attr("show-weeks",d.showWeeks),d.customClass&&x.attr("custom-class","customClass({ date: date, mode: mode })"),w?p.$formatters.push(function(e){return c.date=e,e}):(p.$$parserName="date",p.$validators.date=g,p.$parsers.unshift(h),p.$formatters.push(function(e){return c.date=e,p.$isEmpty(e)?e:a(e,m)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?a(c.date,m):null;u.val(t),p.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=o.parse(p.$viewValue,m,c.date)});var T=function(e){!c.isOpen||u[0].contains(e.target)||$[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},F=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",F),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=y?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){A&&c.$broadcast("datepicker.focus"),n.bind("click",T)},0,!1)):n.unbind("click",T)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var M=e($)(c);$.remove(),y?n.find("body").append(M):u.after(M),c.$on("$destroy",function(){c.isOpen===!0&&(r.$$phase||c.$apply(function(){c.isOpen=!1})),M.remove(),u.unbind("keydown",F),n.unbind("click",T)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",i))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,r,i,a,o,s,l,c){var u,d,p=this,f=e.$new(),h=r.openClass,g=angular.noop,m=t.onToggle?n(t.onToggle):angular.noop,v=!1,y=!1,A=s.find("body");this.init=function(r){p.$element=r,t.isOpen&&(d=n(t.isOpen),g=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),y=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(A.append(p.dropdownMenu),A.addClass("dropdown"),r.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return y},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var r=o.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:r.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(r.left+p.$element.prop("offsetWidth"))+"px"):(s.left=r.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var y=v?A:p.$element;if(a[t?"addClass":"removeClass"](y,h).then(function(){angular.isDefined(t)&&t!==n&&m(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(b),p.dropdownMenu=b}i.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var b=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",b)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,r){if(r){var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,r){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:r.selectedOption=angular.isNumber(r.selectedOption)?r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:0;break;case 38:r.selectedOption=angular.isNumber(r.selectedOption)?0===r.selectedOption?0:r.selectedOption-1:t.length-1}t[r.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}
})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function r(t,r,a){a.modalInClass&&(i?i(r,{addClass:a.modalInClass}).start():e.addClass(r,a.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var o=n();i?i(r,{removeClass:a.modalInClass}).start().then(o):e.removeClass(r,a.modalInClass).then(o)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,r){var i=null;return r.has("$animateCss")&&(i=r.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowClass||""),r.size=o.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},r.$isRendered=!0;var s=t.defer();o.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=i?i(a,{addClass:o.modalInClass}).start():n.addClass(a,o.modalInClass),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();i?i(a,{removeClass:o.modalInClass}).start().then(r):n.removeClass(a,o.modalInClass).then(r)})),t.when(s).then(function(){var e=a[0].querySelectorAll("[autofocus]");e.length?e[0].focus():a[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,r,i,a,o,s,l){function c(){for(var e=-1,t=A.keys(),n=0;n<t.length;n++)A.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var r=n.find("body").eq(0),i=A.get(e).value;A.remove(e),p(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||y;b.remove(t,e),r.toggleClass(t,b.hasKey(t))}),d(),t&&t.focus?t.focus():r.focus()}function d(){if(g&&-1==c()){var e=m;p(g,m,function(){e=null}),g=void 0,m=void 0}}function p(t,n,r){function i(){i.done||(i.done=!0,h?h(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),r&&r())}var o,s=null,l=function(){return o||(o=a.defer(),s=o.promise),function(){o.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,l),a.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var h=null;o.has("$animateCss")&&(h=o.get("$animateCss"));var g,m,v,y="modal-open",A=l.createNew(),b=s.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},D=0,w="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){m&&(m.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=A.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){S.dismiss(t.key,"escape key press")});break;case 9:S.loadFocusElementList(t);var n=!1;e.shiftKey?S.isFocusInFirstItem(e)&&(n=S.focusLastFocusableElement()):S.isFocusInLastItem(e)&&(n=S.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),S.open=function(e,t){var a=n[0].activeElement,o=t.openedClass||y;A.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),b.put(o,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!g){m=i.$new(!0),m.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),g=r(u)(m),s.append(g)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:A.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=r(d)(t.scope);A.top().value.modalDomEl=p,A.top().value.modalOpener=a,s.append(p),s.addClass(o),S.clearFocusListCache()},S.close=function(e,t){var n=A.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},S.dismiss=function(e,t){var n=A.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},S.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},S.getTop=function(){return A.top()},S.modalRendered=function(e){var t=A.get(e);t&&t.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},S.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},S.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},S.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},S.clearFocusListCache=function(){v=[],D=0},S.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(w))}},S}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,r,i,a,o){function s(e){return e.template?r.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){n.push(angular.isFunction(e)||angular.isArray(e)?r.when(t.invoke(e)):angular.isString(e)?r.when(t.get(e)):r.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var i=r.defer(),c=r.defer(),d=r.defer(),p={result:i.promise,opened:c.promise,rendered:d.promise,close:function(e){return o.close(p,e)},dismiss:function(e){return o.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,h=r.all([s(t)].concat(l(t.resolve)));return f=u=r.all([u]).then(function(){return h},function(){return h}).then(function(e){var r=(t.scope||n).$new();r.$close=p.close,r.$dismiss=p.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=r,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=a(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,r),r[t.controllerAs]=s)),o.open(p,{scope:r,deferred:i,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),i.reject(e)}).finally(function(){u===f&&(u=null)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){i=o,this.config=s,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var r=!e.ngDisabled||!n;r&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,i,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],r=1,i=t,a=angular.isDefined(u)&&t>u;a&&(d?(r=Math.max(e-Math.floor(u/2),1),i=r+u-1,i>t&&(i=t,r=i-u+1)):(r=(Math.ceil(e/u)-1)*u+1,i=Math.min(r+u-1,t)));for(var s=r;i>=s;s++){var l=o(s,s,s===e);n.push(l)}if(a&&!d){if(r>1){var c=o(r-1,"...",!1);n.unshift(c)}if(t>i){var p=o(i+1,"...",!1);n.push(p)}}return n}var l=a[0],c=a[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,r,i){var a=i[0],o=i[1];o&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,a,o,s,l,c,u,d){return function(i,p,f,h){function g(e){var t=(e||h.trigger||f).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}h=angular.extend({},t,r,h);var m=e(i),v=c.startSymbol(),y=c.endSymbol(),A="<div "+m+'-popup title="'+v+"title"+y+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=a(A);return function(t,n,r){function a(){E.isOpen?f():c()}function c(){(!P||t.$eval(r[p+"Enable"]))&&(b(),E.popupDelay?F||(F=o(m,E.popupDelay,!1)):m())}function f(){v(),u.$$phase||u.$digest()}function m(){return F=null,T&&(o.cancel(T),T=null),(h.useContentExp?E.contentExp():E.content)?(y(),E.isOpen=!0,R&&R.assign(E.origScope,E.isOpen),u.$$phase||E.$apply(),x.css({display:"block"}),void N()):angular.noop}function v(){E.isOpen=!1,R&&R.assign(E.origScope,E.isOpen),o.cancel(F),F=null,o.cancel(M),M=null,E.animation?T||(T=o(A,500)):A()}function y(){x&&A(),C=E.$new(),x=e(C,function(e){k?s.find("body").append(e):n.after(e)}),h.useContentExp&&(C.$watch("contentExp()",function(e){!e&&E.isOpen&&v()}),C.$watch(function(){L||(L=!0,C.$$postDigest(function(){L=!1,E.isOpen&&N()}))}))}function A(){T=null,x&&(x.remove(),x=null),C&&(C.$destroy(),C=null)}function b(){S(),D(),w()}function S(){E.popupClass=r[p+"Class"]}function D(){var e=r[p+"Placement"];E.placement=angular.isDefined(e)?e:h.placement}function w(){var e=r[p+"PopupDelay"],t=parseInt(e,10);E.popupDelay=isNaN(t)?h.popupDelay:t}function $(){var e=r[p+"Trigger"];I(),O=g(e),"none"!==O.show&&O.show.forEach(function(e,t){e===O.hide[t]?n[0].addEventListener(e,a):e&&(n[0].addEventListener(e,c),n[0].addEventListener(O.hide[t],f))})}var x,C,T,F,M,k=angular.isDefined(h.appendToBody)?h.appendToBody:!1,O=g(void 0),P=angular.isDefined(r[p+"Enable"]),E=t.$new(!0),L=!1,R=angular.isDefined(r[p+"IsOpen"])?d(r[p+"IsOpen"]):!1,N=function(){x&&(M||(M=o(function(){x.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(x),t=l.positionElements(n,x,E.placement,k);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",x.css(t),M=null},0,!1)))};E.origScope=t,E.isOpen=!1,E.contentExp=function(){return t.$eval(r[i])},h.useContentExp||r.$observe(i,function(e){E.content=e,!e&&E.isOpen?v():N()}),r.$observe("disabled",function(e){F&&e&&(o.cancel(F),F=null),e&&E.isOpen&&v()}),r.$observe(p+"Title",function(e){E.title=e,N()}),r.$observe(p+"Placement",function(){E.isOpen&&(D(),N())}),R&&t.$watch(R,function(e){e!==E.isOpen&&a()});var I=function(){O.show.forEach(function(e){n.unbind(e,c)}),O.hide.forEach(function(e){n.unbind(e,f)})};$();var U=t.$eval(r[p+"Animation"]);E.animation=angular.isDefined(U)?!!U:h.animation;var B=t.$eval(r[p+"AppendToBody"]);k=angular.isDefined(B)?B:k,k&&t.$on("$locationChangeSuccess",function(){E.isOpen&&v()}),t.$on("$destroy",function(){o.cancel(T),o.cancel(F),o.cancel(M),I(),A(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,a,o){var s,l,c,u=i.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(o.tooltipTemplateTransclude),function(t){var o=++d;t?(r(t,!0).then(function(r){if(o===d){var i=u.$new(),l=r,f=n(l)(i,function(t){p(),e.enter(t,a)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){o===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=r.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){r.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,i,a){t&&e.warn("bar is now deprecated. Use uib-bar instead"),a.addBar(n,r)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],a=r[1];i.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!r){var a=i==n.length-1?i-1:i+1;t.select(n[a])}n.splice(i,1)};var r;e.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,r,i,a,o){n.$watch("active",function(e){e&&a.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=o}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,r,i,a){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),g.$setViewValue(new Date(h)),d(e)}function u(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=h.getHours(),r=h.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(r)),e.meridian=h.getHours()<12?m[0]:m[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes()),r}function f(e){h=p(h,e),c()}var h=new Date,g={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),o=r.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(i,o);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o)};var v=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var y=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){y=parseInt(e,10)});var A;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);A=isNaN(t)?void 0:t});var b;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);b=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(h,60*v);return e>b||h>e&&A>e},e.noDecrementHours=function(){var e=p(h,60*-v);return A>e||e>h&&e>b},e.noIncrementMinutes=function(){var e=p(h,y);return e>b||h>e&&A>e},e.noDecrementMinutes=function(){var e=p(h,-y);return A>e||e>h&&e>b},e.noToggleMeridian=function(){return h.getHours()<13?p(h,720)>b:p(h,-720)<A},e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=o(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(h.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(h.setHours(e),A>h||h>b?r(!0):c("h")):r(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=o();angular.isDefined(e)&&angular.isDefined(t)?(h.setMinutes(e),A>h||h>b?r(void 0,!0):c("m")):r(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(h=t),A>h||h>b?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(y)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-y)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,r){var i=r[0],a=r[1];a&&i.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,r,i){function a(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||r.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(r,i,a){a=a||{};var s=e.defer(),l=o[a.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){r.unbind(l,c),s.resolve(r)})};return l&&r.bind(l,c),t(function(){angular.isString(i)?r.addClass(i):angular.isFunction(i)?i(r):angular.isObject(i)&&r.css(i),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=a(l),o.animationEndEventName=a(c),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,r,i,a,o,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,f,h){function g(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),Y&&r.cancel(Y),Y=r(function(){N.matches.length&&m(),N.moveInProgress=!1,N.$digest()},u)}function m(){N.position=M?s.offset(p):s.position(p),N.position.top+=p.prop("offsetHeight")}var v=h[0],y=h[1],A=d.$eval(f.typeaheadMinLength);A||0===A||(A=1);var b,S,D=d.$eval(f.typeaheadWaitMs)||0,w=d.$eval(f.typeaheadEditable)!==!1,$=t(f.typeaheadLoading).assign||angular.noop,x=t(f.typeaheadOnSelect),C=angular.isDefined(f.typeaheadSelectOnBlur)?d.$eval(f.typeaheadSelectOnBlur):!1,T=t(f.typeaheadNoResults).assign||angular.noop,F=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,M=f.typeaheadAppendToBody?d.$eval(f.typeaheadAppendToBody):!1,k=d.$eval(f.typeaheadFocusFirst)!==!1,O=f.typeaheadSelectOnExact?d.$eval(f.typeaheadSelectOnExact):!1,P=t(f.ngModel),E=t(f.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(P(d))&&y&&y.$options&&y.$options.getterSetter?E(e,{$$$p:t}):P.assign(e,t)
},R=l.parse(f.typeahead),N=d.$new(),I=d.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",I);var U="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var B=angular.element("<div typeahead-popup></div>");B.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&B.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&B.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var _=function(){N.matches=[],N.activeIdx=-1,p.attr("aria-expanded",!1)},W=function(e){return U+"-option-"+e};N.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",W(e))});var K=function(e,t){return N.matches.length>t&&e?e.toUpperCase()===N.matches[t].label.toUpperCase():!1},q=function(e){var t={$viewValue:e};$(d,!0),T(d,!1),n.when(R.source(d,t)).then(function(n){var r=e===v.$viewValue;if(r&&b)if(n&&n.length>0){N.activeIdx=k?0:-1,T(d,!1),N.matches.length=0;for(var i=0;i<n.length;i++)t[R.itemName]=n[i],N.matches.push({id:W(i),label:R.viewMapper(N,t),model:n[i]});N.query=e,m(),p.attr("aria-expanded",!0),O&&1===N.matches.length&&K(e,0)&&N.select(0)}else _(),T(d,!0);r&&$(d,!1)},function(){_(),$(d,!1),T(d,!0)})};M&&(angular.element(a).bind("resize",g),i.find("body").bind("scroll",g));var Y;N.moveInProgress=!1,_(),N.query=void 0;var H,G=function(e){H=r(function(){q(e)},D)},V=function(){H&&r.cancel(H)};v.$parsers.unshift(function(e){return b=!0,0===A||e&&e.length>=A?D>0?(V(),G(e)):q(e):($(d,!1),V(),_()),w?e:e?void v.$setValidity("editable",!1):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,r={};return w||v.$setValidity("editable",!0),F?(r.$model=e,F(d,r)):(r[R.itemName]=e,t=R.viewMapper(d,r),r[R.itemName]=void 0,n=R.viewMapper(d,r),t!==n?t:e)}),N.select=function(e){var t,n,i={};S=!0,i[R.itemName]=n=N.matches[e].model,t=R.modelMapper(d,i),L(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),x(d,{$item:n,$model:t,$label:R.viewMapper(d,i)}),_(),N.$eval(f.typeaheadFocusOnSelect)!==!1&&r(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==N.matches.length&&-1!==c.indexOf(e.which)){if(-1===N.activeIdx&&(9===e.which||13===e.which))return _(),void N.$digest();e.preventDefault(),40===e.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===e.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===e.which||9===e.which?N.$apply(function(){N.select(N.activeIdx)}):27===e.which&&(e.stopPropagation(),_(),N.$digest())}}),p.bind("blur",function(){C&&N.matches.length&&-1!==N.activeIdx&&!S&&(S=!0,N.$apply(function(){N.select(N.activeIdx)})),b=!1,S=!1});var Q=function(e){p[0]!==e.target&&3!==e.which&&0!==N.matches.length&&(_(),o.$$phase||N.$digest())};i.bind("click",Q),d.$on("$destroy",function(){i.unbind("click",Q),M&&j.remove(),B.remove()});var j=e(B)(N);M?i.find("body").append(j):p.after(j)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,i,a){var o=n(a.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(o).then(function(e){t(e.trim())(r,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(r(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),n("angular_bootstrap",["angular"],function(){}),n("datamodel/ShoppingData",["moment","datamodel/ItinerariesList","util/LodashExtensions"],function(e,t,n){"use strict";function r(){this.data={},this.maxAvailableDates={},this.minDateAndPricePairs={}}return r.prototype.DATE_FORMAT_FOR_KEYS="YYYY-MM-DD",r.prototype.updateMaxAvailableDate=function(e,t){var r=this.maxAvailableDates[e];(n.isUndefined(r)||t.isAfter(r))&&(this.maxAvailableDates[e]=t)},r.prototype.updateMinDateAndPricePair=function(e,t,r){var i=this.minDateAndPricePairs[e];if(i&&i.totalFareAmountWithCurrency.currency&&r.currency!==i.totalFareAmountWithCurrency.currency)throw new Error("Unable to update minimum price as currencies different");(n.isUndefined(i)||r.amount<=i.totalFareAmountWithCurrency.amount&&t.isBefore(i.date))&&(this.minDateAndPricePairs[e]={date:t,totalFareAmountWithCurrency:r})},r.prototype.markRequestedData=function(t,n,r){var i=this;e().range(n.clone().startOf("month"),r).by("months",function(e){var n=e.format(this.DATE_FORMAT_FOR_KEYS);i.initKeyEntries(i.data,t,n)})},r.prototype.contains=function(e,t){var r=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[r])},r.prototype.addUpdate=function(e){var t=this;n.each(e.data,function(e,r){n.isUndefined(e)||(n.each(e,function(e,n){t.initKeyEntries(t.data,r,n),t.addUpdateForMonth(r,e)}),t.updateLeadPrices(r))})},r.prototype.addUpdateForMonth=function(t,r){var i=this;n.isUndefined(r)||n.each(r,function(r,a){n.isUndefined(r)||n.each(r.itinerariesList.getItineraries(),function(n){i.addItinerary(t,n,e(a,i.DATE_FORMAT_FOR_KEYS))})})},r.prototype.addItinerary=function(e,t,n){var r=n.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),i=n.clone().startOf("day").format(this.DATE_FORMAT_FOR_KEYS);this.initKeyEntries(this.data,e,r,i),this.data[e][r][i].itinerariesList.add(t),this.updateMaxAvailableDate(e,n),this.updateMinDateAndPricePair(e,n,t.totalFareAmountWithCurrency)},r.prototype.getItinerariesList=function(e,t){var r=t.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),i=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[r])&&n.has(this.data[e][r],[i])?this.data[e][r][i].itinerariesList:void 0},r.prototype.getLeadPricesForMonth=function(e,t){var r={},i=this,a=t.format(this.DATE_FORMAT_FOR_KEYS);return n.has(this.data,e)&&n.has(this.data[e],[a])&&Object.keys(this.data[e][a]).forEach(function(t){r[t]=i.data[e][a][t].leadPrice}),r},r.prototype.getLeadPricesForRange=function(t,r,i){var a={},o=this;return e.range(r,i).by("days",function(e){var r=o.getLeadPriceForDay(t,e);n.extend(a,r)}),a},r.prototype.getLeadPriceForDay=function(e,t){var r={},i=t.clone().startOf("month").format(this.DATE_FORMAT_FOR_KEYS),a=t.format(this.DATE_FORMAT_FOR_KEYS);return n.isUndefined(this.data[e])||n.isUndefined(this.data[e][i])||n.isUndefined(this.data[e][i][a])?{}:(r[t.format(this.DATE_FORMAT_FOR_KEYS)]=this.data[e][i][a].leadPrice,r)},r.prototype.getMonthLeadPrice=function(e,t){return n.min(n.values(this.getLeadPricesForMonth(e,t)))},r.prototype.getMinDateAndPricePair=function(e){return this.minDateAndPricePairs[e]},r.prototype.getMaxAvailableDate=function(e){return this.maxAvailableDates[e]},r.prototype.updateLeadPrices=function(e){n.has(this.data,e)&&n.each(this.data[e],function(e){n.isUndefined(e)||n.each(e,function(t,n){var r=t.itinerariesList.getLeadPrice();e[n].leadPrice=r})})},r.prototype.initKeyEntries=function(e,r,i,a){n.isUndefined(e)&&(this.data={}),this.data[r]||(this.data[r]={}),this.data[r][i]||(this.data[r][i]={}),a&&!this.data[r][i][a]&&(this.data[r][i][a]={itinerariesList:new t})},r}),n("util/BaseServices",["moment","angular","datamodel/ShoppingData"],function(e,t,n){"use strict";return t.module("baseServices",[]).service("DateService",function(){return{now:function(){return e()}}}).service("ShoppingOptionsCacheService",function(){return new n}).service("WidgetIdGeneratorService",function(){var e=0;return{next:function(){return e++}}})}),n("util/CommonDirectives",["angular"],function(e){"use strict";return e.module("commonDirectives",[]).directive("stringToNumber",function(){return{require:"ngModel",link:function(e,t,n,r){r.$parsers.push(function(e){return""+e}),r.$formatters.push(function(e){return parseFloat(e)})}}}).directive("hideOnClick",function(){return{scope:"A",link:function(t,n){e.element(n).on("click",function(){e.element(n).addClass("ng-hide")})}}})}),n("util/CommonGenericFilters",["lodash","util/LodashExtensions","moment","angular"],function(e,t,n,r){"use strict";return r.module("commonFilters",[]).filter("startFrom",function(){return function(e,t){return t=parseInt(t),e.slice(t)}}).filter("moment",function(){return function(e,t){return n(e,t)}}).filter("stringJoiner",function(){return function(e,t,n,r){return n=n||"",r=r||"",t=t||", ",n+(e||[]).join(t)+r}}).filter("unixTimeToMoment",function(){return function(e){return n.unix(e)}}).filter("momentDateFormat",function(){return function(t,n){return e.isUndefined(t)||null===t?"":t.format(n)}}).filter("makeMomentAndFormat",function(){return function(t,r){return e.isUndefined(t)||null===t?"":n(t).format(r)}}).filter("makeMomentDurationAndFormat",function(){return function(t,r,i){return e.isUndefined(t)||null===t?"":n.duration(t,r).humanize(i)}}).filter("passAllFilter",function(){return function(e){return e}}).filter("forEachApplyFilter",["$filter",function(t){var n=t("applyFilter");return function(){var t=Array.prototype.slice.call(arguments),r=t.shift();if(!e.isUndefined(r)){var i=r.map(function(e){t.unshift(e);var r=n.apply(null,t);return t.shift(e),r});return i}}}]).filter("applyFilter",["$filter",function(t){return function(){var n=Array.prototype.slice.call(arguments),r=n.shift(),i=n.shift();e.isUndefined(i)&&(i="passAllFilter");var a=t(i);return n.unshift(r),a.apply(null,n)}}])}),n("util/CommonDisplayFilters",["lodash","util/LodashExtensions","moment","angular","util/CommonGenericFilters"],function(e,t,n,r){"use strict";return r.module("commonFilters").filter("cabin",function(){return function(e){switch(e){case"Y":return"Economy";case"S":return"Premium Economy";case"C":return"Business";case"J":return"Premium Business";case"F":return"First";case"P":return"Premium First";default:return e}}}).filter("ticketRefundability",function(){return function(e){return e?"Non-refundable ticket":"Refundable ticket"}}).filter("baggageAllowance",function(){return function(n){if(e.isUndefined(n))return n;if(t.isDefined(n.Pieces)){var r;switch(n.Pieces){case 0:r="0 pieces";break;case 1:r="1 piece";break;default:r=n.Pieces+" pieces"}}if(n.Weight&&n.Unit)var i=n.Weight+" "+n.Unit;return[r,i].filter(t.isDefined).join(", ")}}).filter("meal",function(){var e={};return e.P="Alcoholic beverages for purchase",e.B="Breakfast",e.O="Cold meal",e.C="Complimentary alcoholic beverages",e.K="Continental Breakfast",e.D="Dinner ",e.F="Food for purchase",e.G="Food and Beverage / for purchase",e.H="Hot Meal",e.L="Lunch",e.M="Meal",e.N="No meal service",e.R="Refreshment",e.V="Refreshment / for purchase",e.S="Snack",function(t){return e[t]||t}}).filter("humanizeNumberOfStops",function(){return function(e){switch(e){case 0:return"Non-stop";case 1:return"One stop";default:return"Two+ stops"}}}).filter("passengerType",function(){var e={};return e.ADT="Adult",e.CNN="Child",e.SNN="Senior",e.SRC="Senior citizen",e.INS="Infant with a seat",e.INF="Infant without a seat",e.FFY="Frequent flyer",function(t){return e[t]||t}}).filter("humanizeDurationDays",function(){return function(e){return 1===e?"1 day":e>1&&7>e?e+" days":7===e?"1 week":14===e?"2 weeks":e+" days"}}).filter("humanizeMinutes",function(){return function(e){var t=Math.floor(e/60),n=e%60;return 0===t?e+" min.":1===t?t+" hour, "+n+" min.":t>1?t+" hour, "+n+" min.":void 0}})}),function(e,t,n){"use strict";function r(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function i(e,t){if(!r(t))throw o("badmember",'Dotted member path "@{0}" is invalid.',t);for(var i=t.split("."),a=0,s=i.length;s>a&&e!==n;a++){var l=i[a];e=null!==e?e[l]:n}return e}function a(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var o=t.$$minErr("$resource"),s=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(r,s){function l(e){return c(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")
}function c(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function u(t,n){this.template=t,this.defaults=h({},e.defaults,n),this.urlParams={}}function d(l,c,v,y){function A(e,t){var n={};return t=h({},c,t),f(t,function(t,r){m(t)&&(t=t()),n[r]=t&&t.charAt&&"@"==t.charAt(0)?i(e,t.substr(1)):t}),n}function b(e){return e.resource}function S(e){a(e||{},this)}var D=new u(l,y);return v=h({},e.defaults.actions,v),S.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,e},f(v,function(e,i){var l=/^(POST|PUT|PATCH)$/i.test(e.method);S[i]=function(c,u,d,v){var y,w,$,x={};switch(arguments.length){case 4:$=v,w=d;case 3:case 2:if(!m(u)){x=c,y=u,w=d;break}if(m(c)){w=c,$=u;break}w=u,$=d;case 1:m(c)?w=c:l?y=c:x=c;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C=this instanceof S,T=C?y:e.isArray?[]:new S(y),F={},M=e.interceptor&&e.interceptor.response||b,k=e.interceptor&&e.interceptor.responseError||n;f(e,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(F[t]=g(e))}),l&&(F.data=y),D.setUrlParams(F,h({},A(y,e.params||{}),x),e.url);var O=r(F).then(function(n){var r=n.data,s=T.$promise;if(r){if(t.isArray(r)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",i,e.isArray?"array":"object",t.isArray(r)?"array":"object");e.isArray?(T.length=0,f(r,function(e){T.push("object"==typeof e?new S(e):e)})):(a(r,T),T.$promise=s)}return T.$resolved=!0,n.resource=T,n},function(e){return T.$resolved=!0,($||p)(e),s.reject(e)});return O=O.then(function(e){var t=M(e);return(w||p)(t,e.headers),t},k),C?O:(T.$promise=O,T.$resolved=!1,T)},S.prototype["$"+i]=function(e,t,n){m(e)&&(n=t,t=e,e={});var r=S[i].call(this,e,this,t,n);return r.$promise||r}}),S.bind=function(e){return d(l,h({},c,e),v)},S}var p=t.noop,f=t.forEach,h=t.extend,g=t.copy,m=t.isFunction;return u.prototype={setUrlParams:function(e,n,r){var i,a,s=this,c=r||s.template,u=s.urlParams={};f(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(u[e]=!0)}),c=c.replace(/\\:/g,":"),n=n||{},f(s.urlParams,function(e,r){i=n.hasOwnProperty(r)?n[r]:s.defaults[r],t.isDefined(i)&&null!==i?(a=l(i),c=c.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,t){return a+t})):c=c.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),e.url=c.replace(/\/\\\./,"/."),f(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},d}]})}(window,window.angular),n("angular_resource",["angular"],function(e){return function(){var t;return t||e.ngResource}}(this)),function(e){"use strict";var t=function(t,n){if(e.isArray(t))return t.map(n);var r={};return Object.keys(t).forEach(function(e){r[e]=n(t[e],e)}),r};e.module("ngPromiseExtras",[]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var n=e;return n.allSettled=function(e){return n.all(t(e,function(e){return e.then?e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fulfilled",value:e}}))},n.map=function(e,r){return n.all(t(e,r))},n.mapSettled=function(e,r){return n.allSettled(t(e,r))},n.resolve=function(e){return e&&e.then?e:n(function(t){t(e)})},n}])}])}(window.angular),n("ngPromiseExtras",["angular"],function(){}),function(e,r){"use strict";"function"==typeof n&&n.amd?n("ngStorage",["angular"],r):"object"==typeof exports?module.exports=r(t("angular")):r(e.angular)}(this,function(e){"use strict";function t(t){return["$rootScope","$window","$log","$timeout",function(n,r,i,a){function o(e){var t;try{t=r[e]}catch(n){t=!1}if(t&&"localStorage"===e){var i="__"+Math.round(1e7*Math.random());try{localStorage.setItem(i,i),localStorage.removeItem(i)}catch(n){t=!1}}return t}var s,l,c=o(t)||(i.warn("This browser does not support Web Storage!"),{setItem:function(){},getItem:function(){}}),u={$default:function(t){for(var n in t)e.isDefined(u[n])||(u[n]=t[n]);return u},$reset:function(e){for(var t in u)"$"===t[0]||delete u[t]&&c.removeItem("ngStorage-"+t);return u.$default(e)}};try{c=r[t],c.length}catch(d){i.warn("This browser does not support Web Storage!"),c={}}for(var p,f=0,h=c.length;h>f;f++)(p=c.key(f))&&"ngStorage-"===p.slice(0,10)&&(u[p.slice(10)]=e.fromJson(c.getItem(p)));return s=e.copy(u),n.$watch(function(){var t;l||(l=a(function(){if(l=null,!e.equals(u,s)){t=e.copy(s),e.forEach(u,function(n,r){e.isDefined(n)&&"$"!==r[0]&&c.setItem("ngStorage-"+r,e.toJson(n)),delete t[r]});for(var n in t)c.removeItem("ngStorage-"+n);s=e.copy(u)}},100,!1))}),r.addEventListener&&r.addEventListener("storage",function(t){"ngStorage-"===t.key.slice(0,10)&&(t.newValue?u[t.key.slice(10)]=e.fromJson(t.newValue):delete u[t.key.slice(10)],s=e.copy(u),n.$apply())}),u}]}return e.module("ngStorage",[]).factory("$localStorage",t("localStorage")).factory("$sessionStorage",t("sessionStorage"))}),n("webservices/SabreDevStudioWebServicesModule",["lodash","angular","angular_resource","ngPromiseExtras","ngStorage"],function(e,t){"use strict";return t.module("sabreDevStudioWebServices",["ngResource","configuration","NGPromiseUtils","ngStorage"]).constant("dateTimeFormat","YYYY-MM-DDTHH:mm:ss").constant("dateFormat","YYYY-MM-DD").constant("errorEvent","errorEvent").constant("resetErrorsEvent","resetErrorsEvent").factory("businessMessagesErrorHandler",["ErrorReportingService",function(e){function t(e){return[e]}return{handle:function(n,r,i){if(i=i||t,null!==r.data){var a=i(r.data.message);e.reportErrors(a)}return n(a)}}}]).service("ErrorReportingService",["$rootScope","errorEvent",function(e,t){return{reportError:function(n,r){e.$broadcast(t,[n],r)},reportErrors:function(n,r){e.$broadcast(t,n,r)}}}]).factory("ValidationErrorReportingService",["$modal",function(e){return{reportErrors:function(t,n){e.open({animation:!0,templateUrl:"../widgets/view-templates/partials/ErrorsModal.tpl.html",controller:["$scope","$modalInstance",function(e,r){e.errorsList=t,e.modalTitle=n,e.ok=function(){r.close()}}]})}}}])}),n("webservices/Interceptors",["lodash","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";function n(t,n){return e.startsWith(t,n)}return t.module("sabreDevStudioWebServices").factory("NetworkConnectivityErrorInterceptor",["$q","ErrorReportingService","apiURL",function(t,n,r){function i(e){return e.indexOf(r)>-1?"Sabre Dev Studio":e}var a=e.template("Unable to communicate with <%= endpoint %>"),o=e.template("Timeout calling <%= endpoint %>"),s=300;return{responseError:function(e){if(0!==e.status)return t.reject(e);var r={endpoint:i(e.config.url)};if(e.config.timeout&&e.config.timeoutClockStart){var l=Math.round(performance.now()-e.config.timeoutClockStart);if(l>s&&l>=e.config.timeout)return n.reportError(o(r)),t.reject(e)}return n.reportError(a(r)),t.reject(e)}}}]).factory("ResponseTimeLoggerHttpInterceptor",["$q","$log","apiURL",function(e,t,r){function i(e){if(n(e.url,r)&&e.timeStart){var i=performance.now(),a=Math.round(i-e.timeStart);t.debug("http call time: "+a+" millis")}}return{request:function(e){return n(e.url,r)&&(e.timeStart=performance.now()),e},response:function(e){return i(e.config),e},responseError:function(t){return i(t.config),e.reject(t)}}}]).constant("defaultTimeoutMillis",5e3).factory("AddTimeoutOnHttpCommunicationInterceptor",["defaultTimeoutMillis",function(e){return{request:function(t){return t.timeout=t.timeout||e,t.timeoutClockStart=performance.now(),t}}}]).config(["$httpProvider",function(e){e.interceptors.push("ResponseTimeLoggerHttpInterceptor","NetworkConnectivityErrorInterceptor","AddTimeoutOnHttpCommunicationInterceptor")}])}),function(){var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,a,o,s,l){var c=o.groupBy,u=o.groupFilter;if(s.parseRepeatAttr(o.repeat,c,u),s.disableChoiceExpression=o.uiDisableChoice,s.onHighlightCallback=o.onHighlight,c){var d=a.querySelectorAll(".ui-select-choices-group");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",d.length);d.attr("ng-repeat",t.getGroupNgRepeatExpression())}var p=a.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",t.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,c)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var f=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",f.length);f.attr("uis-transclude-append",""),r(a,l)(i),i.$watch("$select.search",function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(o.refresh)}),o.$observe("refreshDelay",function(){var t=i.$eval(o.refreshDelay);s.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,r,i,a,o,s){function l(){(p.resetSearchInput||void 0===p.resetSearchInput&&s.resetSearchInput)&&(p.search=f,p.selected&&p.items.length&&!p.multiple&&(p.activeIndex=p.items.indexOf(p.selected)))}function c(e,t){var n,r,i=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&i.push(e[r]);return i}function u(t){var n=!0;switch(t){case e.DOWN:!p.open&&p.multiple?p.activate(!1,!0):p.activeIndex<p.items.length-1&&p.activeIndex++;break;case e.UP:!p.open&&p.multiple?p.activate(!1,!0):(p.activeIndex>0||0===p.search.length&&p.tagging.isActivated&&p.activeIndex>-1)&&p.activeIndex--;break;case e.TAB:(!p.multiple||p.open)&&p.select(p.items[p.activeIndex],!0);break;case e.ENTER:p.open&&(p.tagging.isActivated||p.activeIndex>=0)?p.select(p.items[p.activeIndex]):p.activate(!1,!0);break;case e.ESC:p.close();break;default:n=!1}return n}function d(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(p.activeIndex<0)){var r=t[p.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;i>a?e[0].scrollTop+=i-a:i<r.clientHeight&&(p.isGrouped&&0===p.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}}var p=this,f="";if(p.placeholder=s.placeholder,p.searchEnabled=s.searchEnabled,p.sortable=s.sortable,p.refreshDelay=s.refreshDelay,p.removeSelected=!1,p.closeOnSelect=!0,p.search=f,p.activeIndex=0,p.items=[],p.open=!1,p.focus=!1,p.disabled=!1,p.selected=void 0,p.focusser=void 0,p.resetSearchInput=!0,p.multiple=void 0,p.disableChoiceExpression=void 0,p.tagging={isActivated:!1,fct:void 0},p.taggingTokens={isActivated:!1,tokens:void 0},p.lockChoiceExpression=void 0,p.clickTriggeredSelect=!1,p.$filter=i,p.searchInput=n.querySelectorAll("input.ui-select-search"),1!==p.searchInput.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",p.searchInput.length);p.isEmpty=function(){return angular.isUndefined(p.selected)||null===p.selected||""===p.selected},p.activate=function(e,n){p.disabled||p.open||(n||l(),t.$broadcast("uis:activate"),p.open=!0,p.activeIndex=p.activeIndex>=p.items.length?0:p.activeIndex,-1===p.activeIndex&&p.taggingLabel!==!1&&(p.activeIndex=0),r(function(){p.search=e||p.search,p.searchInput[0].focus()}))},p.findGroupByName=function(e){return p.groups&&p.groups.filter(function(t){return t.name===e})[0]},p.parseRepeatAttr=function(e,n,r){function i(e){var i=t.$eval(n);if(p.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=p.findGroupByName(t);n?n.items.push(e):p.groups.push({name:t,items:[e]})}),r){var a=t.$eval(r);angular.isFunction(a)?p.groups=a(p.groups):angular.isArray(a)&&(p.groups=c(p.groups,a))}p.items=[],p.groups.forEach(function(e){p.items=p.items.concat(e.items)})}function s(e){p.items=e}p.setItemsFn=n?i:s,p.parserResult=a.parse(e),p.isGrouped=!!n,p.itemProperty=p.parserResult.itemName,p.refreshItems=function(e){e=e||p.parserResult.source(t);var n=p.selected;if(angular.isArray(n)&&!n.length||!p.removeSelected)p.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.indexOf(e)<0});p.setItemsFn(r)}},t.$watchCollection(p.parserResult.source,function(e){if(void 0===e||null===e)p.items=[];else{if(!angular.isArray(e))throw o("items","Expected an array but got '{0}'.",e);p.refreshItems(e),p.ngModel.$modelValue=null}})};var h;p.refresh=function(e){void 0!==e&&(h&&r.cancel(h),h=r(function(){t.$eval(e)},p.refreshDelay))},p.setActiveItem=function(e){p.activeIndex=p.items.indexOf(e)},p.isActive=function(e){if(!p.open)return!1;var t=p.items.indexOf(e[p.itemProperty]),n=t===p.activeIndex;return!n||0>t&&p.taggingLabel!==!1||0>t&&p.taggingLabel===!1?!1:(n&&!angular.isUndefined(p.onHighlightCallback)&&e.$eval(p.onHighlightCallback),n)},p.isDisabled=function(e){if(p.open){var t,n=p.items.indexOf(e[p.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(p.disableChoiceExpression)&&(t=p.items[n],r=!!e.$eval(p.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},p.select=function(e,n,i){if(void 0===e||!e._uiSelectChoiceDisabled){if(!p.items&&!p.search)return;if(!e||!e._uiSelectChoiceDisabled){if(p.tagging.isActivated){if(p.taggingLabel===!1)if(p.activeIndex<0){if(e=void 0!==p.tagging.fct?p.tagging.fct(p.search):p.search,!e||angular.equals(p.items[0],e))return}else e=p.items[p.activeIndex];else if(0===p.activeIndex){if(void 0===e)return;if(void 0!==p.tagging.fct&&"string"==typeof e){if(e=p.tagging.fct(p.search),!e)return}else"string"==typeof e&&(e=e.replace(p.taggingLabel,"").trim())}if(p.selected&&angular.isArray(p.selected)&&p.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void p.close(n)}t.$broadcast("uis:select",e);var a={};a[p.parserResult.itemName]=e,r(function(){p.onSelectCallback(t,{$item:e,$model:p.parserResult.modelMapper(t,a)})}),p.closeOnSelect&&p.close(n),i&&"click"===i.type&&(p.clickTriggeredSelect=!0)}}},p.close=function(e){p.open&&(p.ngModel&&p.ngModel.$setTouched&&p.ngModel.$setTouched(),l(),p.open=!1,t.$broadcast("uis:close",e))},p.setFocus=function(){p.focus||p.focusInput[0].focus()},p.clear=function(e){p.select(void 0),e.stopPropagation(),r(function(){p.focusser[0].focus()},0,!1)},p.toggle=function(e){p.open?(p.close(),e.preventDefault(),e.stopPropagation()):p.activate()},p.isLocked=function(e,t){var n,r=p.selected[t];return r&&!angular.isUndefined(p.lockChoiceExpression)&&(n=!!e.$eval(p.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var g=null;p.sizeSearchInput=function(){var e=p.searchInput[0],n=p.searchInput.parent().parent()[0],i=function(){return n.clientWidth*!!e.offsetParent},a=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),p.searchInput.css("width",n+"px"),!0};p.searchInput.css("width","10px"),r(function(){null!==g||a(i())||(g=t.$watch(i,function(e){a(e)&&(g(),g=null)}))})},p.searchInput.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1;if((p.items.length>0||p.tagging.isActivated)&&(u(i),p.taggingTokens.isActivated)){for(var a=0;a<p.taggingTokens.tokens.length;a++)p.taggingTokens.tokens[a]===e.MAP[n.keyCode]&&p.search.length>0&&(t=!0);t&&r(function(){p.searchInput.triggerHandler("tagged");var t=p.search.replace(e.MAP[n.keyCode],"").trim();p.tagging.fct&&(t=p.tagging.fct(t)),t&&p.select(t,!0)})}}),e.isVerticalMovement(i)&&p.items.length>0&&d(),(i===e.ENTER||i===e.ESC)&&(n.preventDefault(),n.stopPropagation())}),p.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&p.taggingTokens.isActivated&&p.tagging.fct){var n=t.split(p.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=p.tagging.fct(e);t&&p.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),p.searchInput.on("tagged",function(){r(function(){l()})}),t.$on("$destroy",function(){p.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,a,o){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),function(i,s,l,c,u){function d(e){if(h.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!h.clickTriggeredSelect){var n=["input","button","textarea"],r=angular.element(e.target).scope(),a=r&&r.$select&&r.$select!==h;a||(a=~n.indexOf(e.target.tagName.toLowerCase())),h.close(a),i.$digest()}h.clickTriggeredSelect=!1}}function p(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function f(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var h=c[0],g=c[1];h.generatedId=t.generateId(),h.baseTitle=l.title||"Select box",h.focusserTitle=h.baseTitle+" focus",h.focusserId="focusser-"+h.generatedId,h.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?a(l.closeOnSelect)():t.closeOnSelect}(),h.onSelectCallback=a(l.onSelect),h.onRemoveCallback=a(l.onRemove),h.ngModel=g,h.choiceGrouped=function(e){return h.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){h.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch("searchEnabled",function(){var e=i.$eval(l.searchEnabled);h.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);h.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){h.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);h.resetSearchInput=void 0!==e?e:!0}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);h.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else h.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&(h.taggingLabel="false"===l.taggingLabel?!1:void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];h.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&o(function(){h.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){o(function(){h.setFocus()})}),e.on("click",d),i.$on("$destroy",function(){e.off("click",d)}),u(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i)});var m=i.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?p():f()}),i.$on("$destroy",function(){f()}));var v=null,y="",A=null,b="direction-up";i.$watch("$select.open",function(t){if(t){if(A=angular.element(s).querySelectorAll(".ui-select-dropdown"),null===A)return;A[0].style.visibility="hidden",o(function(){var t=r(s),n=r(A);t.top+t.height+n.height>e[0].documentElement.scrollTop+e[0].documentElement.clientHeight&&(A[0].style.position="absolute",A[0].style.top=-1*n.height+"px",s.addClass(b)),A[0].style.visibility=""})}else{if(null===A)return;A[0].style.position="",A[0].style.top="",s.removeClass(b)}})}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,r=t.parent().attr("multiple");return n+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function a(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",a),a(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},r.removeChoice=function(n){var a=i.selected[n];if(!a._uiSelectChoiceLocked){var o={};o[i.parserResult.itemName]=a,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:a,$model:i.parserResult.modelMapper(e,o)})}),r.updateModel()}},r.getPlaceholder=function(){return i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,i,a,o){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~f.activeMatchIndex?u:o;case e.RIGHT:return~f.activeMatchIndex&&l!==o?c:(d.activate(),!1);case e.BACKSPACE:return~f.activeMatchIndex?(f.removeChoice(l),u):o;case e.DELETE:return~f.activeMatchIndex?(f.removeChoice(f.activeMatchIndex),l):!1}}var r=s(d.searchInput[0]),i=d.selected.length,a=0,o=i-1,l=f.activeMatchIndex,c=f.activeMatchIndex+1,u=f.activeMatchIndex-1,p=l;return r>0||d.search.length&&t==e.RIGHT?!1:(d.close(),p=n(),f.activeMatchIndex=d.selected.length&&p!==!1?Math.min(o,Math.max(a,p)):-1,!0)}function c(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function u(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===d.tagging.fct)r[i]+" "+d.taggingLabel===t&&(n=i);else{var a=r[i];a.isTag=!0,angular.equals(a,t)&&(n=i)}return n}var d=o[0],p=r.ngModel=o[1],f=r.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$parsers.unshift(function(){for(var e,t={},n=[],i=d.selected.length-1;i>=0;i--)t={},t[d.parserResult.itemName]=d.selected[i],e=d.parserResult.modelMapper(r,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=d.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var a=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(i[d.parserResult.itemName]=e[o],t=d.parserResult.modelMapper(r,i),d.parserResult.trackByExp){var s=/\.(.+)/.exec(d.parserResult.trackByExp);if(s.length>0&&t[s[1]]==n[s[1]])return a.unshift(e[o]),!0}if(angular.equals(t,n))return a.unshift(e[o]),!0}return!1}};if(!e)return a;for(var s=e.length-1;s>=0;s--)o(d.selected,e[s])||o(n,e[s])||a.unshift(e[s]);return a}),r.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,f.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,r.$evalAsync()},r.$on("uis:select",function(e,t){d.selected.push(t),f.updateModel()}),r.$on("uis:activate",function(){f.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=l(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,i,a,o,s=angular.copy(d.items),l=angular.copy(d.items),p=!1,f=-1;if(void 0!==d.tagging.fct){if(a=d.$filter("filter")(s,{isTag:!0}),a.length>0&&(o=a[0]),s.length>0&&o&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),n.isTag=!0,l.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;n.isTag=!0}else{if(a=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),a.length>0&&(o=a[0]),i=s[0],void 0!==i&&s.length>0&&o&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(c(l.concat(d.selected)))return void(p&&(s=l,r.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(c(l))return void(p&&(d.items=l.slice(1,l.length)))}p&&(f=u(d.selected,n)),f>-1?s=s.slice(f+1,s.length-1):(s=[],s.push(n),s=s.concat(l)),r.$evalAsync(function(){d.activeIndex=0,d.items=s})}}),d.searchInput.on("blur",function(){n(function(){f.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,i,a,o){var s=o[0],l=o[1];l.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),l.$formatters.unshift(function(e){var t,n=s.parserResult.source(r,{$select:{search:""}}),i={};if(n){var a=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,i),t==e};if(s.selected&&a(s.selected))return s.selected;for(var o=n.length-1;o>=0;o--)if(a(n[o]))return n[o]}return e}),r.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(c)(r),s.focusser=c,s.focusInput=c,i.parent().append(c),c.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),c.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),c.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),c.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(c.val()),c.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,r,i,a){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var o=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),s=o.axis,l="dragging",c="dropping",u="dropping-before",d="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(l),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),r.on("dragend",function(){r.removeClass(l)});var p,f=function(e,t){this.splice(t,0,this.splice(e,1)[0])},h=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(r.removeClass(d),r.addClass(u)):(r.removeClass(u),r.addClass(d))
},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){m(n)},20)},m=function(e){var n=t.$eval(i.uiSelectSort),a=n[e],o=null;o=r.hasClass(u)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,f.apply(n,[e,o]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:a,from:e,to:o})}),r.removeClass(c),r.removeClass(u),r.removeClass(d),r.off("drop",g)};r.on("dragenter",function(){r.hasClass(l)||(r.addClass(c),r.on("dragover",h),r.on("drop",g))}),r.on("dragleave",function(e){e.target==r&&(r.removeClass(c),r.removeClass(u),r.removeClass(d),r.off("dragover",h),r.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,r){var i=e+" in "+(r?"$group.items":t);return n&&(i+=" track by "+n),i}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),n("angular-ui-select",["angular"],function(){}),function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function i(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function a(e,n){function r(e,r,a,s){if(r=t.lowercase(r),$[r])for(;A.last()&&x[A.last()];)i("",A.last());w[r]&&A.last()==r&&i("",r),s=b[r]||!!s,s||A.push(r);var l={};a.replace(p,function(e,t,n,r,i){var a=n||r||i||"";l[t]=o(a)}),n.start&&n.start(r,l,s)}function i(e,r){var i,a=0;if(r=t.lowercase(r))for(a=A.length-1;a>=0&&A[a]!=r;a--);if(a>=0){for(i=A.length-1;i>=a;i--)n.end&&n.end(A[i]);A.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,s,l,y,A=[],S=e;for(A.last=function(){return A[A.length-1]};e;){if(y="",s=!0,A.last()&&T[A.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+A.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(o(t)),""}),i("",A.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),s=!1)):m.test(e)?(l=e.match(m),l&&(e=e.replace(l[0],""),s=!1)):h.test(e)?(l=e.match(d),l&&(e=e.substring(l[0].length),l[0].replace(d,i),s=!1)):f.test(e)&&(l=e.match(u),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(u,r)),s=!1):(y+="<",e=e.substring(1))),s&&(a=e.indexOf("<"),y+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(o(y)))),e==S)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);S=e}i()}function o(e){return e?(E.innerHTML=e.replace(/</g,"&lt;"),E.textContent):""}function s(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(A,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!r&&T[e]&&(r=e),r||F[e]!==!0||(i("<"),i(e),t.forEach(a,function(r,a){var o=t.lowercase(a),l="img"===e&&"src"===o||"background"===o;P[o]!==!0||M[o]===!0&&!n(r,l)||(i(" "),i(a),i('="'),i(s(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||F[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(s(e))}}}var c=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,h=/^<\//,g=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,A=/([^\#-~| |!])/g,b=i("area,br,col,hr,img,wbr"),S=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),D=i("rp,rt"),w=t.extend({},D,S),$=t.extend({},S,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},D,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),T=i("script,style"),F=t.extend({},b,$,x,w,C),M=i("background,cite,href,longdesc,src,usemap,xlink:href"),k=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),O=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),P=t.extend({},M,O,k),E=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,i=/^mailto:/;return function(a,o){function s(e){e&&f.push(r(e))}function l(e,n){f.push("<a "),t.isDefined(o)&&f.push('target="',o,'" '),f.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!a)return a;for(var c,u,d,p=a,f=[];c=p.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(p.substr(0,d)),l(u,c[0].replace(i,"")),p=p.substring(d+c[0].length);return s(p),e(f.join(""))}}])}(window,window.angular),n("angular-sanitize",["angular"],function(){}),n("webservices/lookup/AirlineLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return e.module("sabreDevStudioWebServices").factory("AirlineLookupDataService",["$q","AirlineLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){return e.replace(/S\.?A\.?/g,"").replace(/gmbh/gi,"").replace(/Ltd\.?/gi,"").replace(/L\.?L\.?C\.?/gi,"").replace(/Limited/gi,"").replace(/Inc\.?/gi,"").replace(/AG/gi,"").replace(/Pty/gi,"").replace(/Co\./gi,"").replace(/C\.?A\.?/g,"").replace(/.*Lan.*Ecuador.*/g,"Lan Ecuador").replace(/.*Lan.*Equador.*/g,"Lan Equador").replace(/.*SWISS.*/g,"SWISS").replace(/.*Iberia.*/g,"Iberia").replace(/.*Air.*Berlin.*/g,"Air Berlin").replace(/.*Malaysian.*Airline.*/g,"Malaysian Airline").replace(/.*Ukraine.*International.*/g,"Ukraine International Airlines").replace(/.*Virgin.*Australia.*/g,"Virgin Australia").replace(/.*Alitalia.*/g,"Alitalia").replace(/.*Austrian.*/g,"Austrian Airlines")}return{getAirlineAndAirlineCodesList:function(){return e(function(e,s){return r.airlineAndAirlineCodesList?e(t.clone(r.airlineAndAirlineCodesList)):void n.get().$promise.then(function(n){var i=n.AirlineInfo.map(function(e){return{AirlineCode:e.AirlineCode,AirlineName:o(e.AirlineName)}});r.airlineAndAirlineCodesList=i,e(t.clone(i))},function(e){i.reportError("Cannot get airlines and airline codes dictionary"),a.handle(s,e)})})},getAirlinesDictionary:function(){function s(e){var t={};return e.AirlineInfo.forEach(function(e){t[e.AirlineCode]=o(e.AirlineName)}),t}return e(function(e,o){return r.airlinesDictionary?e(t.clone(r.airlinesDictionary)):void n.get().$promise.then(function(n){var i=s(n);r.airlinesDictionary=i,e(t.clone(i))},function(e){i.reportError("Cannot get airlines dictionary"),a.handle(o,e)})})}}}])}),n("webservices/common/PromiseUtils",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return e.module("sabreDevStudioWebServices").factory("PromiseUtils",["$q",function(e){return{addResolvedObjectCloning:function(n){return function(){var r=arguments;return e(function(e,i){n.apply(null,r).then(function(n){e(t.clone(n))},i)})}},rejectIfAnyRejected:function(e,t){var n=e.filter(function(e){return"fulfilled"!==e.state});if(n.length>0){var r=n.map(function(e){return e.reason}).join();return t(r)}}}}])}),n("webservices/lookup/AirportLookupDataService",["angular","lodash","util/LodashExtensions","webservices/SabreDevStudioWebServicesModule","webservices/common/PromiseUtils"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("AirportLookupDataService",["$q","ShoppingAirportsAndCitiesLookupWebService","FareRangeAirportsAndCitiesLookupWebService","LowFareForecastAirportsAndCitiesLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler","PromiseUtils","pointOfSaleCountry",function(e,r,i,a,o,s,l,c,u){function d(e,t){var n=t.AirportCode;p(e,t,n)}function p(e,t,n){e[n]||(e[n]={AirportName:t.AirportName,CityName:t.CityName,CountryCode:t.CountryCode,CountryName:t.CountryName})}function f(e){return e.OriginDestinationLocations.reduce(function(e,t){var n=t.OriginLocation;d(e,n);var r=t.DestinationLocation;return d(e,r),e},{})}function h(t,n,r,i){return void 0===r&&(r=u),void 0===i&&(i=!1),e(function(e,a){if(o[t][r])return e(o[t][r]);var c={pointofsalecountry:r};n.get(c).$promise.then(function(n){var a=f(n);o[t][r]=a,i&&A(t,a),e(a)},function(e){s.reportError("Cannot get airports dictionary "+t+" for POS country "+r),l.handle(a,e)})})}function g(e){return void 0===e&&(e=u),h(T,r,e)}function m(e){return void 0===e&&(e=u),h(F,i,e)}function v(e){return void 0===e&&(e=u),h(M,a,e)}function y(){t.isUndefined(o[T])&&(o[T]={}),t.isUndefined(o[F])&&(o[F]={}),t.isUndefined(o[M])&&(o[M]={}),t.isUndefined(o[T][C])&&(o[T][C]={})}function A(e,n){var r=o[e][C];t.each(n,function(e,t){p(r,e,t)})}function b(){var n=o[T][C];return t.isEmpty(n)?e(function(e,t){g().then(e,t)}):e.when(n)}function S(){return e.when(o[F][C])}function D(){return e.when(o[M][C])}function w(t){return e(function(e,r){$(t).then(function(t){e(n.isDefined(t))},function(e){s.reportError("Cannot determine if airport dictionary contains airport"+e),l.handle(r,e)})})}function $(t){return e(function(e,n){g().then(function(n){e(n[t])},n)})}function x(n){return e(function(e,r){$(n).then(function(r){r=t.clone(r),e(t.extend(r,{airportCode:n}))},r)})}var C="SUM_OF_ALL_DICTIONARIES",T="shoppingAirportsDictionary",F="fareRangeAirportsDictionary",M="lowFareForecastAirportsDictionary";return y(),{getShoppingAirportsDictionary:c.addResolvedObjectCloning(g),getShoppingAirportsDictionaryForAllPoS:c.addResolvedObjectCloning(b),getFareRangeAirportsDictionary:c.addResolvedObjectCloning(m),getFareRangeAirportsDictionaryForAllPoS:c.addResolvedObjectCloning(S),getLowFareForecastAirportsDictionary:c.addResolvedObjectCloning(v),getLowFareForecastAirportsDictionaryForAllPoS:c.addResolvedObjectCloning(D),containsAirport:w,getAirportData:c.addResolvedObjectCloning($.bind(this)),getAirportDataWithAirportCode:x}}]).factory("AirportsDictionaryFetchFnFactory",["AirportLookupDataService",function(e){return{selectAirportsDictionaryFetchFn:function(t,n){switch(void 0===n&&(n=!1),t){case"fareRange":return n?e.getFareRangeAirportsDictionary:e.getFareRangeAirportsDictionaryForAllPoS;case"lowFareForecast":return n?e.getLowFareForecastAirportsDictionary:e.getLowFareForecastAirportsDictionaryForAllPoS;default:return n?e.getShoppingAirportsDictionary:e.getShoppingAirportsDictionaryForAllPoS}}}}])}),n("webservices/lookup/EquipmentLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return e.module("sabreDevStudioWebServices").factory("EquipmentLookupDataService",["$q","EquipmentLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){var t={};return e.AircraftInfo.forEach(function(e){t[e.AircraftCode]=e.AircraftName}),t}return{getAircraftDictionary:function(){return e(function(e,s){return r.aircraftDictionary?e(t.clone(r.aircraftDictionary)):void n.get().$promise.then(function(n){var i=o(n);r.aircraftDictionary=i,e(t.clone(i))},function(e){i.reportError("Cannot get aircraft dictionary"),a.handle(s,e)})})}}}])}),n("webservices/lookup/PointOfSaleCountryLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return e.module("sabreDevStudioWebServices").factory("PointOfSaleCountryLookupDataService",["PointOfSaleCountryLookupWebService","$q","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){return e.Countries.map(function(e){return{countryCode:e.CountryCode,countryName:e.CountryName}})}return{getPointOfSaleCountries:function(){return n(function(n,s){return r.pointOfSaleCountries?n(t.clone(r.pointOfSaleCountries)):void e.get().$promise.then(function(e){var i=o(e);r.pointOfSaleCountries=i,n(t.clone(i))},function(e){i.reportError("Cannot get point of sales dictionary"),a.handle(s,e)})})}}}])}),n("util/LookupFilters",["angular","lodash","webservices/lookup/AirlineLookupDataService","webservices/lookup/AirportLookupDataService","webservices/lookup/EquipmentLookupDataService","webservices/lookup/PointOfSaleCountryLookupDataService"],function(e,t){"use strict";function n(e){var t=null,n=!1,r=function(r){if(null===t)return n||(n=!0,e.then(function(e){t=e})),r;var i=t[r];return i?i:r};return r.$stateful=!0,r}function r(e,r){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];if(t.isUndefined(i[e])&&(i[e]={}),t.isUndefined(i[e][a.join()])){var s=r.apply(null,a);i[e][a.join()]=n(s)}return i[e][a.join()]}var i={};return e.module("sDSLookups",["sabreDevStudioWebServices"]).filter("airlineFullName",["AirlineLookupDataService",function(e){return n(e.getAirlinesDictionary())}]).filter("cityFullName",["AirportLookupDataService",function(e){var t=n(e.getShoppingAirportsDictionary()),r=function(e){var n=t(e);return n.CityName?n.CityName:n};return r.$stateful=!0,r}]).filter("cityAndAirportFullName",["AirportLookupDataService",function(e){var t=r("AirportLookupDataService.getShoppingAirportsDictionaryForAllPoS",e.getShoppingAirportsDictionaryForAllPoS),n=function(n,i){var a=r("AirportLookupDataService.getShoppingAirportsDictionary",e.getShoppingAirportsDictionary,i),o=a(n);if(o===n){var s=t(n);if(s===n)return s;o=s}return o.AirportName!==o.CityName?o.AirportName+", "+o.CityName:o.AirportName};return n.$stateful=!0,n}]).filter("airportCountry",["AirportLookupDataService",function(e){var t=n(e.getShoppingAirportsDictionary()),r=function(e){var n=t(e);return n===e?n:n.CountryName};return r.$stateful=t.$stateful,r}]).filter("aircraftName",["EquipmentLookupDataService",function(e){return n(e.getAircraftDictionary())}])}),angular.module("dcbImgFallback",[]).directive("fallbackSrc",function(){var e="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9q3X/TP/vmgB39iy/89l/I0n9jS/8APZPyNN/tW6/6Z/8AfNJ/at16R/8AfNADv7Fl/wCeyfkaP7El/wCe6fkab/a136R/980n9r3fpH/3zQA7+w5v+e6fkaralpr2cAlaRWDNtwB7H/CrVnqlzLdxxsI9rMAcLVjxR/yD0/66j+RoA55qa1PppoAY1NanmmmgCNqaae1NagBKa3WnUjUAMNNNPamtQAw009KcetNNADW6UxqfTT0oAY1NanN0pG6UAMamt1pzU1qAGHrTae1MPWgBtDdKKDQAxqa1PbpTGoASiiigApy9aaOtPXrQA5aWkWloAVaevSmr0pwoAdTqbTh1oAcvWnDrSLTl60AOXrTlpq05aAHLT16U1elOHSgBw6U6m04daAHDrTqRetLQADrT1601actADlpy01aeOlACrT1ptOoAcK6aP/kCL/17j/0GuZHWumj/AOQKv/XuP/QaAOdFOFItKKAFAp2DU+mQ+feIhHyg5b6Crus2fW4iH++B/OgDLxS4FOxRQAzFLDG0syxKOWOBSkVPpTqmoRlvUj8xQBqWun20SAGNZG7swz+lQ6lpkUkTPAmyQDOB0b2xWhSOwRCzHAUZJoA5rTf+QhD/ANdB/OtTxR/yD0/66j+RrNsTnU4jjrIP51peKP8AkHr/ANdR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/8AIFX/AK9x/wCg1zS10sf/ACBV/wCvcf8AoNAHPLTlpF6U6MFmCgZJOBQBr+HodsLTEcscD6Vo9eDTLaMQ26RD+EYp9AGPqVp5Em9B+7Y8e3tVWuglRZIyjjIPWsW8haCUoeR/CfUUAQMKa1Oanx280kLSIhKqMk0ATW+qTRKFdRIB0J61FfX81yuw4VPRe/1qu1MbrQBLp3/IQh/3xWp4m/48E/66j+RrM0//AJCEP++P51p+Jv8AjwT/AK6j+RoAwDTW6U4009KAGNTWpzU1qAGtTG609qY3WgBtFFFADaa3SnGmt0oAY1NanNTWoAa1MbrT2pjdaAG02nU2gBtNbpTqa3SgBjU1qc1NagBrUlK1JQA2m06m0ANooooAF609aZTl60APWlpFpaAHL0p1MXpTx0oAdTl602nDrQA9actNXrSr1oAetOWmrTloAevSnUxaeOlADqcvWm04UAPWlpq9adQAq05aavWnLQA9elOFMWnr0oAdTh1po6U6gB610sf/ACBV/wCvcf8AoNcyK6aP/kCr/wBe4/8AQaAOeWr+gw+ZebyPljGfx7f59qzxW/oMPlWIcj5pDn8O3+fegC7RRRQAVFeQLcQlG6/wn0NS0UAZlnpzFt1xwAeFB61pKoVdqgADoBS0UAYesWvkXG5R+7fp7H0qjXTXcK3Fu0T9+h9D61zdxG0MrRuMMpwaAH6d/wAhCH/fFanib/jwT/rqP5GsrTf+QhD/ANdB/OtTxR/yD0/66j+RoAwTTW6UrU1qAGtTWpzU1utADWph6049abQA2iiigBtNbpTj0pjUANamtTmprUANamN1pzdaaaAG02nU2gBtNbpTj0prdKAGNTWpzU1qAGtSUN1ooAbTacaa3SgBtFFFABTh1ptOoAevWlpo606gBVp69KYtOWgB46U6mr0pw6UAOHWnCm06gBy9aetMpw60APWnLTV605aAHr0pwpi05aAH06mr0pwoAKcOtNpwoAetOWmCnUAPWnLTKcKAHrXTx/8AIDX/AK9x/wCg1y4rqIudEXH/AD7j/wBBoAwLOMz3CRD+I4rqFUKoVRgKMAVy0IuI33xrIrDoQDU/2i//AOek/wCtAHR0VzouL7/npN+tL599/wA9Jv1oA6Giue8++/56TfrR59//AM9Jv1oA6Giue8++/wCek360faL7/npN+tAHQ1n69aebD56D54xz7is37Rf/APPSb9aabi//AOek/wCtADdN/wCQjD/10H861PFH/IPT/rqP5GszTo5BqEJMbf6wZ+WtPxV/yD0/66j+RoA58000401qAGmm0rU1qAENNPSlamtQAlDdKKRqAGtTWpzUw9aAEamN1pxptADTTacelNbpQA09KaelK1NbpQAjdKY1OamtQA1qa3WnN1ph60ANPWiig9KAGnpTW6U5ulMagBKKKKAAU4dKYvSnLQA+nU1elOHSgAXrT1plOFAD1py0wdaetAD16U4dKYtOWgB46U4UxactAD6cKYtPFADh1p60wU4UAPWnLTKdQA6lWkooAetOWmU4UAPWnKaYKcDQA9TXQWeqWcdnFG0jbljUH5T1ArngaUGgDpf7Wsf+erf98Gl/tay/56N/3ya5oGnZoA6P+1bL/no3/fJo/tWy/wCejf8AfJrnc0uaAOi/tSz/AOejf98mj+1LP/no3/fJrncmjJoA6L+1LP8A56N/3yaT+1bL/no3/fJrnqM0AdD/AGrZf89G/wC+TSf2tY/89G/75Nc7mgmgDov7Wsf+ejf98GqOvX9tc2axwuSwkBOVI4wf8ayc00mgAJpppSaaxoAQ000rGmtQAhptK1JQAU005qY1ACU00rU1qAEPSmNTmprUANamtSt1ppoARqa1LTT1oARutMPWnU00ANpppx6U1ulADaRulLSNQA1qa1ObrTD1oAKKa3WigBVpy0wdadQA9actMHWnrQAtOHSm0q0APFOFMWnLQA8U5etNFOFADqcOtNpwoActPWmCnCgB605aYKdQA9actMp1AD1pabTqAFU0oNNpVNADwadTAaUGgCQGlBplOBoAeDS5pmaXNAD80uaZmjNAD80ZpuRRmgB2aTNJkUmaAFzRmm5ozQAE0hNJmkJoACaQmgmm0ABNNNBNNJoAKKKRjQAhpppWprUAIaaaVqa1ACGmmlamtQAhpp6UrU1qAEpp6UrU1qAEbpTGpzUxqAEamtSmm0AFNPWnU00ANNNpx6U00ANooooABTqYtOWgB4pwpi05aAH0Ui0tADh1py00U4UAPWnLTBThQA9actMp1AD1py0wU4UAPWnLTBTgaAHrTlpgpwNADwaUGmA05TQA+ikBpaAFBpwNMpQaAH5p2ajBp2aAH5pc0zNLmgB2TS5pmaXNADs0ZpuaM0AOzRmm5oyaAFzSZpM0maAFzSE0maTNACk00mjNNJoAUmkoooADTSaKaTQAU2gmkY0AJTaVjTWNACGmmlamtQAlNpWprUAIabStTWoAQ000rU1qAEPSm0rUlACNTWpW6000AI1Nalpp60AITRSUUAApwpq04UAOpwpopy0AOFOpopwoAVactMpwoAetOWmCnCgB605aYKcKAHCnCmilWgB4pwNMU05TQA8GnA0xTSg0ASA04GowadQA8GnA0wGlBoAfRTQadmgAzTs02igB2aXNMzS5oAfRk03NGTQA/NGaZk0ZNAD8mkyabk0ZoAdmkzSZpM0ALmkzSUUAFFFITQAuabQTTSaAAmkJoJppNAAxpCaCabQAE00mimk0ABppoNNNABTTStTWoAQ02lamtQAhptK1NagBKKKRqAENNbpStTWoAQ000rU1qAEopCaKAEWnrTBThQA9aUU0U6gBwp60wU4UAOpVpBRQA9acppgpwNADgacKYppymgB4p1MU05TQA8U4Go6dQA8GnKaYDSg0ASA0oNMBpQaAJAaUGmUuaAH5p2ajzTs0APzS0zNLmgB1FNyaXNAC0UZFFABmjNFFABRRRQAUUZFJmgBaM03NJmgBc0maTNJmgBaaTRSE0ABNITQTTaACmk0E0hNAATTWNBNITQAjGkNFNNAAaaaCaaaAA000E0jGgBDTaVqSgApppWprUAIabStTWoASm0rU1qAEopM0UAC05aYKcKAHrTlpgpwoAcKcKaKVaAHg06mLTlNAC04U2lU0APpwqMGnA0ASA04GowadQA9TSg00GlBoAfTgajBpwNADwaUGmg0oNAD6UGmZp2aAHZp2ajzTs0APzS5qPNLmgB+aXNMzS5oAfmjNMzS5FADs0Z96bkUZFADs0ZFNyKTNADs0ZpuaTJoAdSZpM0maAFzSZpM0maAFpCaSkJoAUmm0E00mgBSaaTQTSE0ABNNopCaAEJpGNDGmk0ADGmsaUmmk0AIxpCaCabQAUGimk0ABppoNNNABTaVqa1ACU00rU1qAEopM0UAIKcKYtOWgB4pwpi05aAHinUxTTlNADxThUYNOBoAkBopop1ACqacpplOBoAeDSg0wGnA0APBpwNRg06gB4NLTQaUGgB4NKDTKXNAD807NR5p2aAHZp2ajzS5oAfmlzTM0uaAH5oyabmjNAD80ZpuTRmgB2aM03NGaAHZozTc0ZoAdmkzTcmjNADs0mabmjNAC5pM0maTNAC5pM0maTNAC5puaM03NACk0lGabmgAJpCaCaaTQAE0hNBNNoACaaTQTSMaAEJoopCaABjTWNKTTSaAEY0hoppNAAaaaDTTQAGmmg000AFFITRQAlOFMU05TQA+nUxTSg0ASCnA1GDTgaAJAaVTTKdQA8GlBpimnA0APopoNOoAcDSg0ynA0AOBp1MBpQaAJAaUGmA0uaAH5p2ajzTs0AOpc03NLmgB2aXNMpc0APpc0zNGTQBJmimZpcigB2TS5NMzRk0APzRmmZNGTQA/NJk03JoyaAHZozTc0ZFAC5pMmkzSZoAdmkzSZpM0ALSZpKTNAC0maTNJmgBc00mjNNzQApNITSE0hNAATTSaCaQmgAJpKKCaAAmmk0U0mgAJptBNIxoAGNNY0pNNJoARjTWpSaaaAEY0jUU00AFFNooAAacDUYNOFAEgNKppgpwNAD1NOU0wGnA0AOBpwNMBpymgB9KDTAadQA8GlBpgNOBoAfRTQadQAoNKDTaAaAJM0oNMpQaAH5p2ajzTs0APzS5qPNOzQA7NLmmZpc0APoyabmjJoAfmjNNzS5FADs0ZpuaKAHZozTaKAHZozTaKAHZFJmkzSZoAdmkpM0mTQA6kzSZpM0ALmkzSUmaAFzSZpKTNAC5ppNGaQmgAJpCaCabQAE0UUhNACk02gmmk0ABNITQTSE0ABNNJoptABTSaCaQmgBCaaTSsaaxoAGNNY0MaQmgBM0UlFACKacppgNKDQA8GnA0xTTgaAH04VGDTgaAJAaVTTKcDQA8GlBpgNOBoAfSg0wGnUAOBp1MBpQaAJAaKaDS5oAWlzSUUAOzTs1HmnZoAdmlzTM0uaAH5pc0ylzQA/NGTTc0ZoAfmjNNyaM0APyKM0zNLkUAOzRmm5FGRQA7NGabkUZoAdkUmabmjNADsmkpuTRmgB2aTNNzSZoAdmkzSZpM0ALmkzSUmaAFzSZpKKACijNNJoAUmkJpCaQmgAJppNFITQApNNoJptAATTSaCaQmgAJprGgmkJoACaaTRTSaACm0E00mgAopM0UAJThTFNKKAJAaUGmU4GgB6mnA0wGlBoAeDTqYDSg0ASA0oNMBpQaAHg04GmA0uaAJAaM03NKDQA8GlBplKDQA/NLmmZpc0APopuaXNAC0uaSigB2aXNMoyaAH5pc0zNLkUAOyaXJpmaMmgB+aM03NGaAHZozTc0ZoAdmjNNzRmgB2aMmm5NJk0AOozTc0ZoAXNJmkzSUAOzSZpKKACiikzQAtJmkzSZoAXNNzRmm5oAUmkozTSaAFJpCaQmkJoAKaTQTSE0ABNNJoJpCaAAmm0U0mgAJpCaGNNJoAGNNY0pNNoAKKbmigABpVNMpwNADgadTAaUGgCQGnA1HTgaAHg0oNMBpwNAD804GowacDQA8GlzTAaUGgCQGlBpmaXNAD80uaZmlzQA+lzTM07NADqXNMpc0APzS5pmaXNAD80UzNLmgB1FJk0ZoAWijIozQAZNLk0lFAC5ozSUUALmkyaKKADJooozQAUUmaM0ALRTcmjNAC5pMmkzSZoAdmkzSZpM0ALmkzSUmaAFpM0lJmgBc03NGabmgBSaQmkzSZoACaQmkJpCaAFJptBNNJoACaQmgmmk0ABNITQTTaACmk0pNNY0AGaKSigAopFNLQA4GlBplOBoAcDTs0wGloAkBpQaYDSg0APzTgajBp1ADwaXNMBpQaAJM0uaZmlzQA/NLmmZpc0APzTs1HmlzQA/NLmmZpc0APoyabmlzQA7NLmmZpaAHZNLmmUuTQA7NLkUzNGaAH5ozTcijIoAdmjNNzRmgB2aM03NGRQA7NGRTcikzQA7NGTTc0mTQA7NGabRmgBc0lJmkyaAHZpM0maTNAC0maSkzQAtJmkzSZoAXNNzRmm5oAUmkozTc0AKTTSaCaQmgAppNFNJoAUmkJpCaSgApCaQmkJoACaSiigAoptFAAtKtFFAC0UUUAOpVoooAWnUUUAKtLRRQA6lWiigBacKKKACnUUUAFOoooAKcKKKACjJoooAdRRRQAZpc0UUALRRRQAUUUUAFFFFABRRRQAUUUUABpuTRRQAUUUUAITSUUUAFITRRQAlI1FFACUjUUUAJSMaKKAEptFFACNSUUUANpGoooASmmiigBGpKKKACm0UUAITRRRQB//Z";
return{restrict:"A",link:function(t,n,r){var i=function(){n.off("error",i);var t=r.fallbackSrc||e;n[0].src!==t&&(n[0].src=t)};n.on("error",i)}}}).directive("loadingSrc",function(){var e="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9qXXon/fNADv7Fl/57L+RpP7Gl/wCeyfkab/at1/0z/wC+aT+1br0j/wC+aAHf2LL/AM9k/I0f2JL/AM90/I03+1rv0j/75pP7Xu/SP/vmgB39hzf890/I1W1LTXs4BK0isGbbgD2P+FWrPVLmW7jjYR7WYA4WrHij/kHp/wBdR/I0Ac81Nan000AMamtTzTTQBG1NNPamtQAlNbrTqRqAGGmmntTWoAYaaelOPWmmgBrdKY1Ppp6UAMamtTm6UjdKAGNTW605qa1ADD1ptPamHrQA2hulFBoAY1Nant0pjUAJRRRQAU5etNHWnr1oActLSLS0AKtPXpTV6U4UAOp1Npw60AOXrTh1pFpy9aAHL1py01actADlp69KavSnDpQA4dKdTacOtADh1p1IvWloAB1p69aatOWgBy05aatPHSgBVp602nUAOFdNH/yBF/69x/6DXMjrXTR/8gVf+vcf+g0Ac6KcKRaUUAOjQuwVQST0ArVs9LULvuT/AMBB/mafpsEdna/aZ/vEZ+g9PrVK9vJbliM7U7KP60AaIn0+3O1TGp/2Rn9RThf2bceYPxU1i4ooA2pLOzuEyqrz/ElZeoWElv8AMPnj/vDt9aZBLJC++Jip7jsa2bG5S7hOQNw4dTQBzp4pGq9q1p9nmyg/dv8Ad9vaqVAEmm/8hCH/AK6D+danij/kHp/11H8jWZpv/IQh/wCug/nWn4o/5B6/9dR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/wDIFX/r3H/oNc0tdLH/AMgVf+vcf+g0Ac8tWdLi868RD0zk/QVXXpV/w7/x/H/cP9KAJNdnLXAhB+VOv1qkKddktdSE/wB8/wA6bQA4CiilJoAawqSymMF0smeM4b6VG1NagDd1OITWTrjJA3L9RXOnrXT253W6HPVR/Kuak4kIHrQA/Tv+QhD/AL4rU8Tf8eCf9dR/I1maf/yEIf8AfH860/E3/Hgn/XUfyNAGAaa3SnGmnpQAxqa1OamtQA1qY3WntTG60ANooooAbTW6U401ulADGprU5qa1ADWpjdae1MbrQA2m06m0ANprdKdTW6UAMamtTmprUANakpWpKAG02nU2gBtFFFAAvWnrTKcvWgB60tItLQA5elOpi9KeOlADqcvWm04daAHrTlpq9aVetAD1py01actAD16U6mLTx0oAdTl602nCgB60tNXrTqAFWnLTV605aAHr0pwpi09elADqcOtNHSnUAPWulj/5Aq/9e4/9BrmRXTR/8gVf+vcf+g0Ac8tXdEkEeoLno2VqiKepKsGBwQcg0AWdSj8u+kX1bI/HmolNX7oC+s1uY/8AWRjDrWeDQA8GjNNzRmgBSaaaM0sal2wOB1J9BQBILi4S38tZWCt29qrU+ZgW+Xp0A9qYaAJdO/5CEP8AvitTxN/x4J/11H8jWVpv/IQh/wCug/nWp4o/5B6f9dR/I0AYJprdKVqa1ADWprU5qa3WgBrUw9acetNoAbRRRQA2mt0px6UxqAGtTWpzU1qAGtTG605utNNADabTqbQA2mt0px6U1ulADGprU5qa1ADWpKG60UANptONNbpQA2iiigApw602nUAPXrS00dadQAq09elMWnLQA8dKdTV6U4dKAHDrThTadQA5etPWmU4daAHrTlpq9actAD16U4UxactAD6dTV6U4UAFOHWm04UAPWnLTBTqAHrTlplOFAD1rp4/+QGv/AF7j/wBBrlxXURc6IuP+fcf+g0Ac4tOBo8qX/nm//fJpfLl/55v/AN8mgCWzuJLaXfGfqD0NXGjtr354HEMp6o3Q/SqAjk/55t/3zR5cn/PNv++aAJ5rW5iOGhb6gZH6UwRyngRsf+AmnRyXkYwjTADtzStPfN1eb9aAD7M6jdOwiX/a+9+VMmlXb5cQ2p3z1b60xklJyUc/gaTy5P8Anm3/AHzQA2mk08xy/wDPNv8AvmkMcv8Azzf/AL5NAEmm/wDIRh/66D+danij/kHp/wBdR/I1mabHINQhJjYfOO1afir/AJB6f9dR/I0Ac+aaacaa1ADTTaVqa1ACGmnpStTWoAShulFI1ADWprU5qYetACNTG60402gBpptOPSmt0oAaelNPSlamt0oARulManNTWoAa1NbrTm60w9aAGnrRRQelADT0prdKc3SmNQAlFFFAAKcOlMXpTloAfTqavSnDpQAL1p60ynCgB605aYOtPWgB69KcOlMWnLQA8dKcKYtOWgB9OFMWnigBw609aYKcKAHrTlplOoAdSrSUUAPWnLTKcKAHrTlNMFOBoAeproLPVLOOzijaRtyxqD8p6gVzwNKDQB0v9rWP/PVv++DS/wBrWX/PRv8Avk1zQNOzQB0f9q2X/PRv++TR/atl/wA9G/75Nc7mlzQB0X9qWf8Az0b/AL5NH9qWf/PRv++TXO5NGTQB0X9qWf8Az0b/AL5NJ/atl/z0b/vk1z1GaAOh/tWy/wCejf8AfJpP7Wsf+ejf98mudzQTQB0X9rWP/PRv++DVHXr+2ubNY4XJYSAnKkcYP+NZOaaTQAE000pNNY0AIaaaVjTWoAQ02lakoAKaac1MagBKaaVqa1ACHpTGpzU1qAGtTWpW6000AI1Nalpp60AI3WmHrTqaaAG00049Ka3SgBtI3SlpGoAa1NanN1ph60AFFNbrRQAq05aYOtOoAetOWmDrT1oAWnDpTaVaAHinCmLTloAeKcvWminCgB1OHWm04UAOWnrTBThQA9actMFOoAetOWmU6gB60tNp1ACqaUGm0qmgB4NOpgNKDQBIDSg0ynA0APBpc0zNLmgB+aXNMzRmgB+aM03IozQA7NJmkyKTNAC5ozTc0ZoACaQmkzSE0ABNITQTTaAAmmmgmmk0AFFFIxoAQ000rU1qAENNNK1NagBDTTStTWoAQ009KVqa1ACU09KVqa1ACN0pjU5qY1ACNTWpTTaACmnrTqaaAGmm049KaaAG0UUUAAp1MWnLQA8U4UxactAD6KRaWgBw605aaKcKAHrTlpgpwoAetOWmU6gB605aYKcKAHrTlpgpwNAD1py0wU4GgB4NKDTAacpoAfRSA0tACg04GmUoNAD807NRg07NAD80uaZmlzQA7Jpc0zNLmgB2aM03NGaAHZozTc0ZNAC5pM0maTNAC5pCaTNJmgBSaaTRmmk0AKTSUUUABppNFNJoAKbQTSMaAEptKxprGgBDTTStTWoASm0rU1qAENNpWprUAIaaaVqa1ACHpTaVqSgBGprUrdaaaAEamtS009aAEJopKKAAU4U1acKAHU4U0U5aAHCnU0U4UAKtOWmU4UAPWnLTBThQA9actMFOFADhThTRSrQA8U4GmKacpoAeDTgaYppQaAJAacDUYNOoAeDTgaYDSg0APopoNOzQAZp2abRQA7NLmmZpc0APoyabmjJoAfmjNMyaMmgB+TSZNNyaM0AOzSZpM0maAFzSZpKKACiikJoAXNNoJppNAATSE0E00mgAY0hNBNNoACaaTRTSaAA000GmmgApppWprUAIabStTWoAQ02lamtQAlFFI1ACGmt0pWprUAIaaaVqa1ACUUhNFACLT1pgpwoAetKKaKdQA4U9aYKcKAHUq0gooAetOU0wU4GgBwNOFMU05TQA8U6mKacpoAeKcDUdOoAeDTlNMBpQaAJAaUGmA0oNAEgNKDTKXNAD807NR5p2aAH5paZmlzQA6im5NLmgBaKMiigAzRmiigAooooAKKMikzQAtGabmkzQAuaTNJmkzQAtNJopCaAAmkJoJptABTSaCaQmgAJprGgmkJoARjSGimmgANNNBNNNAAaaaCaRjQAhptK1JQAU00rU1qAENNpWprUAJTaVqa1ACUUmaKABactMFOFAD1py0wU4UAOFOFNFKtADwadTFpymgBacKbSqaAH04VGDTgaAJAacDUYNOoAeppQaaDSg0APpwNRg04GgB4NKDTQaUGgB9KDTM07NADs07NR5p2aAH5pc1HmlzQA/NLmmZpc0APzRmmZpcigB2aM+9NyKMigB2aMim5FJmgB2aM03NJk0AOpM0maTNAC5pM0maTNAC0hNJSE0AKTTaCaaTQApNNJoJpCaAAmm0UhNACE0jGhjTSaABjTWNKTTSaAEY0hNBNNoAKDRTSaAA000GmmgAptK1NagBKaaVqa1ACUUmaKAEFOFMWnLQA8U4UxactADxTqYppymgB4pwqMGnA0ASA0U0U6gBVNOU0ynA0APBpQaYDTgaAHg04GowadQA8GlpoNKDQA8GlBplLmgB+admo807NADs07NR5pc0APzS5pmaXNAD80ZNNzRmgB+aM03JozQA7NGabmjNADs0ZpuaM0AOzSZpuTRmgB2aTNNzRmgBc0maTNJmgBc0maTNJmgBc03NGabmgBSaSjNNzQAE0hNBNNJoACaQmgmm0ABNNJoJpGNACE0UUhNAAxprGlJppNACMaQ0U0mgANNNBppoADTTQaaaACikJooASnCmKacpoAfTqYppQaAJBTgajBpwNAEgNKpplOoAeDSg0xTTgaAH0U0GnUAOBpQaZTgaAHA06mA0oNAEgNKDTAaXNAD807NR5p2aAHUuabmlzQA7NLmmUuaAH0uaZmjJoAkzRTM0uRQA7JpcmmZoyaAH5ozTMmjJoAfmkyabk0ZNADs0ZpuaMigBc0mTSZpM0AOzSZpM0maAFpM0lJmgBaTNJmkzQAuaaTRmm5oAUmkJpCaQmgAJppNBNITQAE0lFBNAATTSaKaTQAE02gmkY0ADGmsaUmmk0AIxprUpNNNACMaRqKaaACim0UAANOBqMGnCgCQGlU0wU4GgB6mnKaYDTgaAHA04GmA05TQA+lBpgNOoAeDSg0wGnA0APopoNOoAUGlBptANAEmaUGmUoNAD807NR5p2aAH5pc1HmnZoAdmlzTM0uaAH0ZNNzRk0APzRmm5pcigB2aM03NFADs0ZptFADs0ZptFADsikzSZpM0AOzSUmaTJoAdSZpM0maAFzSZpKTNAC5pM0lJmgBc00mjNITQAE0hNBNNoACaKKQmgBSabQTTSaAAmkJoJpCaAAmmk0U2gAppNBNITQAhNNJpWNNY0ADGmsaGNITQAmaKSigBFNOU0wGlBoAeDTgaYppwNAD6cKjBpwNAEgNKpplOBoAeDSg0wGnA0APpQaYDTqAHA06mA0oNAEgNFNBpc0ALS5pKKAHZp2ajzTs0AOzS5pmaXNAD80uaZS5oAfmjJpuaM0APzRmm5NGaAH5FGaZmlyKAHZozTcijIoAdmjNNyKM0AOyKTNNzRmgB2TSU3JozQA7NJmm5pM0AOzSZpM0maAFzSZpKTNAC5pM0lFABRRmmk0AKTSE0hNITQAE00mikJoAUmm0E02gAJppNBNITQAE01jQTSE0ABNNJoppNABTaCaaTQAUUmaKAEpwpimlFAEgNKDTKcDQA9TTgaYDSg0APBp1MBpQaAJAaUGmA0oNADwacDTAaXNAEgNGabmlBoAeDSg0ylBoAfmlzTM0uaAH0U3NLmgBaXNJRQA7NLmmUZNAD80uaZmlyKAHZNLk0zNGTQA/NGabmjNADs0ZpuaM0AOzRmm5ozQA7NGTTcmkyaAHUZpuaM0ALmkzSZpKAHZpM0lFABRRSZoAWkzSZpM0ALmm5ozTc0AKTSUZppNACk0hNITSE0AFNJoJpCaAAmmk0E0hNAATTaKaTQAE0hNDGmk0ADGmsaUmm0AFFNzRQAA0qmmU4GgBwNOpgNKDQBIDTgajpwNADwaUGmA04GgB+acDUYNOBoAeDS5pgNKDQBIDSg0zNLmgB+aXNMzS5oAfS5pmadmgB1LmmUuaAH5pc0zNLmgB+aKZmlzQA6ikyaM0ALRRkUZoAMmlyaSigBc0ZpKKAFzSZNFFABk0UUZoAKKTNGaAFopuTRmgBc0mTSZpM0AOzSZpM0maAFzSZpKTNAC0maSkzQAuabmjNNzQApNITSZpM0ABNITSE0hNACk02gmmk0ABNITQTTSaAAmkJoJptABTSaUmmsaADNFJRQAUUimloAcDSg0ynA0AOBp2aYDS0ASA0oNMBpQaAH5pwNRg06gB4NLmmA0oNAEmaXNMzS5oAfmlzTM0uaAH5p2ajzS5oAfmlzTM0uaAH0ZNNzS5oAdmlzTM0tADsmlzTKXJoAdmlyKZmjNAD80ZpuRRkUAOzRmm5ozQA7NGabmjIoAdmjIpuRSZoAdmjJpuaTJoAdmjNNozQAuaSkzSZNADs0maTNJmgBaTNJSZoAWkzSZpM0ALmm5ozTc0AKTSUZpuaAFJppNBNITQAU0mimk0AKTSE0hNJQAUhNITSE0ABNJRRQAUU2igAWlWiigBaKKKAHUq0UUALTqKKAFWloooAdSrRRQAtOFFFABTqKKACnUUUAFOFFFABRk0UUAOooooAM0uaKKAFooooAKKKKACiiigAooooAKKKKAA03JoooAKKKKAEJpKKKACkJoooASkaiigBKRqKKAEpGNFFACU2iigBGpKKKAG0jUUUAJTTRRQAjUlFFABTaKKAEJooooA//2Q==",t=function(t,n,r){n[0].src=r.loadingSrc||e;var i=new Image;i.src=t.imgSrc,i.onload=function(){i.onload=null,n[0].src!==i.src&&(n[0].src=i.src)}};return{restrict:"A",compile:function(e,n){return n.imgSrc=n.ngSrc,delete n.ngSrc,t}}}),n("angular-img-fallback",["angular"],function(){}),function(){"use strict";var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(t,n,r){var i=".rangeSlider",a={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},o=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=o.start+i,l=o.move+i,c=o.end+i,u=o.over+i,d=o.out+i,p=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}},f=function(e){return 0>e?0:e>100?100:e},h=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};return e&&(g.disabled="=",g.modelMin="=",g.modelMax="="),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:g,link:function(e,o,g){function m(t){return e.getterSetter?arguments.length?e.modelMin(t):e.modelMin():arguments.length?e.modelMin=t:e.modelMin}function v(t){return e.getterSetter?arguments.length?e.modelMax(t):e.modelMax():arguments.length?e.modelMax=t:e.modelMax}function y(e){"min"===e?(angular.element(C[0]).css("display","none"),angular.element(C[1]).css("display","block")):"max"===e?(angular.element(C[0]).css("display","block"),angular.element(C[1]).css("display","none")):(angular.element(C[0]).css("display","block"),angular.element(C[1]).css("display","block"))}function A(e){e?x.addClass("ngrs-disabled"):x.removeClass("ngrs-disabled")}function b(){e.min>e.max&&w("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(h(e.min)||w("min must be a number"),h(e.max)||w("max must be a number"),E=e.max-e.min,P=[e.min,e.max],S())}function S(){if(m()>v()&&($("modelMin must be less than or equal to modelMax"),m(v())),(angular.isDefined(m())||"min"===e.pinHandle)&&(angular.isDefined(v())||"max"===e.pinHandle)){h(m())||("min"!==e.pinHandle&&$("modelMin must be a number"),m(e.min)),h(v())||("max"!==e.pinHandle&&$("modelMax must be a number"),v(e.max));var t,r,i=f((m()-e.min)/E*100),a=f((v()-e.min)/E*100);if(e.attachHandleValues&&(t=i,r=a),m(Math.max(e.min,m())),v(Math.min(e.max,v())),e.filter&&e.filterOptions)e.filteredModelMin=n(e.filter)(m(),e.filterOptions),e.filteredModelMax=n(e.filter)(v(),e.filterOptions);else if(e.filter){var o,s,l=e.filter.split(":"),c=e.filter.split(":")[0],u=l.slice().slice(1);u=u.map(function(e){return h(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),o=u.slice(),s=u.slice(),o.unshift(m()),s.unshift(v()),e.filteredModelMin=n(c).apply(null,o),e.filteredModelMax=n(c).apply(null,s)}else e.filteredModelMin=m(),e.filteredModelMax=v();e.min===e.max&&m()==v()?(angular.element(C[0]).css(M,"0%"),angular.element(C[1]).css(M,"100%"),e.attachHandleValues&&(angular.element(T[0]).css(M,"0%"),angular.element(T[1]).css(M,"100%")),angular.element(F).css(M,"0%").css(k,"0%")):(angular.element(C[0]).css(M,i+"%"),angular.element(C[1]).css(M,a+"%"),e.attachHandleValues&&(angular.element(T[0]).css(M,t+"%"),angular.element(T[1]).css(M,r+"%"),angular.element(T[1]).css(k,"auto")),angular.element(F).css(M,i+"%").css(k,100-a+"%"),i>95&&angular.element(C[0]).css("z-index",3))}}function D(n){var r=C[n];r.bind(s+"X",function(a){var o=(0===n?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===n?m():v())-e.min,u=s/E*100,d=p(a),h=d,g=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),angular.element("body").bind("selectstart"+i,function(){return!1}),e.disabled||(L=!0,r.addClass("ngrs-down"),x.addClass("ngrs-focus "+o),angular.element("body").addClass("ngrs-touching"),t.bind(l,function(t){t.preventDefault();var i,a,o=p(t),s=e.step/E*100,l=((0===n?v():m())-e.min)/E*100;"x"!==o[0]&&(o[0]-=d[0],o[1]-=d[1],i=[h[0]!==o[0],h[1]!==o[1]],a=u+100*o[O]/(O?x.height():x.width()),a=f(a),e.preventEqualMinMax&&(0===s&&(s=1/E*100),0===n?l-=s:1===n&&(l+=s)),0===n?a=a>l?l:a:1===n&&(a=l>a?l:a),e.step>0&&100>a&&a>0&&(a=Math.round(a/s)*s),a>95&&0===n?r.css("z-index",3):r.css("z-index",""),i[O]&&a!=g&&(0===n?m(parseFloat(parseFloat(a*E/100+e.min).toFixed(e.decimalPlaces))):1===n&&v(parseFloat(parseFloat(a*E/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),g=a),h=o)}).bind(c,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),t.off(l),t.off(c),angular.element("body").removeClass("ngrs-touching"),L=!1,r.removeClass("ngrs-down"),r.removeClass("ngrs-over"),x.removeClass("ngrs-focus "+o)}))}).on(u,function(){r.addClass("ngrs-over")}).on(d,function(){L||r.removeClass("ngrs-over")})}function w(t){throw e.disabled=!0,new Error("RangeSlider: "+t)}function $(e){r.warn(e)}var x=angular.element(o),C=[o.find(".ngrs-handle-min"),o.find(".ngrs-handle-max")],T=[o.find(".ngrs-value-min"),o.find(".ngrs-value-max")],F=o.find(".ngrs-join"),M="left",k="right",O=0,P=[0,0],E=0,L=!1;e.filteredModelMin=m(),e.filteredModelMax=v(),g.$observe("disabled",function(t){angular.isDefined(t)||(e.disabled=a.disabled),e.$watch("disabled",A)}),g.$observe("orientation",function(t){angular.isDefined(t)||(e.orientation=a.orientation);for(var n,r=e.orientation.split(" "),i=0,o=r.length;o>i;i++)r[i]="ngrs-"+r[i];n=r.join(" "),x.addClass(n),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(M="top",k="bottom",O=1)}),g.$observe("step",function(t){angular.isDefined(t)||(e.step=a.step)}),g.$observe("decimalPlaces",function(t){angular.isDefined(t)||(e.decimalPlaces=a.decimalPlaces)}),g.$observe("showValues",function(t){e.showValues=angular.isDefined(t)?"false"===t?!1:!0:a.showValues}),g.$observe("pinHandle",function(t){e.pinHandle=angular.isDefined(t)&&("min"===t||"max"===t)?t:null,e.$watch("pinHandle",y)}),g.$observe("preventEqualMinMax",function(t){e.preventEqualMinMax=angular.isDefined(t)?"false"===t?!1:!0:a.preventEqualMinMax}),g.$observe("attachHandleValues",function(t){angular.isDefined(t)?"true"===t||""===t?(e.attachHandleValues=!0,o.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=a.attachHandleValues}),e.$watch("min",b),e.$watch("max",b),e.$watch(function(){return m()},S),e.$watch(function(){return v()},S),e.$on("$destroy",function(){x.off(i),angular.element("body").off(i),t.off(i);for(var e=0,n=C.length;n>e;e++)C[e].off(i),C[e].off(i+"X")}),x.bind("selectstart"+i,function(){return!1}).bind("click",function(e){e.stopPropagation()}),D(0),D(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}(),n("angular-rangeslider",["angular"],function(){}),angular.module("isoCurrency.common",[]).factory("iso4217",function(){var e={AFN:{text:"Afghani",fraction:2,symbol:"؋"},EUR:{text:"Euro",fraction:2,symbol:"€"},ALL:{text:"Lek",fraction:2,symbol:"Lek"},DZD:{text:"Algerian Dinar",fraction:2,symbol:"د.ج"},USD:{text:"US Dollar",fraction:2,symbol:"$"},AOA:{text:"Kwanza",fraction:2,symbol:"Kz"},XCD:{text:"East Caribbean Dollar",fraction:2,symbol:"$"},ARS:{text:"Argentine Peso",fraction:2,symbol:"$"},AMD:{text:"Armenian Dram",fraction:2,symbol:!1},AWG:{text:"Aruban Florin",fraction:2,symbol:"ƒ"},AUD:{text:"Australian Dollar",fraction:2,symbol:"$"},AZN:{text:"Azerbaijanian Manat",fraction:2,symbol:"ман"},BSD:{text:"Bahamian Dollar",fraction:2,symbol:"$"},BHD:{text:"Bahraini Dinar",fraction:3,symbol:"BD"},BDT:{text:"Taka",fraction:2,symbol:"৳"},BBD:{text:"Barbados Dollar",fraction:2,symbol:"$"},BYR:{text:"Belarussian Ruble",fraction:0,symbol:"p."},BZD:{text:"Belize Dollar",fraction:2,symbol:"BZ$"},XOF:{text:"CF Franc BCEAO",fraction:0,symbol:"CFA"},BMD:{text:"Bermudian Dollar",fraction:2,symbol:"$"},BTN:{text:"Ngultrum",fraction:2,symbol:"Nu"},INR:{text:"Indian Rupee",fraction:2,symbol:"₹"},BOB:{text:"Boliviano",fraction:2,symbol:"$b"},BOV:{text:"Mvdol",fraction:2,symbol:"$b"},BAM:{text:"Convertible Mark",fraction:2,symbol:"KM"},BWP:{text:"Pula",fraction:2,symbol:"P"},NOK:{text:"Norwegian Krone",fraction:2,symbol:"kr"},BRL:{text:"Brazilian Real",fraction:2,symbol:"R$"},BND:{text:"Brunei Dollar",fraction:2,symbol:"$"},BGN:{text:"Bulgarian Lev",fraction:2,symbol:"лв"},BIF:{text:"Burundi Franc",fraction:0,symbol:"BIF"},KHR:{text:"Riel",fraction:2,symbol:"៛"},XAF:{text:"CF Franc BEAC",fraction:0,symbol:!1},CAD:{text:"Canadian Dollar",fraction:2,symbol:"$"},CVE:{text:"Cabo Verde Escudo",fraction:2,symbol:"$"},KYD:{text:"Cayman Islands Dollar",fraction:2,symbol:"$"},CLF:{text:"Unidad de Fomento",fraction:4,symbol:!1},CLP:{text:"Chilean Peso",fraction:0,symbol:"$"},CNY:{text:"Yuan Renminbi",fraction:2,symbol:"¥"},COP:{text:"Colombian Peso",fraction:2,symbol:"$"},COU:{text:"Unidad de Valor Real",fraction:2,symbol:!1},KMF:{text:"Comoro Franc",fraction:0,symbol:!1},CDF:{text:"Congolese Franc",fraction:2,symbol:!1},NZD:{text:"New Zealand Dollar",fraction:2,symbol:"$"},CRC:{text:"Cost Rican Colon",fraction:2,symbol:"₡"},HRK:{text:"Croatian Kuna",fraction:2,symbol:"kn"},CUC:{text:"Peso Convertible",fraction:2,symbol:!1},CUP:{text:"Cuban Peso",fraction:2,symbol:"₱"},ANG:{text:"Netherlands Antillean Guilder",fraction:2,symbol:"ƒ"},CZK:{text:"Czech Koruna",fraction:2,symbol:"Kč"},DKK:{text:"Danish Krone",fraction:2,symbol:"kr"},DJF:{text:"Djibouti Franc",fraction:0,symbol:!1},DOP:{text:"Dominican Peso",fraction:2,symbol:"RD$"},EGP:{text:"Egyptian Pound",fraction:2,symbol:"£"},SVC:{text:"El Salvador Colon",fraction:2,symbol:"$"},ERN:{text:"Nakfa",fraction:2,symbol:!1},ETB:{text:"Ethiopian Birr",fraction:2,symbol:!1},FKP:{text:"Falkland Islands Pound",fraction:2,symbol:"£"},FJD:{text:"Fiji Dollar",fraction:2,symbol:"$"},XPF:{text:"CFP Franc",fraction:0,symbol:!1},GMD:{text:"Dalasi",fraction:2,symbol:!1},GEL:{text:"Lari",fraction:2,symbol:!1},GHS:{text:"Ghan Cedi",fraction:2,symbol:!1},GIP:{text:"Gibraltar Pound",fraction:2,symbol:"£"},GTQ:{text:"Quetzal",fraction:2,symbol:"Q"},GBP:{text:"Pound Sterling",fraction:2,symbol:"£"},GNF:{text:"Guine Franc",fraction:0,symbol:!1},GYD:{text:"Guyan Dollar",fraction:2,symbol:"$"},HTG:{text:"Gourde",fraction:2,symbol:!1},HNL:{text:"Lempira",fraction:2,symbol:"L"},HKD:{text:"Hong Kong Dollar",fraction:2,symbol:"$"},HUF:{text:"Forint",fraction:2,symbol:"Ft"},ISK:{text:"Iceland Krona",fraction:0,symbol:"kr"},IDR:{text:"Rupiah",fraction:2,symbol:"Rp"},XDR:{text:"SDR (Special Drawing Right)",fraction:0,symbol:!1},IRR:{text:"Iranian Rial",fraction:2,symbol:"﷼"},IQD:{text:"Iraqi Dinar",fraction:3,symbol:!1},ILS:{text:"New Israeli Sheqel",fraction:2,symbol:"₪"},JMD:{text:"Jamaican Dollar",fraction:2,symbol:"J$"},JPY:{text:"Yen",fraction:0,symbol:"¥"},JOD:{text:"Jordanian Dinar",fraction:3,symbol:!1},KZT:{text:"Tenge",fraction:2,symbol:"лв"},KES:{text:"Kenyan Shilling",fraction:2,symbol:!1},KPW:{text:"North Korean Won",fraction:2,symbol:"₩"},KRW:{text:"Won",fraction:0,symbol:"₩"},KWD:{text:"Kuwaiti Dinar",fraction:3,symbol:!1},KGS:{text:"Som",fraction:2,symbol:"лв"},LAK:{text:"Kip",fraction:2,symbol:"₭"},LBP:{text:"Lebanese Pound",fraction:2,symbol:"£"},LSL:{text:"Loti",fraction:2,symbol:!1},ZAR:{text:"Rand",fraction:2,symbol:"R"},LRD:{text:"Liberian Dollar",fraction:2,symbol:"$"},LYD:{text:"Libyan Dinar",fraction:3,symbol:!1},CHF:{text:"Swiss Franc",fraction:2,symbol:"CHF"},LTL:{text:"Lithuanian Litas",fraction:2,symbol:"Lt"},MOP:{text:"Pataca",fraction:2,symbol:!1},MKD:{text:"Denar",fraction:2,symbol:"ден"},MGA:{text:"Malagasy riary",fraction:2,symbol:!1},MWK:{text:"Kwacha",fraction:2,symbol:!1},MYR:{text:"Malaysian Ringgit",fraction:2,symbol:"RM"},MVR:{text:"Rufiyaa",fraction:2,symbol:!1},MRO:{text:"Ouguiya",fraction:2,symbol:!1},MUR:{text:"Mauritius Rupee",fraction:2,symbol:"₨"},XUA:{text:"ADB Unit of ccount",fraction:0,symbol:!1},MXN:{text:"Mexican Peso",fraction:2,symbol:"$"},MXV:{text:"Mexican Unidad de Inversion (UDI)",fraction:2,symbol:!1},MDL:{text:"Moldovan Leu",fraction:2,symbol:!1},MNT:{text:"Tugrik",fraction:2,symbol:"₮"},MAD:{text:"Moroccan Dirham",fraction:2,symbol:!1},MZN:{text:"Mozambique Metical",fraction:2,symbol:"MT"},MMK:{text:"Kyat",fraction:2,symbol:!1},NAD:{text:"Namibi Dollar",fraction:2,symbol:"$"},NPR:{text:"Nepalese Rupee",fraction:2,symbol:"₨"},NIO:{text:"Cordob Oro",fraction:2,symbol:"C$"},NGN:{text:"Naira",fraction:2,symbol:"₦"},OMR:{text:"Rial Omani",fraction:3,symbol:"﷼"},PKR:{text:"Pakistan Rupee",fraction:2,symbol:"₨"},PAB:{text:"Balboa",fraction:2,symbol:"B/."},PGK:{text:"Kina",fraction:2,symbol:"K"},PYG:{text:"Guarani",fraction:0,symbol:"Gs"},PEN:{text:"Nuevo Sol",fraction:2,symbol:"S/."},PHP:{text:"Philippine Peso",fraction:2,symbol:"₱"},PLN:{text:"Zloty",fraction:2,symbol:"zł"},QAR:{text:"Qatari Rial",fraction:2,symbol:"﷼"},RON:{text:"New Romanian Leu",fraction:2,symbol:"lei"},RUB:{text:"Russian Ruble",fraction:2,symbol:"руб"},RWF:{text:"Rwand Franc",fraction:0,symbol:"R₣"},SHP:{text:"Saint Helen Pound",fraction:2,symbol:"£"},WST:{text:"Tala",fraction:2,symbol:"$"},STD:{text:"Dobra",fraction:2,symbol:!1},SAR:{text:"Saudi Riyal",fraction:2,symbol:"﷼"},RSD:{text:"Serbian Dinar",fraction:2,symbol:"Дин."},SCR:{text:"Seychelles Rupee",fraction:2,symbol:"₨"},SLL:{text:"Leone",fraction:2,symbol:"Le"},SGD:{text:"Singapore Dollar",fraction:2,symbol:"$"},XSU:{text:"Sucre",fraction:0,symbol:!1},SBD:{text:"Solomon Islands Dollar",fraction:2,symbol:"$"},SOS:{text:"Somali Shilling",fraction:2,symbol:"S"},SSP:{text:"South Sudanese Pound",fraction:2,symbol:!1},LKR:{text:"Sri Lank Rupee",fraction:2,symbol:"₨"},SDG:{text:"Sudanese Pound",fraction:2,symbol:!1},SRD:{text:"Surinam Dollar",fraction:2,symbol:"$"},SZL:{text:"Lilangeni",fraction:2,symbol:!1},SEK:{text:"Swedish Krona",fraction:2,symbol:"kr"},CHE:{text:"WIR Euro",fraction:2,symbol:!1},CHW:{text:"WIR Franc",fraction:2,symbol:!1},SYP:{text:"Syrian Pound",fraction:2,symbol:"£"},TWD:{text:"New Taiwan Dollar",fraction:2,symbol:"NT$"},TJS:{text:"Somoni",fraction:2,symbol:!1},TZS:{text:"Tanzanian Shilling",fraction:2,symbol:!1},THB:{text:"Baht",fraction:2,symbol:"฿"},TOP:{text:"Pa’anga",fraction:2,symbol:!1},TTD:{text:"Trinidad nd Tobago Dollar",fraction:2,symbol:"TT$"},TND:{text:"Tunisian Dinar",fraction:3,symbol:!1},TRY:{text:"Turkish Lira",fraction:2,symbol:"₺"},TMT:{text:"Turkmenistan New Manat",fraction:2,symbol:!1},UGX:{text:"Ugand Shilling",fraction:0,symbol:!1},UAH:{text:"Hryvnia",fraction:2,symbol:"₴"},AED:{text:"UAE Dirham",fraction:2,symbol:!1},USN:{text:"US Dollar (Next day)",fraction:2,symbol:!1},UYI:{text:"Uruguay Peso en Unidades Indexadas (URUIURUI)",fraction:0,symbol:!1},UYU:{text:"Peso Uruguayo",fraction:2,symbol:"$U"},UZS:{text:"Uzbekistan Sum",fraction:2,symbol:"лв"},VUV:{text:"Vatu",fraction:0,symbol:!1},VEF:{text:"Bolivar",fraction:2,symbol:"Bs"},VND:{text:"Dong",fraction:0,symbol:"₫"},YER:{text:"Yemeni Rial",fraction:2,symbol:"﷼"},ZMW:{text:"Zambian Kwacha",fraction:2,symbol:!1},ZWL:{text:"Zimbabwe Dollar",fraction:2,symbol:"$"}};return{getCurrencyByCode:function(t){return t&&"string"==typeof t?e[t.toUpperCase()]:void 0}}}),angular.module("isoCurrency",["isoCurrency.common"]).filter("isoCurrency",["$filter","iso4217",function(e,t){return function(n,r,i){var a=t.getCurrencyByCode(r);if(!a)return n;var o=void 0===i?a.fraction:i;return e("currency")(n,a.symbol||r+" ",o)}}]),n("angular_iso_currency",["angular"],function(){}),function(e,t){"use strict";function n(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function r(e,n,r){i.directive(e,["$parse","$swipe",function(i,a){var o=75,s=.3,l=30;return function(c,u,d){function p(e){if(!f)return!1;var t=Math.abs(e.y-f.y),r=(e.x-f.x)*n;return h&&o>t&&r>0&&r>l&&s>t/r}var f,h,g=i(d[e]),m=["touch"];t.isDefined(d.ngSwipeDisableMouse)||m.push("mouse"),a.bind(u,{start:function(e){f=e,h=!0},cancel:function(){h=!1},end:function(e,t){p(e)&&c.$apply(function(){u.triggerHandler(r),g(c,{$event:t})})}},m)}}])}var i=t.module("ngTouch",[]);i.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,i,a){var o,s,l,c,u=!1;a=a||["mouse","touch"],t.on(n(a,"start"),function(t){l=e(t),u=!0,o=0,s=0,c=l,i.start&&i.start(l,t)});var d=n(a,"cancel");d&&t.on(d,function(e){u=!1,i.cancel&&i.cancel(e)}),t.on(n(a,"move"),function(t){if(u&&l){var n=e(t);if(o+=Math.abs(n.x-c.x),s+=Math.abs(n.y-c.y),c=n,!(r>o&&r>s))return s>o?(u=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(a,"end"),function(t){u&&(u=!1,i.end&&i.end(e(t),t))})}}}]),i.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(e,r,i){function a(e,t,n,r){return Math.abs(e-n)<m&&Math.abs(t-r)<m}function o(e,t,n){for(var r=0;r<e.length;r+=2)if(a(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function s(e){if(!(Date.now()-u>g)){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;1>r&&1>i||p&&p[0]===r&&p[1]===i||(p&&(p=null),"label"===n(e.target)&&(p=[r,i]),o(d,r,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function l(e){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;d.push(n,i),r(function(){for(var e=0;e<d.length;e+=2)if(d[e]==n&&d[e+1]==i)return void d.splice(e,e+2)},g,!1)}function c(e,t){d||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),d=[]),u=Date.now(),o(d,e,t)}var u,d,p,f=750,h=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function a(){p=!1,r.removeClass(v)}var o,s,l,u,d=e(i.ngClick),p=!1;r.on("touchstart",function(e){p=!0,o=e.target?e.target:e.srcElement,3==o.nodeType&&(o=o.parentNode),r.addClass(v),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];l=i.clientX,u=i.clientY}),r.on("touchmove",function(){a()}),r.on("touchcancel",function(){a()}),r.on("touchend",function(e){var n=Date.now()-s,d=e.originalEvent||e,g=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],m=g[0],v=m.clientX,y=m.clientY,A=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-u,2));p&&f>n&&h>A&&(c(v,y),o&&o.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),a()
}),r.onclick=function(){},r.on("click",function(e,t){n.$apply(function(){d(n,{$event:t||e})})}),r.on("mousedown",function(){r.addClass(v)}),r.on("mousemove mouseup",function(){r.removeClass(v)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),n("angular-touch",["angular"],function(){}),n("widgets/SDSWidgets",["angular","util/BaseServices","util/CommonDirectives","util/CommonGenericFilters","util/CommonDisplayFilters","webservices/SabreDevStudioWebServicesModule","webservices/Interceptors","angular-ui-select","angular-sanitize","util/LookupFilters","angular-img-fallback","angular-rangeslider","angular_iso_currency","angular-touch"],function(){"use strict";return angular.module("sdsWidgets",["baseServices","sabreDevStudioWebServices","commonDirectives","commonFilters","ui.bootstrap","ngSanitize","ui.select","sDSLookups","dcbImgFallback","ui-rangeSlider","isoCurrency","ngTouch"]).constant("newSearchCriteriaEvent","newSearchCriteria").constant("newInspirationalSearchCriteriaEvent","newInspirationalSearchCriteriaEvent").constant("filteringCriteriaChangedEvent","filteringCriteriaChangedEvent").constant("itinerariesStatisticsUpdateNotification","itinerariesStatisticsUpdateNotification").constant("resetAllFiltersEvent","resetAllFiltersEvent").constant("dateSelectedEvent","dateSelectedEvent").constant("noResultsFoundEvent","noResultsFoundEvent").config(["datepickerConfig",function(e){e.showWeeks=!1,e.startingDay=1,e.yearRange=2,e.showButtonBar=!1}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}]).config(["$provide",function(e){e.decorator("currencyFilter",["$delegate","$filter","iso4217",function(e,t,n){var r=e;return function(e,t,i){var a=n.getCurrencyByCode(t);if(!a)return e;var o=void 0===i?a.fraction:i;return r(e,a.symbol||t+" ",o)}}])}]).service("SearchCriteriaBroadcastingService",["$rootScope","newSearchCriteriaEvent",function(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("InspirationalSearchCriteriaBroadcastingService",["$rootScope","newInspirationalSearchCriteriaEvent",function(e,t){var n={searchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("DateSelectedBroadcastingService",["$rootScope","dateSelectedEvent",function(e,t){var n={originalDataSourceWebService:void 0,newSearchCriteria:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("NoResultsFoundBroadcastingService",["$rootScope","noResultsFoundEvent",function(e,t){var n={broadcast:function(){e.$broadcast(t)}};return n}]).service("ItineraryStatisticsBroadcastingService",["$rootScope","itinerariesStatisticsUpdateNotification",function(e,t){var n={statistics:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).service("FilteringCriteriaChangedBroadcastingService",["$rootScope","filteringCriteriaChangedEvent",function(e,t){var n={filteringFunctions:void 0,broadcast:function(){e.$broadcast(t)}};return n}]).factory("StatisticsGatheringRequestsRegistryService",function(){var e=[];return{register:function(t){e.push(t)},getAll:function(){return e}}})}),n("datamodel/SearchCriteriaLeg",["lodash"],function(e){"use strict";function t(t){function n(t){if(e.isUndefined(t)||0===t.length)throw new Error("airport or city code needed");if(!r.AIRPORT_CODE_REGEX.test(t))throw new Error("'"+t+"' is not a valid IATA airport or city code")}var r=this,i=t.origin.toUpperCase();n(i),this.origin=i;var a=t.destination.toUpperCase();n(a),this.destination=a;var o;Object.defineProperty(this,"departureDateTime",{enumerable:!0,get:function(){return o&&o.clone()},set:function(e){o=e&&e.clone()}}),this.departureDateTime=t.departureDateTime;var s;Object.defineProperty(this,"arrivalDateTime",{enumerable:!0,get:function(){return s&&s.clone()},set:function(e){e&&(s=e&&e.clone())}}),this.arrivalDateTime=t.arrivalDateTime}return t.prototype.addDaysToDepartureDate=function(e){this.departureDateTime=this.departureDateTime.add(e,"days")},t.prototype.AIRPORT_CODE_REGEX=/^[A-Z]{3}$/,t}),n("datamodel/SearchCriteria",["lodash","util/LodashExtensions","moment","datamodel/SearchCriteriaLeg"],function(e,t,n,r){"use strict";function i(){var e=this;this.legs=[],this.preferredAirlines=[];var t=this.CabinEnum.Economy;Object.defineProperty(this,"preferredCabin",{enumerable:!0,get:function(){return t},set:function(n){switch(n){case"Economy":t=e.CabinEnum.Economy;break;case"PremiumEconomy":t=e.CabinEnum.PremiumEconomy;break;case"Business":t=e.CabinEnum.Business;break;case"First":t=e.CabinEnum.First;break;default:throw new Error("unrecognized cabin code: "+n)}}});var n;Object.defineProperty(this,"maxStops",{enumerable:!0,get:function(){return n},set:function(e){n=e}}),this.passengerSpecifications=[],Object.defineProperty(this,"returnAlternateDatesOnly",{enumerable:!0,writable:!0})}function a(e){for(var t=[],n=-e.minusDays;n<=e.plusDays;n++)0!==n&&t.push(n);return t}return i.prototype.addLeg=function(e){this.legs.push(e)},i.prototype.getLeg=function(e){return this.legs[e]},i.prototype.getFirstLeg=function(){return this.getLeg(0)},i.prototype.getSecondLeg=function(){return this.getLeg(1)},i.prototype.addPreferredAirline=function(e){this.preferredAirlines.push(e)},i.prototype.getPreferredAirlines=function(){return this.preferredAirlines},i.prototype.addPassenger=function(e,t){this.passengerSpecifications.push({passengerTypeCode:e,count:t})},i.prototype.getTotalPassengerCount=function(){return this.passengerSpecifications.reduce(function(e,t){return e+t.count},0)},i.prototype.isAnyLengthOfStayDefined=function(){return t.isDefined(this.lengthOfStay)||t.isDefined(this.earliestDepartureLatestReturnDatesFlexibility)},i.prototype.getLengthOfStay=function(){if(!this.isOneWayTravel()){if(t.isDefined(this.lengthOfStay))return this.lengthOfStay;var e=this.legs[0].departureDateTime,n=this.legs[1].departureDateTime;return e&&n?this.lengthOfStay||n.diff(e,"days"):void 0}},i.prototype.getMinMaxLengthOfStay=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay},i.prototype.getMinLengthOfStay=function(){return this.getMinMaxLengthOfStay()&&this.getMinMaxLengthOfStay().minDays},i.prototype.getMaxLengthOfStay=function(){return this.getMinMaxLengthOfStay()&&this.getMinMaxLengthOfStay().maxDays},i.prototype.toString=function(){return JSON.stringify(this)},i.prototype.getTripOrigin=function(){return this.getFirstLeg().origin},i.prototype.getTripDestination=function(){return this.getFirstLeg().destination},i.prototype.isRoundTripTravel=function(){return 2===this.legs.length&&this.getFirstLeg().origin===this.getSecondLeg().destination&&this.getFirstLeg().destination===this.getSecondLeg().origin},i.prototype.isOneWayTravel=function(){return 1===this.legs.length},i.prototype.TripTypeEnum=Object.freeze({OneWay:"OneWay",RoundTrip:"RoundTrip",MultiStop:"MultiStop"}),i.prototype.isEconomyCabinRequested=function(){return this.preferredCabin===this.CabinEnum.Economy},i.prototype.CabinEnum=Object.freeze({Economy:{name:"Economy",code:"Y"},PremiumEconomy:{name:"PremiumEconomy",code:"S"},Business:{name:"Business",code:"C"},First:{name:"First",code:"F"}}),i.prototype.cloneWithDatesAdjustedToOtherDepartureDate=function(t){var n=e.extend(Object.create(i.prototype),this),r=t.diff(this.getFirstLeg().departureDateTime,"days");return n.legs.forEach(function(e){e.addDaysToDepartureDate(r)}),n},i.prototype.cloneWithoutDateFlexibility=function(){var t=e.extend(Object.create(i.prototype),this);return t.dateFlexibilityDays=void 0,t.returnAlternateDatesOnly=void 0,t},i.prototype.isAlternateDatesRequest=function(){return this.isPlusMinusDaysDateFlexibilityRequest()||this.isEarliestDepartureLatestReturnDateFlexibilityRequest()},i.prototype.isPlusMinusDaysDateFlexibilityRequest=function(){return this.dateFlexibilityDays},i.prototype.hasAtLeastOnePlusMinusDayDefined=function(){return e.values(this.dateFlexibilityDays).some(function(e){return e>0})},i.prototype.getRequestedDepartureDates=function(){return this.earliestDepartureLatestReturnDatesFlexibility?this.generateDepartureAltDatesForEarliestDepartureLatestReturn(this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay.minDays):this.generateAlternateDates(this.getFirstLeg().departureDateTime,{minusDays:this.dateFlexibilityDays.departureMinusDays,plusDays:this.dateFlexibilityDays.departurePlusDays})},i.prototype.getRequestedReturnDates=function(){return this.earliestDepartureLatestReturnDatesFlexibility?this.generateReturnAltDatesForEarliestDepartureLatestReturn(this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime(),this.earliestDepartureLatestReturnDatesFlexibility.minMaxLengthOfStay.minDays):this.generateAlternateDates(this.getSecondLeg().departureDateTime,{minusDays:this.dateFlexibilityDays.returnMinusDays,plusDays:this.dateFlexibilityDays.returnPlusDays})},i.prototype.generateDepartureAltDatesForEarliestDepartureLatestReturn=function(e,t,r){var i=t.clone().subtract(r,"days"),a=[];return n.range(e,i).by("days",function(e){a.push(e)}),a},i.prototype.generateReturnAltDatesForEarliestDepartureLatestReturn=function(e,t,r){var i=e.clone().add(r,"days"),a=[];return n.range(i,t).by("days",function(e){a.push(e)}),a},i.prototype.getRequestedLengthOfStayValues=function(){var t=this.getRequestedDepartureDates(),n=this.getRequestedReturnDates(),r=[];return t.forEach(function(e){n.forEach(function(t){var n=t.diff(e,"days");n>=0&&r.push(n)})}),e.uniq(r)},i.prototype.getTripDepartureDateTime=function(){return this.getFirstLeg().departureDateTime},i.prototype.getTripReturnDateTime=function(){return e.last(this.legs).departureDateTime},i.prototype.isEarliestDepartureLatestReturnDateFlexibilityRequest=function(){return t.isDefined(this.earliestDepartureLatestReturnDatesFlexibility)},i.prototype.getEarliestDepartureDateTime=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.getEarliestDepartureDateTime()},i.prototype.getLatestReturnDateTime=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.getLatestReturnDateTime()},i.prototype.hasAnyDepartureDaysOfWeekDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&e.contains(this.earliestDepartureLatestReturnDatesFlexibility.departureDaysOfWeek,!0)},i.prototype.getDepartureDaysOfWeek=function(){return this.hasAnyDepartureDaysOfWeekDefined()?this.earliestDepartureLatestReturnDatesFlexibility.departureDaysOfWeek:this.hasAnyDaysAtDestinationDefined()?this.dayIndexIntoWeekDaysArray(this.departureAndReturnDaysOfWeekIndexes().departureDayOfWeekIndex):void 0},i.prototype.hasAnyReturnDaysOfWeekDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&e.contains(this.earliestDepartureLatestReturnDatesFlexibility.returnDaysOfWeek,!0)},i.prototype.getReturnDaysOfWeek=function(){return this.hasAnyReturnDaysOfWeekDefined()?this.earliestDepartureLatestReturnDatesFlexibility.returnDaysOfWeek:this.hasAnyDaysAtDestinationDefined()?this.dayIndexIntoWeekDaysArray(this.departureAndReturnDaysOfWeekIndexes().returnDayOfWeekIndex):void 0},i.prototype.dayIndexIntoWeekDaysArray=function(e){for(var t=7,n=[],r=0;t>r;r++)n.push(!1);return n[e]=!0,n},i.prototype.hasAnyDaysAtDestinationDefined=function(){return this.earliestDepartureLatestReturnDatesFlexibility&&this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination&&this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination.hasAnyDaysAtDestinationDefined()},i.prototype.departureAndReturnDaysOfWeekIndexes=function(){return this.earliestDepartureLatestReturnDatesFlexibility.daysOfWeekAtDestination.departureAndReturnDaysOfWeekIndexes()},i.prototype.getDepartureDateFrom=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[0].departureDateTime&&this.legs[0].departureDateTime.clone().subtract(this.dateFlexibilityDays.departureMinusDays,"days");return this.getEarliestDepartureDateTime()||e||this.legs[0].departureDateTime},i.prototype.getDepartureDateTo=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[0].departureDateTime&&this.legs[0].departureDateTime.clone().add(this.dateFlexibilityDays.departurePlusDays,"days");var t=this.getLatestReturnDateTime()&&this.getLatestReturnDateTime().clone().subtract(this.getMinLengthOfStay(),"days");return t||e||this.legs[0].departureDateTime},i.prototype.getReturnDateFrom=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[1].departureDateTime&&this.legs[1].departureDateTime.clone().subtract(this.dateFlexibilityDays.returnMinusDays,"days");var t=this.getEarliestDepartureDateTime()&&this.getEarliestDepartureDateTime().clone().add(this.getMinLengthOfStay(),"days");return t||e||this.legs[1].departureDateTime},i.prototype.getReturnDateTo=function(){if(this.isPlusMinusDaysDateFlexibilityRequest())var e=this.legs[1].departureDateTime&&this.legs[1].departureDateTime.clone().add(this.dateFlexibilityDays.returnPlusDays,"days");return this.getLatestReturnDateTime()||e||this.legs[1].departureDateTime},i.prototype.buildRoundTripTravelSearchCriteria=function(e,t,a,o){var s=n(a,n.ISO_8601),l=n(o,n.ISO_8601),c=new r({origin:e,destination:t,departureDateTime:s,returnDateTime:l}),u=new r({origin:t,destination:e,departureDateTime:l,returnDateTime:s}),d=new i;return d.addLeg(c),d.addLeg(u),d.addPassenger("ADT",1),d},i.prototype.buildRoundTripTravelSearchCriteriaWithDateFlexibility=function(e,t,n,r,a){var o=i.prototype.buildRoundTripTravelSearchCriteria(e,t,n,r);return o.dateFlexibilityDays=a,o},i.prototype.buildMultidestinationSearchCriteria=function(e){var t=7,a=new i;return e.forEach(function(e,i){var o=n().add(i*t,"days"),s=o.clone().add(t,"days"),l=new r({origin:e.origin,destination:e.destination,departureDateTime:o,returnDateTime:s});a.addLeg(l)}),a.addPassenger("ADT",1),a},i.prototype.generateAlternateDates=function(t,n){if(!this.isAlternateDatesRequest())return t;var r=[],i=a(n);if(i.forEach(function(e){var n=t.clone().add(e,"days");r.push(n)}),!this.returnAlternateDatesOnly){var o=e.sortedIndex(r,t,function(e){return e.unix()});r.splice(o,0,t)}return r},i}),function(e,r){"function"==typeof n&&n.amd?n("moment_range",["moment"],function(t){return e.DateRange=r(t)}):"object"==typeof exports?module.exports=r(t("moment")):e.DateRange=r(moment)}(this,function(e){function t(t,n){var r,i=t,a=n;(1===arguments.length||void 0===n)&&("object"==typeof t&&2===t.length?(i=t[0],a=t[1]):"string"==typeof t&&(r=t.split("/"),i=r[0],a=r[1])),this.start=e(i),this.end=e(a)}function n(t,n,r){for(var i=e(this.start);this.contains(i,r);)n.call(this,i.clone()),i.add(1,t)}function r(t,n,r){var i=this/t,a=Math.floor(i);if(1/0!==a){a===i&&r&&a--;for(var o=0;a>=o;o++)n.call(this,e(this.start.valueOf()+t.valueOf()*o))}}var i={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0};return t.prototype.constructor=t,t.prototype.clone=function(){return e().range(this.start,this.end)},t.prototype.contains=function(e,n){var r=this.start,i=this.end;return e instanceof t?r<=e.start&&(i>e.end||i.isSame(e.end)&&!n):e>=r&&(i>e||i.isSame(e)&&!n)},t.prototype.overlaps=function(e){return null!==this.intersect(e)},t.prototype.intersect=function(e){var n=this.start,r=this.end;return n<=e.start&&e.start<r&&r<e.end?new t(e.start,r):e.start<n&&n<e.end&&e.end<=r?new t(n,e.end):e.start<n&&r>=n&&r<e.end?this:n<=e.start&&e.start<=e.end&&e.end<=r?e:null},t.prototype.add=function(n){return this.overlaps(n)?new t(e.min(this.start,n.start),e.max(this.end,n.end)):null},t.prototype.subtract=function(e){var n=this.start,r=this.end;return null===this.intersect(e)?[this]:e.start<=n&&r>n&&r<=e.end?[]:e.start<=n&&n<e.end&&e.end<r?[new t(e.end,r)]:n<e.start&&e.start<r&&r<=e.end?[new t(n,e.start)]:n<e.start&&e.start<e.end&&e.end<r?[new t(n,e.start),new t(e.end,r)]:void 0},t.prototype.by=function(e,t,i){return"string"==typeof e?n.call(this,e,t,i):r.call(this,e,t,i),this},t.prototype.toString=function(){return this.start.format()+"/"+this.end.format()},t.prototype.valueOf=function(){return this.end-this.start},t.prototype.center=function(){var t=this.start+this.diff()/2;return e(t)},t.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},t.prototype.isSame=function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)},t.prototype.diff=function(e){return this.end.diff(this.start,e)},e.range=function(n,r){return n in i?new t(e(this).startOf(n),e(this).endOf(n)):new t(n,r)},e.range.constructor=t,e.fn.range=e.range,e.fn.within=function(e){return e.contains(this._d)},t}),n("widgets/calendar/CalendarMonthBounds",["moment","moment_range"],function(e){"use strict";function t(t){var n=t.clone(),r=[],i=[],a=t.clone().startOf("week"),o=n.clone().subtract(1,"days");e.range(a,o).by("days",function(e){r.push(e)});var s=n.clone().endOf("month"),l=s.clone().add(1,"days"),c=s.clone().endOf("week");e.range(l,c).by("days",function(e){i.push(e)}),Object.defineProperty(this,"monthStartDate",{enumerable:!0,get:function(){return n}}),Object.defineProperty(this,"monthEndDate",{enumerable:!0,get:function(){return s}}),Object.defineProperty(this,"prevMonthDaysOfLastWeek",{enumerable:!0,get:function(){return r}}),Object.defineProperty(this,"nextMonthDaysOfFirstWeek",{enumerable:!0,get:function(){return i}})}return t}),n("util/PriceClassifier",["lodash"],function(e){"use strict";return function(){var t;this.train=function(n){t=e.sortBy(e.uniq(n))},this.classifyIntoTier=function(n){return e.indexOf(t,n,!0)+1}}}),n("util/momentRangeUtils",["moment","moment_range"],function(e){"use strict";function t(e,t){return e.start.within(t)&&e.end.within(t)}function n(e,t){var n;return e.start.isBefore(t.start)?(n=t.start.diff(e.start,"months"),e.start.add(n,"months"),e.end.add(n,"months"),e):e.end.isAfter(t.end)?(n=e.end.diff(t.end,"months"),e.start.subtract(n,"months"),e.end.subtract(n,"months"),e):e}function r(e,t){var n=t.start.diff(e.start,"months");return n>0&&(e.start.add(n,"months"),e.end.add(n,"months")),e.end.isAfter(t.end)&&(e.end=t.end.clone()),e}return e.generateAdjacentMonths=function(t,n){var r=Math.floor(n/2),i=n%2,a=t.clone().subtract(r,"month"),o=t.clone().add(r+i,"month");return e.range(a,o)},e.adjustToMinMaxDates=function(e,i){return t(e,i)?e:i>=e?n(e,i):r(e,i)},e}),n("widgets/calendar/Calendar",["util/LodashExtensions","moment","moment_range","widgets/calendar/CalendarMonthBounds","util/PriceClassifier","util/momentRangeUtils","datamodel/ShoppingData"],function(e,t,n,r,i,a,o){"use strict";function s(e){function n(e){for(var t=0;t<u.length;t++)if(u[t].isSame(e))return t}function r(e){var n=e.clone().startOf("month"),r=n.clone().add(l-1,"month"),i=t.range(n,r);if(i=t.generateAdjacentMonths(i.start,l-1),o()){var a=t.range(s.minDateStartOfMonth,s.maxDateStartOfMonth);i=t.adjustToMinMaxDates(i,a)}return i}function a(e){var t=[];return e.by("months",function(e){t.push(e)}),t}function o(){return s.minDate||s.maxDate}var s=this,l=e.numberOfMonths,c={},u=[];this.months=[],this.dayOfWeekNames=t.weekdaysMin(),this.getLastSearchCriteria=function(){return c},this.setLastSearchCriteria=function(e){c=e},this.getModelMonths=function(){return u},this.priceClassifier=new i,this.prepareDataModel=function(e){var t=e.getFirstLeg().departureDateTime||e.earliestDepartureLatestReturnDatesFlexibility.earliestDepartureDateTime,i=r(t);u=a(i),this.requestedMonthSeqNumber=n(t)}}function l(t){var n=e.findIndex(t,"noPricesFound",!1),r=e.findLastIndex(t,"noPricesFound",!1);return t.slice(n,r+1)}return s.prototype.hasData=function(){return!e.isEmpty(this.months)},s.prototype.setLastDayDisplayedCap=function(e){this.maxAvailableDate=e},s.prototype.updateWithLeadPrices=function(t,n){var r=this;this.setLastSearchCriteria(t),this.priceClassifier.train(e.pluck(e.values(n),"price"));var i=this.calculateMonthsMinPrices(n);this.months=this.getModelMonths().map(function(e){var t=r.getMonthBounds(e);return r.updateMonthModelWithLeadPrices(n,i,t)}),this.months=l(this.months)},s.prototype.getMonthBounds=e.memoize(function(e){return new r(e)}),s.prototype.updateMonthModelWithLeadPrices=function(e,n,r){var i=this,a=[],s={days:[]},l=function(e){return{day:e,isPrevOrNextMonthDay:!0}};s.days=r.prevMonthDaysOfLastWeek.map(l);var c=!0;return t().range(r.monthStartDate,r.monthEndDate).by("days",function(t){var n={day:void 0,price:void 0,currency:void 0,priceTier:void 0};n.day=t;var r=t.format(o.prototype.DATE_FORMAT_FOR_KEYS);if(e&&e[r]){c=!1;var l=e[r].price;n.price=l,n.currency=e[r].currency,n.priceTier=i.priceClassifier.classifyIntoTier(l)}s.days.push(n),7===s.days.length&&(a.push(s),s={days:[]})}),s.days.length<7&&(s.days=s.days.concat(r.nextMonthDaysOfFirstWeek.map(l)),a.push(s)),{monthStartDate:r.monthStartDate,noPricesFound:c,monthLeadPrice:n[r.monthStartDate]&&n[r.monthStartDate].price,monthLeadPriceCurrency:n[r.monthStartDate]&&n[r.monthStartDate].currency,weeks:a}},s.prototype.calculateMonthsMinPrices=function(n){return e.reduce(n,function(n,r,i){var a=t(i).startOf("month"),o=n[a.toString()];if(o&&o.currency!==r.currency)throw new Error("Unable to calculate month min price as currencies for particular day prices are different");return(e.isUndefined(o)||o.price>r.price)&&(n[a.toString()]=r),n},{})},s.prototype.getDisplayedRange=function(){return new t.range(e.first(this.getModelMonths()),e.last(this.getModelMonths()).clone().endOf("month"))},s}),n("webservices/leadPriceCalendar/LeadPriceCalendarSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){"use strict";function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),t.getPreferredAirlines().length>0&&n.push("Lead Price calendar does not support airline preference"),n},r}),n("Configuration",["angular"],function(e){"use strict";var t=e.module("configuration",[]).value("apiURL","http://10.14.54.160:8088/sabreapibridge/api").value("pointOfSaleCountry","DE").value("fareNabberApiURL","http://pifhli101:51000/Subscriptions").value("fareNabberRegistrationPCC","E8KE");return t}),n("webservices/WebServicesResourceDefinitions",["lodash","angular","angular_resource","Configuration","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";var n={"Content-Type":"application/JSON"};return t.module("sabreDevStudioWebServices").factory("CachingDecorator",["$q","$cacheFactory",function(t,n){var r=0;return{addCaching:function(i,a){var o=n("CachingDecoratorCache_"+r++);return function(n){var r=JSON.stringify(n);return t(function(t,s){var l=o.get(r);return l&&l.success?t(l.success):l&&l.error?s(l.error):void i({},n).$promise.then(function(e){return o.put(r,{success:e}),t(e)},function(t){return e.contains(a,t.status)&&o.put(r,{error:t}),s(t)})})}}}}]).factory("AdvancedCalendarSearchService",["$resource","apiURL","CachingDecorator",function(e,t,r){var i=t+"/v1.8.6/shop/calendar/flights",a=e(i,null,{sendRequest:{method:"POST",headers:n,timeout:15e3}});return{sendRequest:r.addCaching(a.sendRequest,[404])}}]).factory("BargainFinderMaxWebService",["$resource","apiURL","CachingDecorator",function(e,t,r){var i=t+"/v1.9.0/shop/flights?mode=live",a=e(i,null,{sendRequest:{method:"POST",headers:n,timeout:3e4}});return{sendRequest:r.addCaching(a.sendRequest,[404])}}]).factory("BargainFinderMaxAlternateDateWebService",["$resource","apiURL","CachingDecorator",function(e,t,r){var i=t+"/v1.8.6/shop/altdates/flights?mode=live",a=e(i,null,{sendRequest:{method:"POST",headers:n,timeout:3e4}});return{sendRequest:r.addCaching(a.sendRequest,[404])}}]).factory("InstaFlightsWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/shop/flights";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("LeadPriceCalendarWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/shop/flights/fares";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("FareForecastWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/forecast/flights/fares";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("FareRangeWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/historical/flights/fares";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("LowFareHistoryWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/historical/shop/flights/fares";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("DestinationPricerWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/shop/flights/cheapest/fares/:destination";return e(r,{destination:"@_destination"},{get:{method:"GET",cache:!0,headers:n}})}]).factory("DestinationFinderWebService",["$resource","apiURL",function(e,t){var r=t+"/v2/shop/flights/fares/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("AirlineLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/utilities/airlines/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("EquipmentLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/utilities/aircraft/equipment/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("AirlineLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/utilities/airlines/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("PointOfSaleCountryLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/supported/pointofsalecountries/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("ShoppingAirportsAndCitiesLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/supported/shop/flights/origins-destinations/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("FareRangeAirportsAndCitiesLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/supported/historical/flights/origins-destinations/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("LowFareForecastAirportsAndCitiesLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/supported/forecast/flights/origins-destinations/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("TravelThemeLookupWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/lists/supported/shop/themes/";return e(r,{},{get:{method:"GET",cache:!0,headers:n}})}]).factory("TravelSeasonalityWebService",["$resource","apiURL",function(e,t){var r=t+"/v1/historical/flights/:destination/seasonality";return e(r,{destination:"@_destination"},{get:{method:"GET",cache:!0,headers:n}})}]).factory("GeoSearchWebService",["$resource","apiURL","CachingDecorator",function(e,t,r){var i=t+"/v1/lists/utilities/geosearch/locations",a=e(i,null,{sendRequest:{method:"POST",headers:n}});return{sendRequest:r.addCaching(a.sendRequest,[404])}}])}),n("datamodel/AlternateDatesAbstractPriceMatrix",["lodash"],function(e){"use strict";function t(){this.leadFaresForDates=[]}return t.prototype.getAllLeadFares=function(){return this.leadFaresForDates},t.prototype.findEntryForDepartureDate=function(t){var n=e.partial(this.datesAreSameDay,t),r=e.find(this.leadFaresForDates,function(e){return n(e.departureDate)});if(e.isUndefined(r)){var i={departureDate:t},a=e.sortedIndex(this.leadFaresForDates,i,function(e){return e.departureDate.unix()});return this.leadFaresForDates.splice(a,0,i),i}return r},t.prototype.updateEntry=function(t,n,r){if(t.currency&&t.currency!==r)throw new Error("Different currency when trying to update price for dates. Cannot compare the already cheapest fare in "+t.currency+" to candidate fare in "+r);e.isUndefined(t.currency)&&(t.currency=r),(e.isUndefined(t.price)||t.price>n)&&(t.price=n)},t.prototype.datesAreSameDay=function(e,t){return e.date()===t.date()&&e.month()===t.month()&&e.year()===t.year()},t.prototype.hasAtLeastOnePrice=function(){return!e.isEmpty(this.leadFaresForDates)},t}),n("datamodel/AlternateDatesRoundTripPriceMatrix",["lodash","datamodel/AlternateDatesAbstractPriceMatrix"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.addLeadFareForDate=function(e){var t=this.findEntryForDepartureAndReturnDates(e.departureDate,e.returnDate);this.updateEntry(t,e.price,e.currency)},n.prototype.getLeadFareForTravelDates=function(t,n){var r=e.partial(this.datesAreSameDay,t),i=e.find(this.leadFaresForDates,function(e){return r(e.departureDate)});if(!e.isUndefined(i)){var a=e.partial(this.datesAreSameDay,n),o=e.find(i.pricesForReturnDates,function(e){return a(e.returnDate)});if(!e.isUndefined(o))return{price:o.price,currency:o.currency}}},n.prototype.getAllReturnDates=function(){var t=e.flattenDeep(this.leadFaresForDates.map(function(e){return e.pricesForReturnDates.map(function(e){return e.returnDate})}));return e.uniq(t,!1,function(e){return e.unix()})},n.prototype.findEntryForDepartureAndReturnDates=function(e,t){var n=this.findEntryForDepartureDate(e);return this.findEntryForReturnDate(n,t)},n.prototype.findEntryForReturnDate=function(t,n){e.isUndefined(t.pricesForReturnDates)&&(t.pricesForReturnDates=[]);var r=t.pricesForReturnDates,i=e.partial(this.datesAreSameDay,n),a=e.find(r,function(e){return i(e.returnDate)});if(e.isUndefined(a)){var o={returnDate:n},s=e.sortedIndex(r,o,function(e){return e.returnDate.unix()});return r.splice(s,0,o),o}return a},n}),n("webservices/leadPriceCalendar/LeadPriceCalendarResponseParser",["angular","moment","lodash","datamodel/AlternateDatesRoundTripPriceMatrix","webservices/SabreDevStudioWebServicesModule"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("LeadPriceCalendarResponseParser",function(){return{parse:function(e){function t(e){return!isNaN(parseFloat(e.LowestFare))&&isFinite(e.LowestFare)||!isNaN(parseFloat(e.LowestNonStopFare))&&isFinite(e.LowestNonStopFare)}return e.FareInfo.filter(t).map(function(e){return{departureDateTime:e.DepartureDateTime,lowestFare:e.LowestFare,lowestNonStopFare:e.LowestNonStopFare,currency:e.CurrencyCode}})},extractAlternateDatesPriceMatrix:function(e){return e.FareInfo.map(function(e){return{departureDate:t(e.DepartureDateTime,t.ISO_8601),returnDate:t(e.ReturnDateTime,t.ISO_8601),price:e.LowestFare,currency:e.CurrencyCode}}).reduce(function(e,t){return e.addLeadFareForDate(t),e},new r)},getBusinessErrorMessages:function(e){return e}}})}),n("webservices/leadPriceCalendar/LeadPriceCalendarWebService",["angular","moment","lodash","webservices/leadPriceCalendar/LeadPriceCalendarSearchCriteriaValidator","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","datamodel/ShoppingData","webservices/leadPriceCalendar/LeadPriceCalendarResponseParser"],function(e,t,n,r,i,a,o){"use strict";return e.module("sabreDevStudioWebServices").factory("LeadPriceCalendarDataService",["$q","$cacheFactory","LeadPriceCalendarWebService","LeadPriceCalendarResponseParser","pointOfSaleCountry","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,i,a,s,l,c,u,d){function p(e){var t={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,lengthofstay:e.getLengthOfStay()};return l.length>0&&n.extend(t,{pointofsalecountry:l}),t}function f(e){var t=e.getRequestedDepartureDates(),r=e.getRequestedLengthOfStayValues();r=r.filter(h);var i=e.getLengthOfStay(),a=10;r.length>a&&(r=g(r,i,a));var o={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:t.map(function(e){return e.format("YYYY-MM-DD")}).join(","),lengthofstay:r.join(",")};
return l.length>0&&n.extend(o,{pointofsalecountry:l}),o}function h(e){return 16>=e}function g(e,t,r){function i(e){return Math.abs(t-e)}var a=n.sortBy(e,i);return n.slice(a,0,r)}function m(e,n){return e.filter(function(e){var r=t(e.departureDateTime,t.ISO_8601);return n.contains(r)})}function v(e,r){var i=n.min(e,function(e){return 0===r?e.lowestNonStopFare:e.lowestFare});return{totalFareAmount:0===r?i.lowestNonStopFare:i.lowestFare,currency:i.currency,date:t(i.departureDateTime,t.ISO_8601)}}function y(e){var r=e.reduce(function(e,t){return n.isUndefined(e)||t.departureDateTime>e?t.departureDateTime:void 0});return t(r,t.ISO_8601)}function A(e,n){return e.reduce(function(e,r){var i=t(r.departureDateTime,t.ISO_8601).format(o.prototype.DATE_FORMAT_FOR_KEYS),a=0===n?r.lowestNonStopFare:r.lowestFare;return e[i]={price:a,currency:r.currency},e},{})}var b=i("leadPricesCache"),S=new r;return{getLeadPricesForRange:function(t,n){return e(function(e,r){var i=S.validate(t);if(i.length>0)return u.reportErrors(i,"Unsupported search criteria"),r(i);var o=b.get(t);if(o){var l=m(o,n),f=A(l,t.maxStops);return e(f)}var h=p(t);a.get(h).$promise.then(function(r){var i=s.parse(r);b.put(t,i);var a=m(i,n),o=A(a,t.maxStops);return e(o)},function(e){c.reportError("Lead Price Calendar: Could not get lead prices for dates "+n.start.format("YYYY-MM-DD")+" thru "+n.end.format("YYYY-MM-DD"),t),d.handle(r,e,s.getBusinessErrorMessages)})})},getAlternateDatesPriceMatrix:function(t){if(!t.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=f(t);return e(function(e,r){var i=S.validate(t);return i.length>0?(u.reportErrors(i,"Unsupported search criteria"),r(i)):void a.get(n).$promise.then(function(t){var n=s.extractAlternateDatesPriceMatrix(t);e(n)},function(e){c.reportError("Lead Price Calendar: Could not get alternate dates lead prices",t),d.handle(r,e,s.getBusinessErrorMessages)})})},getMinDateAndPricePair:function(e){var t=b.get(e);if(n.isUndefined(t))throw new Error("trying to get aggregate from lead prices data while first call not done yet");return v(t,e.maxStops)},getMaxAvailableDate:function(e){var t=b.get(e);if(n.isUndefined(t))throw new Error("trying to get aggregate from lead prices data while first call not done yet");return y(t)}}}])}),n("webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule","webservices/leadPriceCalendar/LeadPriceCalendarWebService"],function(e,t){"use strict";return t.module("sabreDevStudioWebServices").factory("DaysRangeSearchStrategyFactory",["AdvancedCalendarDataService","LeadPriceCalendarDataService",function(e,t){return{createSearchStrategy:function(n){switch(n=n||"leadPriceCalendar"){case"advancedCalendar":return e;case"leadPriceCalendar":return t;default:throw new Error("unrecognized web service: "+n)}}}}])}),n("util/SelectorEngineExtensions",["util/LodashExtensions"],function(e){"use strict";function t(){function t(e,t){for(var n=e.nextSibling,r=[];n;n=n.nextSibling)if(1===n.nodeType&&(r.push(n),!t))return r;return r}function n(e){return t(e,!0)}function r(t,r){var i=n(t),a=n(t.parentNode),o=[];a.forEach(function(t){e.pushAll(o,t.children)});var s=e.pushAll(e.pushAll([t],i),o);return r?s.slice(0,r):s}return{nextAllAndFirstLevelCousins:r}}return t()}),n("widgets/calendar/HighlightLengthOfStay",["angular","widgets/SDSWidgets","util/SelectorEngineExtensions"],function(e,t,n){"use strict";return e.module("sdsWidgets").directive("highlightLengthOfStay",function(){return{scope:{lengthOfStayDays:"@",highlightClass:"@"},link:function(e,t){var r=parseInt(e.lengthOfStayDays)+1;t[0].addEventListener("mouseenter",function(){var t=n.nextAllAndFirstLevelCousins(this,r);t.forEach(function(t){t.classList.add(e.highlightClass)})}),t[0].addEventListener("mouseleave",function(){var t=n.nextAllAndFirstLevelCousins(this,r);t.forEach(function(t){t.classList.remove(e.highlightClass)})})}}})}),n("widgets/calendar/CalendarWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","datamodel/SearchCriteria","widgets/calendar/Calendar","webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory","widgets/calendar/HighlightLengthOfStay"],function(e,t,n,r,i,a,o){"use strict";return t.module("sdsWidgets").controller("CalendarWidgetCtrl",["$scope","DaysRangeSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","DateSelectedBroadcastingService","NoResultsFoundBroadcastingService",function(e,t,n,r,i,s){function l(t){d(),e.calendar.prepareDataModel(t),e.paginationSettings.currentPage=Math.floor((e.calendar.requestedMonthSeqNumber+2)/e.numberOfMonthsShownAtOnce),f.getLeadPricesForRange(t,e.calendar.getDisplayedRange()).then(function(e){c(t,e),p=t},u)}function c(t,n){var r=f.getMaxAvailableDate(t);e.calendar.setLastDayDisplayedCap(r);var i=t.getTripDepartureDateTime();e.monthsDisplayStates[i]=!0,e.calendar.updateWithLeadPrices(t,n)}function u(){d(),s.broadcast()}function d(){e.calendar=new o({numberOfMonths:e.numberOfMonths})}var p;e.paginationSettings={currentPage:1};var f=t.createSearchStrategy(e.activeSearchWebService);e.monthsDisplayStates={},e.executeLifeSearchOnPredefinedCriteriaIfPresent=function(e,t,n,r){if(e&&t&&n&&r){var i=a.prototype.buildRoundTripTravelSearchCriteria(e,t,n,r);l(i)}},e.$on(n,function(){var e=r.searchCriteria;l(e)}),e.isAnyDataToDisplayAvailable=function(){return e.calendar&&e.calendar.hasData()},e.cellClicked=function(e){e.isBefore(new Date,"day")||(i.newSearchCriteria=p.cloneWithDatesAdjustedToOtherDepartureDate(e),i.originalDataSourceWebService=f,i.broadcast())}}]).directive("calendarTabs",["$compile",function(){return{restrict:"EA",scope:{numberOfMonths:"@tabsShown",activeSearchWebService:"@",doNotShowPrevNextMonthDays:"@"},templateUrl:"../widgets/view-templates/widgets/CalendarWidgetTabs.tpl.html",controller:"CalendarWidgetCtrl",link:function(e,t,n){e.numberOfMonths=parseInt(e.numberOfMonths)||1,e.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate)}}}]).directive("calendarNavigable",["$compile",function(){return{restrict:"EA",scope:{numberOfMonths:"@?totalNumberOfMonths",numberOfMonthsShownAtOnce:"@?",activeSearchWebService:"@",doNotShowPrevNextMonthDays:"@"},templateUrl:"../widgets/view-templates/widgets/CalendarWidgetNavigable.tpl.html",controller:"CalendarWidgetCtrl",link:function(e,t,n){e.numberOfMonthsShownAtOnce=parseInt(e.numberOfMonthsShownAtOnce)||1,e.numberOfMonths=parseInt(e.numberOfMonths)||10,e.executeLifeSearchOnPredefinedCriteriaIfPresent(n.origin,n.destination,n.departureDate,n.returnDate)}}}])}),n("webservices/advancedCalendar/AdvancedCalendarSearchCriteriaValidator",["util/LodashExtensions","moment","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n){"use strict";function r(){this.travelInsightEngineSearchCriteriaValidator=new n}return r.prototype.validate=function(t){var n=[],r=this.travelInsightEngineSearchCriteriaValidator.validate(t);return e.pushAll(n,r),n},r}),n("webservices/common/OTARequestFactory",[],function(){"use strict";function e(){}return e.prototype.createRequest=function(e){var t=e.optionsPerDay||100;return{OTA_AirLowFareSearchRQ:{OriginDestinationInformation:this.createOriginDestinationInfos(e),POS:this.createPOS(),TPA_Extensions:this.createRequestTPAExtensions(t,e.dateFlexibilityDays),TravelPreferences:this.createTravelPreferences(t,e.preferredCabin,e.maxStops),TravelerInfoSummary:this.createTravelerInfoSummary(e.passengerSpecifications)}}},e.prototype.createLegTPAExtensions=function(e){return{IncludeVendorPref:e.map(function(e){return{Code:e}})}},e.prototype.createPOS=function(){return{Source:[{RequestorID:{CompanyName:{Code:"TN"},ID:"REQ.ID",Type:"0.AAA.X"}}]}},e.prototype.createTravelPreferences=function(e,t,n){return{CabinPref:[{Cabin:t.code}],MaxStopsQuantity:n,TPA_Extensions:{NumTrips:this.createNumTrips(e)}}},e.prototype.createTravelerInfoSummary=function(e){return{AirTravelerAvail:[{PassengerTypeQuantity:e.map(function(e){return{Code:e.passengerTypeCode,Quantity:e.count}})}],PriceRequestInformation:this.createPriceRequestInformation()}},e.prototype.createRequestTPAExtensions=function(e,t){return{IntelliSellTransaction:{RequestType:{Name:this.getRequestType(e,t)}}}},e.prototype.createPriceRequestInformation=function(){return{}},e.prototype.dateTimeFormat="YYYY-MM-DDTHH:mm:ss",e}),n("webservices/common/WebServiceSerializationUtils",[],function(){"use strict";return{createWeekDaysString:function(e){var t=["S","M","T","W","T","F","S"],n="_";return e.map(function(e,r){return e?t[r]:n}).join("")}}}),n("webservices/advancedCalendar/AdvancedCalendarRequestFactory",["moment","webservices/common/OTARequestFactory","webservices/common/WebServiceSerializationUtils"],function(e,t,n){"use strict";function r(e){this.requestDatesExpander=e}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.dateFormat="YYYY-MM-DD",r.prototype.createOriginDestinationInfos=function(e){var t=this,n=this.createDaysRangeFormatted(e.getDepartureDateFrom(),e.getDepartureDateTo(),e.getDepartureDaysOfWeek()),r={DepartureDates:{DaysRange:[n]},DestinationLocation:{LocationCode:e.legs[0].destination},OriginLocation:{LocationCode:e.legs[0].origin},RPH:"1",TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines)},i=this.createDaysRangeFormatted(e.getReturnDateFrom(),e.getReturnDateTo(),e.getReturnDaysOfWeek()),a={DepartureDates:{DaysRange:[i]},DestinationLocation:{LocationCode:e.legs[1].destination},OriginLocation:{LocationCode:e.legs[1].origin},RPH:"2",TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines)};return e.isPlusMinusDaysDateFlexibilityRequest()||(a.DepartureDates.LengthOfStayRange=[{MinDays:e.getMinLengthOfStay()||e.getLengthOfStay(),MaxDays:e.getMaxLengthOfStay()||e.getLengthOfStay()}]),[r,a]},r.prototype.createDaysRangeFormatted=function(e,t,r){var i={FromDate:e,ToDate:t};this.requestDatesExpander&&(i=this.requestDatesExpander.expandReturnDaysRange(i));var a={FromDate:i.FromDate.format(this.dateFormat),ToDate:i.ToDate.format(this.dateFormat)};return r&&(a.WeekDays=n.createWeekDaysString(r)),a},r.prototype.getRequestType=function(){return"ADC1000"},r.prototype.createNumTrips=function(e){return{PerDateMin:1,PerDateMax:e}},r}),n("webservices/advancedCalendar/AdvancedCalendarRequestDatesExpander",["moment"],function(e){"use strict";function t(){this.today=e().startOf("day"),this.lastTravelDateAvailableInWebService=this.today.clone().add(this.MAX_ADVANCE_PURCHASE_DAYS_FROM_NOW,"days")}return t.prototype.MAX_ADVANCE_PURCHASE_DAYS_FROM_NOW=192,t.prototype.expandDepartureDaysRange=function(){return{FromDate:this.today,ToDate:this.lastTravelDateAvailableInWebService}},t.prototype.expandReturnDaysRange=function(){return{FromDate:this.today,ToDate:this.lastTravelDateAvailableInWebService}},t}),n("datamodel/Itinerary",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(){this.legs=[],this.itineraryPricingInfo=void 0,Object.defineProperty(this,"duration",{get:function(){var e=this.legs.reduce(function(e,t){return e+t.getDuration()},0);return e}}),Object.defineProperty(this,"outboundLegDuration",{get:function(){return t.first(this.legs).getDuration()}}),Object.defineProperty(this,"outboundDepartureDateTime",{get:function(){return this.getOutboundDepartureDateTime()}}),Object.defineProperty(this,"outboundArrivalDateTime",{get:function(){return this.getOutboundArrivalDateTime()}}),Object.defineProperty(this,"numberOfStops",{get:function(){return this.getNumberOfStops()}}),Object.defineProperty(this,"sumNumberOfStopsForAllLegs",{get:function(){return this.getSumNumberOfStopsForAllLegs()}}),Object.defineProperty(this,"totalFareAmountWithCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare}}),Object.defineProperty(this,"totalFareAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare.amount}}),Object.defineProperty(this,"totalFareCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalFare.currency}}),Object.defineProperty(this,"baseFareAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.baseFare.amount}}),Object.defineProperty(this,"baseFareCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.baseFare.currency}}),Object.defineProperty(this,"totalTaxAmount",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalTax.amount}}),Object.defineProperty(this,"totalTaxCurrency",{get:function(){return this.itineraryPricingInfo.fareAmounts.totalTax.currency}})}return n.prototype.addLeg=function(e){this.legs.push(e),this.updateLegsChangeOfAirportAtDeparture(),this.updateLegsChangeOfAirportAtArrival()},n.prototype.getLegsSegmentCounts=function(){return this.legs.map(function(e){return e.segments.length})},n.prototype.updateLegsChangeOfAirportAtDeparture=function(){if(!this.isOneWayTravel()){var e=this;this.legs.forEach(function(t,n,r){t.hasAirportChangeAtDeparture=0===n?!e.isTripDepartureAndReturnSameAirport():t.getLegDepartureAirport()!==r[n-1].getLegArrivalAirport()})}},n.prototype.updateLegsChangeOfAirportAtArrival=function(){if(!this.isOneWayTravel()){var e=this;this.legs.forEach(function(t,n,r){t.hasAirportChangeAtArrival=e.isLastLeg(n)?!e.isTripDepartureAndReturnSameAirport():t.getLegArrivalAirport()!==r[n+1].getLegDepartureAirport()})}},n.prototype.isLastLeg=function(e){return e===this.legs.length-1},n.prototype.getOutboundDepartureDateTime=function(){var e=t.first(this.legs);return t.first(e.segments).departureDateTime},n.prototype.getOutboundArrivalDateTime=function(){var e=t.first(this.legs);return t.last(e.segments).arrivalDateTime},n.prototype.getInboundDepartureDateTime=function(){var e=t.last(this.legs);return t.first(e.segments).arrivalDateTime},n.prototype.getInboundArrivalDateTime=function(){var e=t.last(this.legs);return t.last(e.segments).arrivalDateTime},n.prototype.getNumberOfStops=function(){return t.max(this.legs.map(function(e){return e.getNumberOfStops()}))},n.prototype.getSumNumberOfStopsForAllLegs=function(){return this.legs.reduce(function(e,t){return e+t.getNumberOfStops()},0)},n.prototype.getFirstLeg=function(){return t.first(this.legs)},n.prototype.getFirstMarketingAirline=function(){return this.legs[0].segments[0].marketingAirline},n.prototype.getAllMarketingAirlines=function(){if(e.isUndefined(this.allMktAirlines)){var n=[];this.legs.forEach(function(e){t.pushAll(n,e.getAllMarketingAirlines())}),this.allMktAirlines=t.uniq(n)}return this.allMktAirlines},n.prototype.getConnectionAirports=function(){var e=this.legs.map(function(e){return e.getConnectionAirports()});return t.union(t.flatten(e))},n.prototype.getTripDepartureAirport=function(){return t.first(this.legs).getLegDepartureAirport()},n.prototype.getTripArrivalAirport=function(){return t.last(this.legs).getLegArrivalAirport()},n.prototype.getFirstLegArrivalAirport=function(){return t.first(this.legs).getLegArrivalAirport()},n.prototype.isTripDepartureAndReturnSameAirport=function(){return this.getTripDepartureAirport()===this.getTripArrivalAirport()},n.prototype.departureAndArrivalDifferentForComplexTravel=function(){return this.isOneWayTravel()?void 0:!this.isTripDepartureAndReturnSameAirport()},n.prototype.isOneWayTravel=function(){return 1===this.legs.length},n.prototype.hasChangeOfAirportsAtAnyStopover=function(){return this.isOneWayTravel()?void 0:(e.isUndefined(this.hasChangeOfAirportsAtAnyStopoverIndicator)&&(this.hasChangeOfAirportsAtAnyStopoverIndicator=this.legs.some(function(e,t,n){return 0===t&&e.hasAirportChangeAtArrival||t>0&&t<n.length-1&&(e.hasAirportChangeAtDeparture||e.hasAirportChangeAtArrival)||t>0&&e.hasAirportChangeAtDeparture})),this.hasChangeOfAirportsAtAnyStopoverIndicator)},n.prototype.getPricingSource=function(){return this.pricingSource},n.prototype.getFlightStructure=function(){return this.legs.map(function(e){return e.getFlightStructure()}).join(" ||| ")},n.prototype.hasRedEyeFlight=function(){return e.isUndefined(this.hasRedEyeFlightIndicator)&&(this.hasRedEyeFlightIndicator=this.legs.some(function(e){return e.hasRedEyeFlight()})),this.hasRedEyeFlightIndicator},n.prototype.hasShortConnection=function(){return this.legs.some(function(e){return e.hasShortConnection()})},n.prototype.hasLongConnection=function(){return this.legs.some(function(e){return e.hasLongConnection()})},n.prototype.getSeatsRemaining=function(e,t){return this.itineraryPricingInfo.getSeatsRemaining(e,t)},n.prototype.hasLowSeatsRemaining=function(){return this.itineraryPricingInfo.hasLowSeatsRemaining()},n.prototype.getCabin=function(e,t){return this.itineraryPricingInfo.getCabin(e,t)},n.prototype.getMeals=function(e,t){return this.itineraryPricingInfo.getMeals(e,t)},n.prototype.getBaggageAllowance=function(e,t){return this.itineraryPricingInfo.getBaggageAllowance(e,t)},n}),n("datamodel/Leg",["lodash","moment"],function(e,t){"use strict";function n(){this.segments=[]}return n.prototype.addSegment=function(e){this.segments.push(e)},n.prototype.getLegDepartureAirport=function(){return e.first(this.segments).departureAirport},n.prototype.getLegArrivalAirport=function(){return e.last(this.segments).arrivalAirport},n.prototype.getLegDepartureDateTime=function(){return e.first(this.segments).departureDateTime},n.prototype.getLegArrivalDateTime=function(){return e.last(this.segments).arrivalDateTime},n.prototype.getNumberOfStops=function(){return this.segments.length-1},n.prototype.getDuration=function(){return this.duration},n.prototype.getFirstFlightMarketingAirline=function(){return e.first(this.segments).marketingAirline},n.prototype.getAllMarketingAirlines=function(){var t=[];return this.segments.forEach(function(e){t.push(e.marketingAirline)}),e.uniq(t)},n.prototype.hasConnection=function(){return this.segments.length>1},n.prototype.getConnectionAirports=function(){if(!this.hasConnection())return[];var t=e.initial(this.segments);return t.map(function(e){return e.arrivalAirport})},n.prototype.getConnectionTimeMillis=function(e){if(this.hasConnection()&&e<this.segments.length-1){var t=this.segments[e].arrivalDateTime,n=this.segments[e+1].departureDateTime,r=n.diff(t);return r}},n.prototype.getConnectionTime=function(e){return t.duration(this.getConnectionTimeMillis(e))},n.prototype.getConnectionTimeMinutes=function(e){return this.getConnectionTimeMillis(e)/1e3/60},n.prototype.getFlightStructure=function(){return this.segments.map(function(e){return e.getFlightStructure()}).join("||")},n.prototype.hasRedEyeFlight=function(){return this.segments.some(function(e){return e.isRedEyeFlight()})},n.prototype.hasLongConnection=function(){var e=300,t=this;return this.segments.some(function(n,r){return t.getConnectionTimeMinutes(r)>=e})},n.prototype.hasShortConnection=function(){var e=60,t=this;return this.segments.some(function(n,r){return t.getConnectionTimeMinutes(r)<=e})},n}),n("datamodel/Segment",[],function(){"use strict";function e(e){this.departureAirport=e.departureAirport,this.departureDateTime=e.departureDateTime,this.arrivalAirport=e.arrivalAirport,this.arrivalDateTime=e.arrivalDateTime,this.elapsedTime=e.elapsedTime,this.equipment=e.equipment,this.marketingFlightNumber=e.marketingFlightNumber,this.marketingAirline=e.marketingAirline,this.operatingFlightNumber=e.operatingFlightNumber,this.operatingAirline=e.operatingAirline}return e.prototype.getFlightStructure=function(){return[this.departureDateTime.format(),this.departureAirport,this.arrivalDateTime,this.arrivalAirport,this.cabin,this.marketingAirline,this.marketingFlightNumber,this.operatingAirline,this.operatingFlightNumber].join("|")},e.prototype.isRedEyeFlight=function(){return this.flightTimeCrossesMidnight()},e.prototype.flightTimeCrossesMidnight=function(){var e=this.departureDateTime.clone().endOf("day");return this.arrivalDateTime.isAfter(e)},e}),n("datamodel/SegmentBaggageAllowance",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(){this.legSegmentBaggageAllowance={}}return n.prototype.addLegSegmentsAllowance=function(t,n,r){e.isUndefined(this.legSegmentBaggageAllowance[t])&&(this.legSegmentBaggageAllowance[t]={}),this.legSegmentBaggageAllowance[t][n]=r},n.prototype.getSegmentAllowance=function(e,t){return this.legSegmentBaggageAllowance[e][t]},n.prototype.uniqueBaggageAllowance=function(){var n=function(e){return JSON.stringify(e)},r=2;return e.uniq(t.leafValues(this.legSegmentBaggageAllowance,r),n)},n}),n("datamodel/ItineraryPricingInfo",["lodash","util/LodashExtensions","datamodel/SegmentBaggageAllowance"],function(e,t,n){"use strict";function r(e){this.legsSegmentCounts=e,this.nonRefundableIndicator=void 0,this.OBFees=[],this.baggageAllowance=void 0,this.segmentCabins={},this.segmentSeatsRemaining={},this.segmentMeals={},this.fareAmounts={baseFare:void 0,totalFare:void 0,totalTax:void 0},this.summaries={}}return r.prototype.calculateLegAndSegmentRelativeIndices=function(e){for(var t=0,n=0,r=0;r<this.legsSegmentCounts.length;r++){if(t+=this.legsSegmentCounts[r],t>e){var i=e-n;return{legIdx:r,relativeSegmentIdx:i}}n=t}},r.prototype.setCabin=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentCabins[r.legIdx])&&(this.segmentCabins[r.legIdx]={}),this.segmentCabins[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.setMeal=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentMeals[r.legIdx])&&(this.segmentMeals[r.legIdx]={}),this.segmentMeals[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.setSeatsRemaining=function(t,n){var r=this.calculateLegAndSegmentRelativeIndices(t);e.isUndefined(this.segmentSeatsRemaining[r.legIdx])&&(this.segmentSeatsRemaining[r.legIdx]={}),this.segmentSeatsRemaining[r.legIdx][r.relativeSegmentIdx]=n},r.prototype.getSeatsRemaining=function(e,t){return this.segmentSeatsRemaining[e]&&this.segmentSeatsRemaining[e][t]},r.prototype.getCabin=function(e,t){return this.segmentCabins[e]&&this.segmentCabins[e][t]},r.prototype.getUniqueCabins=function(){return e.uniq(t.leafValues(this.segmentCabins))},r.prototype.getMeals=function(e,t){return this.segmentMeals[e]&&this.segmentMeals[e][t]},r.prototype.getUniqueMeals=function(){return e.uniq(t.leafValues(this.segmentMeals))},r.prototype.setBaggageAllowance=function(e){this.baggageAllowance=new n;var t=this;e.forEach(function(e){e.segmentsAbsoluteIndexes.forEach(function(n){var r=t.calculateLegAndSegmentRelativeIndices(n);t.baggageAllowance.addLegSegmentsAllowance(r.legIdx,r.relativeSegmentIdx,e.allowance)})})},r.prototype.getBaggageAllowance=function(e,t){return this.baggageAllowance&&this.baggageAllowance.getSegmentAllowance(e,t)},r.prototype.getUniqueBaggageAllowance=function(){return this.baggageAllowance&&this.baggageAllowance.uniqueBaggageAllowance()},r.prototype.hasLowSeatsRemaining=function(){var t=4;return e.values(this.segmentSeatsRemaining).some(function(n){return e.values(n).some(function(e){return t>=e})})},r.prototype.updateSummaries=function(){this.summaries={uniqueCabins:this.getUniqueCabins(),uniqueMeals:this.getUniqueMeals(),uniqueBaggageAllowance:this.getUniqueBaggageAllowance()}},r}),n("datamodel/MonetaryAmount",[],function(){"use strict";function e(e,t){this.amount=e,this.currency=t}return e}),n("datamodel/AlternateDatesOneWayPriceMatrix",["lodash","datamodel/AlternateDatesAbstractPriceMatrix"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.addLeadFareForDate=function(e){var t=this.findEntryForDepartureDate(e.departureDate);this.updateEntry(t,e.price,e.currency)},n.prototype.getLeadFareForTravelDate=function(t){var n=e.partial(this.datesAreSameDay,t),r=e.find(this.leadFaresForDates,function(e){return n(e.departureDate)});return e.isUndefined(r)?void 0:{price:r.price,currency:r.currency}},n}),n("webservices/common/parsers/AbstractOTAResponseParser",["lodash","moment","datamodel/Itinerary","datamodel/Leg","datamodel/Segment","datamodel/ItineraryPricingInfo","datamodel/MonetaryAmount","datamodel/ItinerariesList","datamodel/AlternateDatesOneWayPriceMatrix","datamodel/AlternateDatesRoundTripPriceMatrix"],function(e,t,n,r,i,a,o,s,l,c){"use strict";function u(){}return u.prototype.getFirstItineraryTripType=function(t){var n=e.first(this.getPricedItinerariesArray(t));return"OneWay"===n.AirItinerary.DirectionInd?"OneWay":"Return"===n.AirItinerary.DirectionInd?"RoundTrip":void 0},u.prototype.createAlternateDatesPriceMatrixForTripType=function(e){return"OneWay"===e?new l:"RoundTrip"===e?new c:void 0},u.prototype.parse=function(e){var t=new s;if(!this.itinerariesFound(e))return t;var n=this;return this.getPricedItinerariesArray(e).forEach(function(e){var r=n.parseItinerary(e);t.add(r)}),t},u.prototype.extractAlternateDatesPriceMatrix=function(e){var t=this.getFirstItineraryTripType(e),n=this.createAlternateDatesPriceMatrixForTripType(t);if(!this.itinerariesFound(e))return n;var r=this;return this.getPricedItinerariesArray(e).forEach(function(e){var t=r.getTravelDatesWithLeadPrice(e);n.addLeadFareForDate(t)}),n},u.prototype.parseItinerary=function(e){var t=this,r=new n;if(e.AirItinerary.OriginDestinationOptions.OriginDestinationOption.forEach(function(e){r.addLeg(t.parseLeg(e))}),e.AirItineraryPricingInfo.length>1)throw new Error("parser unsupported");var i=this.getItineraryPricingInfoResponsePart(e),a=r.getLegsSegmentCounts();return r.itineraryPricingInfo=this.parseItineraryPricingInfo(i,a),r.pricingSource=this.parsePricingSource(e),r},u.prototype.parseItineraryPricingInfo=function(e,t){var n=new a(t);this.parseCabinAndSeatsRemaining(n,e.FareInfos.FareInfo);var r=e.ItinTotalFare;return n.fareAmounts=this.parseFareAmounts(r),n},u.prototype.parseCabinAndSeatsRemaining=function(e,t){t.forEach(function(t,n){e.setCabin(n,t.TPA_Extensions.Cabin.Cabin),t.TPA_Extensions.Meal&&e.setMeal(n,t.TPA_Extensions.Meal.Code),e.setSeatsRemaining(n,t.TPA_Extensions.SeatsRemaining.Number)})},u.prototype.parseOBFees=function(e){return e.OBFee.map(function(e){return new o(e.Amount,e.CurrencyCode)})},u.prototype.parseFareAmounts=function(t){var n={};if(n.baseFare=new o(t.BaseFare.Amount,t.BaseFare.CurrencyCode),t.Taxes.Tax.length>1)throw new Error("parser unsupported");n.totalTax=new o(t.Taxes.Tax[0].Amount,t.Taxes.Tax[0].CurrencyCode);var r=t.TotalFare.Amount,i=e.isString(r)?parseFloat(r):r;return n.totalFare=new o(i,t.TotalFare.CurrencyCode),n},u.prototype.getTravelDatesWithLeadPrice=function(e){var t=this.parseItinerary(e),n={departureDate:t.getOutboundDepartureDateTime(),returnDate:t.getInboundDepartureDateTime(),price:t.totalFareAmountWithCurrency.amount,currency:t.totalFareAmountWithCurrency.currency};return n},u.prototype.parseLeg=function(e){var n=this,a=new r;return a.duration=parseInt(e.ElapsedTime),a.segments=e.FlightSegment.map(function(e){return new i({departureAirport:e.DepartureAirport.LocationCode,departureDateTime:t(new Date(e.DepartureDateTime)),arrivalAirport:e.ArrivalAirport.LocationCode,arrivalDateTime:t(new Date(e.ArrivalDateTime)),elapsedTime:e.ElapsedTime,equipment:n.parseEquipment(e),marketingFlightNumber:e.FlightNumber,marketingAirline:e.MarketingAirline.Code,operatingFlightNumber:e.OperatingAirline.FlightNumber,operatingAirline:e.OperatingAirline.Code})}),a},u}),n("webservices/common/parsers/OTAResponseParser",["lodash","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.getPricedItinerariesArray=function(e){return e.OTA_AirLowFareSearchRS.PricedItineraries.PricedItinerary},n.prototype.itinerariesFound=function(t){return e.has(t,"OTA_AirLowFareSearchRS","Success")},n.prototype.getItineraryPricingInfoResponsePart=function(e){return e.AirItineraryPricingInfo[0]},n.prototype.parseEquipment=function(e){return e.Equipment[0].AirEquipType},n.prototype.getBusinessErrorMessages=function(t){var n=["WORKERTHREAD","SERVER","DEFAULT","DRE","IF2","DSFCLIENT","JRCHILD"];try{var r=JSON.parse(t).OTA_AirLowFareSearchRS.Errors.Error.filter(function(t){return!e.contains(n,t.Type)}).map(function(e){return e.ShortText})||[];return e.unique(r)}catch(i){return[t]}},n.prototype.parsePricingSource=function(e){var t=e.AirItineraryPricingInfo[0];return t.PricingSource+":"+t.PricingSubSource},n}),n("webservices/advancedCalendar/AdvancedCalendarService",["angular","lodash","moment","moment_range","webservices/advancedCalendar/AdvancedCalendarSearchCriteriaValidator","webservices/advancedCalendar/AdvancedCalendarRequestFactory","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","webservices/advancedCalendar/AdvancedCalendarRequestDatesExpander","datamodel/ShoppingData","webservices/common/parsers/OTAResponseParser"],function(e,t,n,r,i,a,o,s,l,c,u){"use strict";return e.module("sabreDevStudioWebServices").factory("AdvancedCalendarDataService",["$q","AdvancedCalendarSearchService","ShoppingOptionsCacheService","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,n,r,o,s,d){function p(e){var t=[e.getFirstLeg().origin,e.getFirstLeg().destination,e.getLengthOfStay(),JSON.stringify(e.preferredAirlines),e.maxStops,JSON.stringify(e.passengerSpecifications)];return t.join("-")}function f(e){return!e.isAlternateDatesRequest()}var h=new l,g=new a(h),m=new a,v=new u,y=new i;return{getLeadPricesForRange:function(i,a){return e(function(e,l){var u=y.validate(i);if(u.length>0)return s.reportErrors(u,"Unsupported search criteria"),l(u);var f=p(i),h=r.getLeadPricesForRange(f,a.start,a.end);if(t.size(h)>0)return e(h);var m=g.createRequest(i);n.sendRequest(m).then(function(t){var n=v.parse(t),i=new c;i.markRequestedData(f,a.start,a.end),n.getItineraries().forEach(function(e){i.addItinerary(f,e,e.getOutboundDepartureDateTime())}),i.updateLeadPrices(f),r.addUpdate(i);var o=i.getLeadPricesForRange(f,a.start,a.end);return e(o)},function(e){o.reportError("Advanced Calendar: Could not get lead prices for dates "+a.start.format("YYYY-MM-DD")+" thru "+a.end.format("YYYY-MM-DD"),i),d.handle(l,e,v.getBusinessErrorMessages)})})},getItineraries:function(t){return e(function(e,i){var a=y.validate(t);if(a.length>0)return s.reportErrors(a,"Unsupported search criteria"),i(a);if(f(t)){var l=p(t),c=t.getFirstLeg().departureDateTime.clone().startOf("day"),u=r.getItinerariesList(l,c);if(u&&u.size()>0)return e(u)}var h=m.createRequest(t);n.sendRequest(h).then(function(t){var n=v.parse(t);return e(n)},function(e){o.reportError("Advanced Calendar: Could not get itineraries",t),d.handle(i,e,v.getBusinessErrorMessages)})})},getAlternateDatesPriceMatrix:function(t){if(!t.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var r=m.createRequest(t);return e(function(e,i){var a=y.validate(t);return a.length>0?(s.reportErrors(a,"Unsupported search criteria"),i(a)):void n.sendRequest(r).then(function(t){var n=v.extractAlternateDatesPriceMatrix(t);e(n)},function(e){o.reportError("Advanced Calendar: Could not get alternate dates lead prices",t),d.handle(i,e,v.getBusinessErrorMessages)})})},getMinDateAndPricePair:function(e){var t=p(e),n=r.getMinDateAndPricePair(t);return{totalFareAmount:n.totalFareAmountWithCurrency.amount,currency:n.totalFareAmountWithCurrency.currency,date:n.date}},getMaxAvailableDate:function(e){var t=p(e);return r.getMaxAvailableDate(t)}}}])}),n("webservices/common/searchStrategyFactories/AlternateDatesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule","webservices/advancedCalendar/AdvancedCalendarService"],function(e,t){"use strict";return t.module("sabreDevStudioWebServices").factory("AlternateDatesSearchStrategyFactory",["AdvancedCalendarDataService","LeadPriceCalendarDataService","BargainFinderMaxDataService",function(e,t,n){return{createSearchStrategy:function(r){switch(r=r||"bfmAltDates"){case"bfmAltDates":return{getAlternateDatesPriceMatrix:function(e,t,r){n.getAlternateDatesPriceMatrix(e).then(t,r)
}};case"advancedCalendar":return{getAlternateDatesPriceMatrix:function(t,n,r){e.getAlternateDatesPriceMatrix(t).then(n,r)}};case"leadPriceCalendar":return{getAlternateDatesPriceMatrix:function(e,n,r){t.getAlternateDatesPriceMatrix(e).then(n,r)}};default:throw new Error("unrecognized web service: "+r)}}}}])}),n("widgets/AlternateDatesMatrixWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","datamodel/SearchCriteria","webservices/common/searchStrategyFactories/AlternateDatesSearchStrategyFactory"],function(e,t,n,r,i,a){"use strict";return t.module("sdsWidgets").controller("AlternateDatesMatrixCtrl",["$scope","AlternateDatesSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService",function(e,t,r,i){function o(){l()}function s(t,n){e.isRoundTripTravel=t.isRoundTripTravel(),e.isOneWayTravel=t.isOneWayTravel(),e.requestedDepartureDates=t.getRequestedDepartureDates(),t.isRoundTripTravel()&&(e.requestedReturnDates=t.getRequestedReturnDates()),u.departureDate=t.getTripDepartureDateTime(),t.isRoundTripTravel()&&(u.returnDate=t.getTripReturnDateTime()),e.altDatesPriceMatrix=n,e.departureAirport=t.getFirstLeg().origin,e.arrivalAirport=t.getFirstLeg().destination}function l(){e.altDatesPriceMatrix=void 0,e.departureAirport=void 0,e.arrivalAirport=void 0}var c=t.createSearchStrategy(e.activeSearchWebService),u={};e.executeLifeSearchOnPredefinedCriteriaIfPresent=function(t,n,r,i,o){if(t&&n&&r&&i){var s=a.prototype.buildRoundTripTravelSearchCriteriaWithDateFlexibility(t,n,r,i,o);e.processSearchCriteria(s)}},e.$on(r,function(){var t=i.searchCriteria;e.processSearchCriteria(t)}),e.processSearchCriteria=function(e){c.getAlternateDatesPriceMatrix(e,n.partial(s,e),o)},e.isAnyDataToDisplayAvailable=function(){return e.altDatesPriceMatrix&&e.altDatesPriceMatrix.hasAtLeastOnePrice()},e.isCentralRequestedDate=function(e,t){return e.isSame(u.departureDate)&&(n.isUndefined(t)||t.isSame(u.returnDate))}}]).directive("alternateDatesMatrix",function(){return{restrict:"EA",scope:{activeSearch:"@",activeSearchWebService:"@"},templateUrl:"../widgets/view-templates/widgets/AlternateDatesMatrix.tpl.html",controller:"AlternateDatesMatrixCtrl",link:function(e,t){e.executeLifeSearchOnPredefinedCriteriaIfPresent(t.attr("origin"),t.attr("destination"),t.attr("departure-date"),t.attr("return-date"),t.attr("alt-dates-plus-minus"))}}})}),n("widgets/BaseController",["lodash","datamodel/SearchCriteria"],function(e,t){"use strict";function n(t){this.scope=t.scope,this.searchService=t.searchService,this.noResultsFoundBroadcastingService=t.noResultsFoundBroadcastingService||{broadcast:e.noop},this.lastSearchCriteriaAirports={};var n=this;this.scope.$on(t.newSearchCriteriaEvent,function(){var e=t.searchCriteriaBroadcastingService.searchCriteria;n.processSearchCriteria(e)})}return n.prototype.executeLifeSearchOnPredefinedCriteriaIfPresent=function(e,n,r,i){if(e&&n&&r&&i){var a=t.prototype.buildRoundTripTravelSearchCriteria(e,n,r,i);this.processSearchCriteria(a)}},n.prototype.processSearchCriteria=function(e){var t=this;this.searchService.executeSearch(e).then(function(n){t.saveLastSearchCriteria(e),t.processSearchResults(n)},function(){t.saveLastSearchCriteria(e),t.clearModel(),t.noResultsFoundBroadcastingService.broadcast()})},n.prototype.saveLastSearchCriteria=function(t){this.lastSearchCriteria=t,this.lastSearchCriteriaAirports.departureAirport=e.isFunction(t.getFirstLeg)?t.getFirstLeg().origin:t.origin,this.lastSearchCriteriaAirports.arrivalAirport=e.isFunction(t.getFirstLeg)?t.getFirstLeg().destination:t.destination},n}),function(){"use strict";var e=this,t=e.Chart,r=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},n=this.width=t(e.canvas,"Width"),r=this.height=t(e.canvas,"Height");e.canvas.width=n,e.canvas.height=r;var n=this.width=e.canvas.width,r=this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,i.retinaScale(this),this};r.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},r.types={};var i=r.helpers={},a=i.each=function(e,t,n){var r=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(n,[e[i],i].concat(r))}else for(var a in e)t.apply(n,[e[a],a].concat(r))},o=i.clone=function(e){var t={};return a(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)}),t},s=i.extend=function(e){return a(Array.prototype.slice.call(arguments,1),function(t){a(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)})}),e},l=i.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),s.apply(null,e)},c=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},u=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var r=n+1;r<e.length;r++){var i=e[r];if(t(i))return i}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var r=n-1;r>=0;r--){var i=e[r];if(t(i))return i}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=u,e&&s(n.prototype,e),n.__super__=t.prototype,n}),d=i.noop=function(){},p=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),f=i.warn=function(e){window.console&&"function"==typeof window.console.warn},h=i.amd="function"==typeof n&&n.amd,g=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=i.max=function(e){return Math.max.apply(Math,e)},v=i.min=function(e){return Math.min.apply(Math,e)},y=(i.cap=function(e,t,n){if(g(t)){if(e>t)return t}else if(g(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){return e%1!==0&&g(e)?e.toString().split(".")[1].length:0}),A=i.radians=function(e){return e*(Math.PI/180)},b=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=2*Math.PI+Math.atan2(r,n);return 0>n&&0>r&&(a+=2*Math.PI),{angle:a,distance:i}},i.aliasPixel=function(e){return e%2===0?0:.5}),S=(i.splineCurve=function(e,t,n,r){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=r*i/(i+a),s=r*a/(i+a);return{inner:{x:t.x-o*(n.x-e.x),y:t.y-o*(n.y-e.y)},outer:{x:t.x+s*(n.x-e.x),y:t.y+s*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),D=(i.calculateScaleRange=function(e,t,n,r,i){var a=2,o=Math.floor(t/(1.5*n)),s=a>=o,l=m(e),c=v(e);l===c&&(l+=.5,c>=.5&&!r?c-=.5:l+=.5);for(var u=Math.abs(l-c),d=S(u),p=Math.ceil(l/(1*Math.pow(10,d)))*Math.pow(10,d),f=r?0:Math.floor(c/(1*Math.pow(10,d)))*Math.pow(10,d),h=p-f,g=Math.pow(10,d),y=Math.round(h/g);(y>o||o>2*y)&&!s;)if(y>o)g*=2,y=Math.round(h/g),y%1!==0&&(s=!0);else if(i&&d>=0){if(g/2%1!==0)break;g/=2,y=Math.round(h/g)}else g/=2,y=Math.round(h/g);return s&&(y=a,g=h/y),{steps:y,stepValue:g,min:f,max:f+y*g}},i.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[e]=r[e];return t?n(t):n}if(e instanceof Function)return e(t);var r={};return n(e,t)}),w=(i.generateLabels=function(e,t,n,r){var i=new Array(t);return labelTemplateString&&a(i,function(t,a){i[a]=D(e,{value:n+r*(a+1)})}),i},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),1>e?-.5*r*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):r*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-w.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*w.easeInBounce(2*e):.5*w.easeOutBounce(2*e-1)+.5}}),$=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),x=i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),C=(i.animationLoop=function(e,t,n,r,i,a){var o=0,s=w[n]||w.linear,l=function(){o++;var n=o/t,c=s(n);e.call(a,c,n,o),r.call(a,c,n),t>o?a.animationFrame=$(l):i.apply(a)};$(l)},i.getRelativePosition=function(e){var t,n,r=e.originalEvent||e,i=e.currentTarget||e.srcElement,a=i.getBoundingClientRect();return r.touches?(t=r.touches[0].clientX-a.left,n=r.touches[0].clientY-a.top):(t=r.clientX-a.left,n=r.clientY-a.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),T=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=d},F=(i.bindEvents=function(e,t,n){e.events||(e.events={}),a(t,function(t){e.events[t]=function(){n.apply(e,arguments)},C(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){a(t,function(t,n){T(e.chart.canvas,n,t)})}),M=i.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},k=i.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},O=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,r=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=r+"px",t.canvas.height=r*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),P=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},E=i.fontString=function(e,t,n){return t+" "+e+"px "+n},L=i.longestText=function(e,t,n){e.font=t;var r=0;return a(n,function(t){var n=e.measureText(t).width;r=n>r?n:r}),r},R=i.drawRoundedRectangle=function(e,t,n,r,i,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()};r.instances={},r.Type=function(e,t,n){this.options=t,this.chart=n,this.id=p(),r.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},s(r.Type.prototype,{initialize:function(){return this},clear:function(){return P(this.chart),this},stop:function(){return x(this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=M(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:k(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=r,O(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:d,render:function(e){return e&&this.reflow(),this.options.animation&&!e?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return D(this.options.legendTemplate,this)},destroy:function(){this.clear(),F(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete r.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var n=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(a(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(n||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,s,l=this.datasets.length-1;l>=0&&(o=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,s=c(o,e[0]),-1===s);l--);var u=[],d=[],p=function(){var e,t,n,r,a,o=[],l=[],c=[];return i.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[s]&&e[s].hasValue()&&o.push(e[s])}),i.each(o,function(e){l.push(e.x),c.push(e.y),u.push(i.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),a=v(c),n=m(c),r=v(l),t=m(l),{x:r>this.chart.width/2?r:t,y:(a+n)/2}}.call(this,s);new r.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else a(e,function(e){var t=e.tooltipPosition();new r.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:D(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),r.Type.extend=function(e){var t=this,n=function(){return t.apply(this,arguments)};if(n.prototype=o(t.prototype),s(n.prototype,e),n.extend=r.Type.extend,e.name||t.prototype.name){var i=e.name||t.prototype.name,a=r.defaults[t.prototype.name]?o(r.defaults[t.prototype.name]):{};r.defaults[i]=s(a,e.defaults),r.types[i]=n,r.prototype[i]=function(e,t){var a=l(r.defaults.global,r.defaults[i],t||{});return new n(e,a,this)}}else f("Name not provided for this chart, so it hasn't been registered");return t},r.Element=function(e){s(this,e),this.initialize.apply(this,arguments),this.save()},s(r.Element.prototype,{initialize:function(){},restore:function(e){return e?a(e,function(e){this[e]=this._saved[e]},this):s(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(e){return a(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return a(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return g(this.value)}}),r.Element.extend=u,r.Point=r.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),r.Arc=r.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle>=this.startAngle&&n.angle<=this.endAngle,a=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return r&&a},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),r.Rectangle=r.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,r=this.x+t,i=this.base-(this.base-this.y),a=this.strokeWidth/2;this.showStroke&&(n+=a,r-=a,i+=a),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,i),e.lineTo(r,i),e.lineTo(r,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),r.Tooltip=r.Element.extend({draw:function(){var e=this.chart.ctx;e.font=E(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var a=this.x-n/2,o=this.y-i;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":a=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":a=this.x-(this.cornerRadius+this.caretHeight)}R(e,a,o,n,r,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,a+n/2,o+r/2)}}}),r.MultiTooltip=r.Element.extend({initialize:function(){this.font=E(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=E(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=L(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{R(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),r.Scale=r.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(D(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?L(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,r=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=r/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,a=L(this.ctx,this.font,this.xLabels);this.xLabelWidth=a;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(A(this.xLabelRotation)),e=i*n,t=i*r,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*a;this.xLabelRotation>0&&(this.endPoint-=Math.sin(A(this.xLabelRotation))*a+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:d,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),r=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(r+=n/2),Math.round(r)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,a(this.yLabels,function(r,a){var o=this.endPoint-t*a,s=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,o),0!==a||l||(l=!0),l&&e.beginPath(),a>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,s),e.lineTo(n,s),e.stroke(),e.closePath()},this),a(this.xLabels,function(t,n){var r=this.calculateX(n)+b(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+b(this.lineWidth),a=this.xLabelRotation>0,o=this.showVerticalLines;0!==n||o||(o=!0),o&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(r,a?this.endPoint+12:this.endPoint+8),e.rotate(-1*A(this.xLabelRotation)),e.font=this.font,e.textAlign=a?"right":"center",e.textBaseline=a?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),r.RadialScale=r.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=y(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(D(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,r,i,a,o,s,l,c,u,d,p=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,h=0;for(this.ctx.font=E(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),n=this.ctx.measureText(D(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(r=n/2,e.x+r>f&&(f=e.x+r,i=t),e.x-r<h&&(h=e.x-r,o=t)):t<this.valuesCount/2?e.x+n>f&&(f=e.x+n,i=t):t>this.valuesCount/2&&e.x-n<h&&(h=e.x-n,o=t);l=h,c=Math.ceil(f-this.width),a=this.getIndexAngle(i),s=this.getIndexAngle(o),u=c/Math.sin(a+Math.PI/2),d=l/Math.sin(s+Math.PI/2),u=g(u)?u:0,d=g(d)?d:0,this.drawingArea=p-(d+u)/2,this.setCenterPoint(d,u)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,r=e+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(a(this.yLabels,function(t,n){if(n>0){var r,i=n*(this.drawingArea/this.steps),a=this.yCenter-i;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)r=this.getPointPosition(o,this.calculateCenterOffset(this.min+n*this.stepValue)),0===o?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=E(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,a-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,a)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var r=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=E(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var i=this.labels.length,o=this.labels.length/2,s=o/2,l=s>t||t>i-s,c=t===s||t===i-s;e.textAlign=0===t?"center":t===o?"center":o>t?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],r.x,r.y)}}}}}),i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){a(r.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),h?n("chartjs",[],function(){return r}):"object"==typeof module&&module.exports&&(module.exports=r),e.Chart=r,r.noConflict=function(){return e.Chart=t,r}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:r,initialize:function(e){var r=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var i=this.calculateBaseWidth(),a=this.calculateX(n)-i/2,o=this.calculateBarWidth(e);return a+o*t+t*r.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*r.barDatasetSpacing;
return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(r),n.each(t.data,function(n,i){r.bars.push(new this.BarClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,r){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,r){n.each(t.bars,e,this,r)},this)},getBarsAtEvent:function(e){for(var t,r=[],i=n.getRelativePosition(e),a=function(e){r.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(i.x,i.y))return n.each(this.datasets,a),r;return r},buildScale:function(e){var t=this,r=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e,r){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:r,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:r,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(r.x,r.y)&&t.push(e)})},this),t},buildScale:function(e){var r=this,i=function(){var e=[];return r.eachPoints(function(t){e.push(t.value)}),e},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(a,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(a)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var r=this.chart.ctx,i=function(e){return null!==e.value},a=function(e,t,r){return n.findNextWhere(t,i,r)||e},o=function(e,t,r){return n.findPreviousWhere(t,i,r)||e};this.scale.draw(t),n.each(this.datasets,function(e){var s=n.where(e.points,i);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(s,function(e,t){var r=t>0&&t<s.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(o(e,s,t),e,a(e,s,t),r),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(s,function(e,t){if(0===t)r.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,s,t);r.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else r.lineTo(e.x,e.y)},this),r.stroke(),this.options.datasetFill&&s.length>0&&(r.lineTo(s[s.length-1].x,this.scale.endPoint),r.lineTo(s[0].x,this.scale.endPoint),r.fillStyle=e.fillColor,r.closePath(),r.fill()),n.each(s,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:r,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],r=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(r.x,r.y)&&t.push(e)},this),t},addData:function(e,t,n){var r=t||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var r={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(r),n.each(t.data,function(n,i){var a;this.scale.animation||(a=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),r.points.push(new this.PointClass({value:n,label:e.labels[i],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:a.x,y:this.options.animation?this.scale.yCenter:a.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=2*Math.PI/this.scale.valuesCount,a=Math.round((r.angle-1.5*Math.PI)/i),o=[];return(a>=this.scale.valuesCount||0>a)&&(a=0),r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){o.push(e.points[a])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var r=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:r.x,y:r.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=e.strokeColor,r.beginPath(),n.each(e.points,function(e,t){0===t?r.moveTo(e.x,e.y):r.lineTo(e.x,e.y)},this),r.closePath(),r.stroke(),r.fillStyle=e.fillColor,r.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),n("util/chartjs-noConflict",["lodash","chartjs"],function(e,t){"use strict";var n={responsive:!0},r=t.noConflict();return e.extend(r.defaults.global,n),r}),n("widgets/GlobalChartsConfiguration",["widgets/SDSWidgets","chartjs","lodash"],function(e,t,n){"use strict";return angular.module("sdsWidgets").constant("globalChartStyleConfiguration",{fillColor:"#337ab7"}).constant("globalBarChartConfiguration",{scaleShowVerticalLines:!1,barValueSpacing:2,tooltipFillColor:"rgba(255,255,255,0.8)",tooltipFontColor:"rgba(0,0,0 ,0.8)",responsive:!0}).factory("ChartsFactory",["globalBarChartConfiguration",function(e){function r(r,i,a,o){var s=angular.element(r).find("canvas")[0],l=s.getContext("2d");o&&n.each(o,function(e,t){s.style[t]=e});var c=n.extend(e,a);return new t(l).Bar(i,c)}return{createBarChart:r}}]).constant("labelsDateFormat","dd. D MMM").constant("labelsDateRangeFormat","D MMM").factory("DateToStringRedefineFactory",["labelsDateFormat",function(e){return{patchToStringMethod:function(t){var n=t.clone();return n.toString=function(){return this.format(e)},n}}}]).factory("DateRangeToStringRedefineFactory",["labelsDateRangeFormat",function(e){return{patchToStringMethod:function(t){var n=t.clone();return n.toString=function(){return this.start.format(e)+" - "+this.end.format(e)},n}}}])}),n("widgets/leadPriceChart/LeadPriceChartWidget",["moment","moment_range","lodash","angular","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","datamodel/ShoppingData","webservices/common/searchStrategyFactories/DaysRangeSearchStrategyFactory"],function(e,t,n,r,i,a,o,s){"use strict";function l(t,r,i,o,l,d,p,f,h){function g(e){return e.clone().add(x,"weeks").subtract(1,"day")}function m(){u={labels:[],datasets:[{fillColor:p.fillColor,data:[]}]};var t=w.clone(),n=g(t);M=e.range(t,n)}function v(){k.navigationState.prevLinkActive=M.start.isAfter(w),k.navigationState.nextLinkActive=M.end.isBefore(O)}function y(t){var r=n.map(t,function(t,n){return{date:e(n,s.prototype.DATE_FORMAT_FOR_KEYS),leadPrice:t.price}}),i=n.sortBy(r,"date"),a=A(i);u.labels=n.pluck(a,"date").map(f.patchToStringMethod),u.datasets[0].data=n.pluck(a,"leadPrice"),c.initialize(u),v()}function A(e){var t=[];return M.by("days",function(r){var i=n.find(e,function(e){return e.date.isSame(r)});i=i||{date:r,leadPrice:null},t.push(i)}),t}function b(e){var t=7*e;t=S(t),M.start.add(t,"days"),M.end=g(M.start),D.getLeadPricesForRange(k.lastSearchCriteria,M).then(y)}function S(e){if(e>0){var t=O.diff(M.end,"days");return e>t?t:e}if(0>e){var n=M.start.diff(w,"days");return n<Math.abs(e)?-n:e}}var D=i.createSearchStrategy(t.activeSearchWebService),w=r.now().startOf("day"),$=w.clone(),x=parseInt(t.numberOfWeeksToDisplay)||2,C=g($),T=e.range(w,C),F={executeSearch:n.partialRight(D.getLeadPricesForRange,T)};a.call(this,{scope:t,searchService:F,newSearchCriteriaEvent:o,searchCriteriaBroadcastingService:l,noResultsFoundBroadcastingService:d});var M,k=this;this.navigationState={},m(),v();var O;return this.processSearchResults=function(e){this.minDateAndPricePair=D.getMinDateAndPricePair(this.lastSearchCriteria),O=D.getMaxAvailableDate(this.lastSearchCriteria),y(e)},this.clearModel=function(){n.remove(u.labels),u.datasets.forEach(function(e){n.remove(e.data)}),c.initialize(u)},this.isAnyDataToDisplayAvailable=function(){var e=n.first(u.datasets).data;return!n.isEmpty(e)},this.chartClicked=function(e){var t=c.getBarsAtEvent(e)[0];if(!n.isUndefined(t)){var r=t.label;h.newSearchCriteria=this.lastSearchCriteria.cloneWithDatesAdjustedToOtherDepartureDate(r),h.originalDataSourceWebService=D,h.broadcast()}},this.onEarlierRequested=function(){b(-x)},this.onLaterRequested=function(){b(x)},this}var c,u;return l.prototype=Object.create(a.prototype),l.prototype.constructor=l,r.module("sdsWidgets").controller("LeadPriceChartCtrl",["$scope","DateService","DaysRangeSearchStrategyFactory","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","NoResultsFoundBroadcastingService","globalChartStyleConfiguration","DateToStringRedefineFactory","DateSelectedBroadcastingService",l]).directive("leadPriceChart",["ChartsFactory",function(e){return{restrict:"AE",scope:{numberOfWeeksToDisplay:"@",activeSearchWebService:"@"},replace:!1,templateUrl:"../widgets/view-templates/widgets/LeadPriceChartWidget.tpl.html",controller:"LeadPriceChartCtrl",controllerAs:"ctrl",link:function(t,n,r,i){c=e.createBarChart(n,u),i.executeLifeSearchOnPredefinedCriteriaIfPresent(r.origin,r.destination,r.departureDate,r.returnDate)}}}])}),n("webservices/informational/LowFareHistoryDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i,a){"use strict";var o=new a;return e.module("sabreDevStudioWebServices").factory("LowFareHistoryDataService",["$q","LowFareHistoryWebService","pointOfSaleCountry","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,r,i,a,s,l){function c(e){var t={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getTripDepartureDateTime().format("YYYY-MM-DD"),returndate:e.getTripReturnDateTime().format("YYYY-MM-DD")};return i.length>0&&n.extend(t,{pointofsalecountry:i}),t}function u(e){var n=e.FareInfo.map(function(e){return{lowestFare:e.LowestFare,lowestNonStopFare:e.LowestNonStopFare,dateOfShopping:t(e.ShopDateTime,t.ISO_8601)}});return{origin:e.OriginLocation,destination:e.DestinationLocation,currency:e.FareInfo[0].CurrencyCode,historicalPrices:n}}return{getLowFareHistory:function(t){return e(function(e,n){var i=o.validate(t);if(i.length>0)return s.reportErrors(i,"Unsupported search criteria"),n(i);var d=c(t);r.get(d).$promise.then(function(t){var n=u(t);e(n)},function(e){a.reportError("Could not get low fare history",t),l.handle(n,e)})})}}}])}),n("widgets/informational/LowFareHistoryWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","webservices/informational/LowFareHistoryDataService"],function(e,t,n,r,i,a){"use strict";function o(e,t,r,i,o,c){function u(){l={labels:[],datasets:[{fillColor:o.fillColor,data:[]}]}}var d={executeSearch:t.getLowFareHistory};return a.call(this,{scope:e,searchService:d,newSearchCriteriaEvent:r,searchCriteriaBroadcastingService:i}),u(),this.processSearchResults=function(e){l.labels=n.pluck(e.historicalPrices,"dateOfShopping").map(c.patchToStringMethod).reverse(),l.datasets[0].data=n.pluck(e.historicalPrices,"lowestFare").reverse(),s.initialize(l)},this.clearModel=function(){n.remove(l.labels),l.datasets.forEach(function(e){n.remove(e.data)}),s.initialize(l)},this.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(l.datasets[0].data)},this}var s,l;return o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.module("sdsWidgets").controller("LowFareHistoryCtrl",["$scope","LowFareHistoryDataService","newSearchCriteriaEvent","SearchCriteriaBroadcastingService","globalChartStyleConfiguration","DateToStringRedefineFactory",o]).directive("lowFareHistory",["ChartsFactory",function(e){return{restrict:"EA",scope:!0,replace:!1,templateUrl:"../widgets/view-templates/widgets/LowFareHistory.tpl.html",controller:"LowFareHistoryCtrl",controllerAs:"ctrl",link:function(t,n,r,i){s=e.createBarChart(n,l),i.executeLifeSearchOnPredefinedCriteriaIfPresent(r.origin,r.destination,r.departureDate,r.returnDate)}}}])}),n("webservices/informational/TravelSeasonalityDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions"],function(e){"use strict";return e.module("sabreDevStudioWebServices").factory("TravelSeasonalityDataService",["$q","TravelSeasonalityWebService","pointOfSaleCountry","ErrorReportingService","businessMessagesErrorHandler",function(e,t,n,r,i){function a(t){return e(function(e,n){var r=t.destination;o(r).then(e,n)})}function o(n){return e(function(e,a){var o={destination:n};t.get(o).$promise.then(function(t){e(t)},function(e){r.reportError("Could not get seasonality information for destination: "+n),i.handle(a,e)})})}return{getDestinationSeasonality:o,getSeasonality:a}}])}),n("widgets/informational/TravelSeasonalityWidget",["moment","moment_range","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","widgets/GlobalChartsConfiguration","webservices/informational/TravelSeasonalityDataService"],function(e,t,n,r,i,a,o){"use strict";
function s(t,n,i,a,s,u){function d(){c={labels:[],datasets:[{fillColor:s.fillColor,data:[]}]}}var p={executeSearch:n.getSeasonality};return o.call(this,{scope:t,searchService:p,newSearchCriteriaEvent:i,searchCriteriaBroadcastingService:a}),d(),this.processSearchResults=function(t){function n(e){return e.range=u.patchToStringMethod(e.range),e.toString=function(){return this.range.toString()+": "+e.value},e}function i(e){switch(e){case"Low":return 1;case"Medium":return 2;case"High":return 3}}c.labels=t.Seasonality.map(function(t){var n=e(t.WeekStartDate,e.ISO_8601),r=e(t.WeekEndDate,e.ISO_8601);return{range:e.range(n,r),value:t.SeasonalityIndicator}}).map(n),c.datasets[0].data=r.pluck(t.Seasonality,"SeasonalityIndicator").map(i),l.initialize(c)},this.clearModel=function(){r.remove(c.labels),c.datasets.forEach(function(e){r.remove(e.data)}),l.initialize(c)},this.isAnyDataToDisplayAvailable=function(){return!r.isEmpty(c.datasets[0].data)},this}var l,c;return s.prototype=Object.create(o.prototype),s.prototype.constructor=s,n.module("sdsWidgets").controller("TravelSeasonalityCtrl",["$scope","TravelSeasonalityDataService","newInspirationalSearchCriteriaEvent","InspirationalSearchCriteriaBroadcastingService","globalChartStyleConfiguration","DateRangeToStringRedefineFactory",s]).directive("travelSeasonality",["ChartsFactory",function(e){return{scope:!0,templateUrl:"../widgets/view-templates/widgets/TravelSeasonalityWidget.tpl.html",controller:"TravelSeasonalityCtrl",controllerAs:"ctrl",link:function(t,n,i,a){function o(e){if(!r.isUndefined(e)){var t={destination:e,getTripDestination:function(){return e}};a.processSearchCriteria(t)}}var s={tooltipTemplate:"<%if (label){%><%=label%><%}%>",tooltipFontSize:16,scaleShowLabels:!1,maintainAspectRatio:!1,scaleFontSize:0},u={};i.chartHeight&&(u["max-height"]=i.chartHeight),l=e.createBarChart(n,c,s,u),o(i.destination)}}}])}),n("widgets/searchForm/TravelDatesFlexibilitySelectionMode",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(t){function n(t){t.forEach(function(t){if(!e.contains(r.allSelectableModes,t))throw new Error('The provided travel dates flexibility mode "'+t+'" is not recognized.')})}var r=this;n(t),this.selectableModes=t,this.activeMode=void 0}return n.prototype.isAnyModeActive=function(){return t.isDefined(this.activeMode)},n.prototype.isSelectableByEarliestDepartureLatestReturn=function(){return e.contains(this.selectableModes,"earliestDepartureLatestReturn.losDays")||e.contains(this.selectableModes,"earliestDepartureLatestReturn.daysOfWeekAtDestination")},n.prototype.isSelectableByAnyOf=function(t){var n=this;return t.split(",").map(e.trim).some(function(t){return e.contains(n.selectableModes,t)})},n.prototype.isSelectableBy=function(t){return e.contains(this.selectableModes,t)},n.prototype.isEarliestDepartureLatestReturnActive=function(){return"earliestDepartureLatestReturn.losDays"===this.activeMode||"earliestDepartureLatestReturn.daysOfWeekAtDestination"===this.activeMode},n.prototype.allSelectableModes=["plusMinusConstantDaysFlexibility","plusMinusVariableDaysFlexibility","earliestDepartureLatestReturn.losDays","earliestDepartureLatestReturn.daysOfWeekAtDestination"],n}),n("datamodel/DaysOfWeekAtDestination",["lodash"],function(e){"use strict";function t(e){this.days=e}var n=7;return t.prototype.hasAnyDaysAtDestinationDefined=function(){return e.contains(this.days,!0)},t.prototype.lengthOfStaySpansOverNextWeek=function(){return e.first(this.days)&&e.last(this.days)},t.prototype.departureAndReturnDaysOfWeekIndexes=function(){var t,n;return this.lengthOfStaySpansOverNextWeek(this.days)?(n=e.indexOf(this.days,!0),t=e.indexOf(this.days,!0,n+1)):(t=e.indexOf(this.days,!0),n=e.lastIndexOf(this.days,!0)),{departureDayOfWeekIndex:t,returnDayOfWeekIndex:n}},t.prototype.lengthOfStay=function(){var e=this.departureAndReturnDaysOfWeekIndexes();return e.returnDayOfWeekIndex>=e.departureDayOfWeekIndex?e.returnDayOfWeekIndex-e.departureDayOfWeekIndex:n-(e.departureDayOfWeekIndex-e.returnDayOfWeekIndex)},t}),n("datamodel/PlusMinusDaysTravelDatesFlexibility",[],function(){"use strict";function e(e){this.departureMinusDays=e.departureMinusDays,this.departurePlusDays=e.departurePlusDays,this.returnMinusDays=e.returnMinusDays,this.returnPlusDays=e.returnPlusDays}return e.prototype.buildConstantDaysFlexibility=function(t){return new e({departureMinusDays:t,departurePlusDays:t,returnMinusDays:t,returnPlusDays:t})},e}),n("datamodel/EarliestDepartureLatestReturnTravelDatesFlexibility",[],function(){"use strict";function e(e){this.earliestDepartureLatestReturnDates={earliestDepartureDateTime:e.earliestDepartureDateTime,latestReturnDateTime:e.latestReturnDateTime},this.minMaxLengthOfStay={minDays:e.minDays,maxDays:e.maxDays},this.departureDaysOfWeek=e.departureDaysOfWeek,this.returnDaysOfWeek=e.returnDaysOfWeek,this.daysOfWeekAtDestination=e.daysOfWeekAtDestination}return e.prototype.getEarliestDepartureDateTime=function(){return this.earliestDepartureLatestReturnDates.earliestDepartureDateTime},e.prototype.getLatestReturnDateTime=function(){return this.earliestDepartureLatestReturnDates.latestReturnDateTime},e}),n("util/DOMManipulationUtils",[],function(){"use strict";function e(e){angular.element(e).hasClass(o)?(angular.element(e).removeClass(o),angular.element(e).addClass(s)):angular.element(e).hasClass(s)&&(angular.element(e).removeClass(s),angular.element(e).addClass(o))}function t(e){angular.element(e).hasClass(s)&&angular.element(e).removeClass(s),angular.element(e).addClass(o)}function n(e){angular.element(e).hasClass(o)&&angular.element(e).removeClass(o),angular.element(e).addClass(s)}function r(t,n,r){t.querySelectorAll(n).on("click",function(){var n=t.querySelectorAll(r);[].forEach.call(n,function(t){e(t)})})}function i(e,r,i,a){e.querySelectorAll(r).on("click",function(){var r=e.querySelectorAll(i);if([].forEach.call(r,function(e){t(e)}),a){var o=e.querySelectorAll(a);[].forEach.call(o,function(e){n(e)})}})}function a(e,r,i,a){e.querySelectorAll(r).on("click",function(){var r=e.querySelectorAll(i);if([].forEach.call(r,function(e){n(e)}),a){var o=e.querySelectorAll(a);[].forEach.call(o,function(e){t(e)})}})}var o="ng-show",s="ng-hide";return{addToggleOnClickHandler:r,addShowOnClickHandler:i,addHideOnClickHandler:a}}),n("widgets/searchForm/SearchFormWidget",["lodash","moment","angular","angular_bootstrap","widgets/SDSWidgets","widgets/searchForm/TravelDatesFlexibilitySelectionMode","datamodel/SearchCriteria","datamodel/SearchCriteriaLeg","datamodel/DaysOfWeekAtDestination","datamodel/PlusMinusDaysTravelDatesFlexibility","datamodel/EarliestDepartureLatestReturnTravelDatesFlexibility","util/DOMManipulationUtils","util/BaseServices"],function(e,t,n,r,i,a,o,s,l,c,u){"use strict";return n.module("sdsWidgets").constant("newSearchCriteriaEvent","newSearchCriteria").controller("SearchFormCtrl",["$scope","WidgetIdGeneratorService","SearchCriteriaBroadcastingService",function(n,r,i){function a(e){switch(e){case"oneWay":var r=new s({origin:n.simpleTrip.Origin.airportCode,destination:n.simpleTrip.Destination.airportCode,departureDateTime:t(n.simpleTrip.DepartureDate)});return[r];case"returnTrip":r=new s({origin:n.simpleTrip.Origin.airportCode,destination:n.simpleTrip.Destination.airportCode});var i=new s({origin:n.simpleTrip.Destination.airportCode,destination:n.simpleTrip.Origin.airportCode});return n.flexDatesMode.isEarliestDepartureLatestReturnActive()||(r.departureDateTime=t(n.simpleTrip.DepartureDate),i.departureDateTime=t(n.simpleTrip.ReturnDate)),[r,i];case"multiDestination":return n.multiDestinationLegs.map(function(e){var n=t(e.DepartureDate);return new s({origin:e.Origin.airportCode,destination:e.Destination.airportCode,departureDateTime:n})});default:throw new Error("Trip type: "+n.tripType+" not recognized")}}n.widgetId=r.next(),n.detailsVisibility={},n.tripType="returnTrip",n.multiDestinationLegs=[{},{},{}],n.simpleTrip={};var d=1;n.generalSearchCriteria={ADTPaxCount:d},n.preferredAirlines={selected:[]},n.lengthsOfStay={selected:{}},n.addNextSearchCriteriaLeg=function(){n.multiDestinationLegs.push({})},n.removeLastSearchCriteriaLeg=function(){n.multiDestinationLegs.pop()},n.createNewSearchCriteria=function(){var e=new o,r=a(n.tripType);if(r.forEach(function(t){e.addLeg(t)}),"earliestDepartureLatestReturn.daysOfWeekAtDestination"===n.flexDatesMode.activeMode){var s=new l(n.daysOfWeekAtDestination.selected);e.earliestDepartureLatestReturnDatesFlexibility=new u({earliestDepartureDateTime:t(n.simpleTrip.EarliestDepartureDate),latestReturnDateTime:t(n.simpleTrip.LatestReturnDate),minDays:s.lengthOfStay(),maxDays:s.lengthOfStay(),daysOfWeekAtDestination:s})}if("earliestDepartureLatestReturn.losDays"===n.flexDatesMode.activeMode&&(e.earliestDepartureLatestReturnDatesFlexibility=new u({earliestDepartureDateTime:t(n.simpleTrip.EarliestDepartureDate),latestReturnDateTime:t(n.simpleTrip.LatestReturnDate),minDays:n.lengthsOfStay.selected.minDays,maxDays:n.lengthsOfStay.selected.maxDays,departureDaysOfWeek:n.departureDaysOfWeek.selected,returnDaysOfWeek:n.returnDaysOfWeek.selected})),"plusMinusConstantDaysFlexibility"===n.flexDatesMode.activeMode){var d=3;e.dateFlexibilityDays=c.prototype.buildConstantDaysFlexibility(d)}else"plusMinusVariableDaysFlexibility"===n.flexDatesMode.activeMode&&(e.dateFlexibilityDays=n.advancedDateFlexibility);e.addPassenger("ADT",n.generalSearchCriteria.ADTPaxCount),n.generalSearchCriteria.DirectFlightsOnly&&(e.maxStops=0),n.generalSearchCriteria.preferredCabin&&(e.preferredCabin=n.generalSearchCriteria.preferredCabin),n.preferredAirlines.selected&&n.preferredAirlines.selected.forEach(function(t){return e.addPreferredAirline(t)}),n.optionsPerDay&&(e.optionsPerDay=n.optionsPerDay),i.searchCriteria=e,i.broadcast()},n.plusMinusConstantDateFlexibilityCheckboxClicked=function(){n.flexDatesMode.activeMode="plusMinusConstantDaysFlexibility"!==n.flexDatesMode.activeMode?"plusMinusConstantDaysFlexibility":void 0},n.isVisible=function(t){return!e.contains(n.fieldsToHide,t)},n.isAnyOfVisible=function(){return[].slice.call(arguments).some(n.isVisible)}}]).directive("searchForm",["DateService","$timeout",function(n,r){return{templateUrl:"../widgets/view-templates/widgets/SearchFormWidget.tpl.html",controller:"SearchFormCtrl",scope:{selectableAirportsForThisPosOnly:"@",selectableAirportsDictionary:"@"},link:function(i,o){function s(){i.fieldsToHide=o.attr("hide-fields")&&o.attr("hide-fields").split(",")||[]}function l(){i.optionsPerDay=parseInt(o.attr("options-per-day"));var e=o.attr("set-checkboxes-as-checked")&&o.attr("set-checkboxes-as-checked").split(",")||[];e.forEach(function(e){i.generalSearchCriteria[e]=!0})}function u(){i.earliestTravelStart=n.now().startOf("day").toDate(),i.simpleTrip.DepartureDate=n.now().startOf("day").add(g,"days").toDate(),i.simpleTrip.EarliestDepartureDate=n.now().startOf("day").add(g,"days").toDate(),i.simpleTrip.ReturnDate=t(i.simpleTrip.DepartureDate).add(h,"days").toDate(),i.simpleTrip.LatestReturnDate=t(i.simpleTrip.EarliestDepartureDate).add(h,"days").toDate()}function d(){var e=!1,n=!1;i.onDepartureDateChange=function(){e||(i.simpleTrip.ReturnDate=t(i.simpleTrip.DepartureDate).add(h,"days").toDate())},i.onEarliestDepartureDateChange=function(){n||(i.simpleTrip.LatestReturnDate=t(i.simpleTrip.EarliestDepartureDate).add(h,"days").toDate())},i.onReturnDateChange=function(){e=!0},i.onLatestReturnDateChange=function(){n=!0}}function p(){var t=o.attr("show-date-flexibility-criteria")&&o.attr("show-date-flexibility-criteria").split(",").map(e.trim)||[];i.flexDatesMode=new a(t);var n=o.attr("preselect-date-flexibility-criterion");if(n&&(i.flexDatesMode.activeMode=n),i.flexDatesMode.isSelectableBy("plusMinusVariableDaysFlexibility")){var r=parseInt(o.attr("plus-minus-days-flexibility-max-days"));e.isFinite(r)&&(i.plusMinusDaysMaxDays=r);var s=3;i.advancedDateFlexibility=new c({departureMinusDays:s,departurePlusDays:s,returnMinusDays:s,returnPlusDays:s})}i.flexDatesMode.isSelectableByEarliestDepartureLatestReturn()&&(i.departureDaysOfWeek={selected:[]},i.returnDaysOfWeek={selected:[]},i.daysOfWeekAtDestination={selected:[]})}function f(){r(function(){i.loadDeferredElements=!0},1)}var h=14,g=14;s(),l(),p(),u(),d(),f()}}}])}),n("widgets/searchForm/SearchFormInspirationalWidget",["moment","angular","lodash","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n,r){"use strict";return t.module("sdsWidgets").directive("searchFormInspirational",["InspirationalSearchCriteriaBroadcastingService","PointOfSaleCountryLookupDataService",function(e,t){var i={countryCode:void 0,countryName:void 0};return{replace:!0,scope:{selectableAirportsForThisPosOnly:"@"},templateUrl:"../widgets/view-templates/widgets/SearchFormInspirationalWidget.tpl.html",link:function(a,o){function s(){c=o.attr("hide-fields")&&o.attr("hide-fields").split(",")||[]}function l(){a.pointOfSaleCountries=[i],t.getPointOfSaleCountries().then(function(e){r.pushAll(a.pointOfSaleCountries,e)})}var c=[];a.searchContext={pointOfSaleCountry:void 0},s(),l(),a.createNewSearchCriteria=function(){e.searchCriteria={destination:a.destination.airportCode,pointOfSaleCountry:a.searchContext.pointOfSaleCountry},e.broadcast()},a.isVisible=function(e){return!n.contains(c,e)}}}}])}),n("widgets/searchForm/AirportNameBestSuggestionComparator",["lodash"],function(e){"use strict";function t(e){this.stringCurrentlySearchedFor=e.toUpperCase();var t=this;return function(e,n){var r=t.getOrderByAirportCodeFullMatch(e,n);if(0!==r)return r;var i=t.getOrderByLabelAtStringStart(e,n);return 0!==i?i:0}}return t.prototype.getOrderByAirportCodeFullMatch=function(e,t){return e.airportCode===this.stringCurrentlySearchedFor?1:t.airportCode===this.stringCurrentlySearchedFor?-1:0},t.prototype.getOrderByLabelAtStringStart=function(t,n){return e.startsWith(t.fullName.toUpperCase(),this.stringCurrentlySearchedFor)?1:e.startsWith(n.fullName.toUpperCase(),this.stringCurrentlySearchedFor)?-1:void 0},t}),n("widgets/searchForm/SearchFormInputControls",["lodash","util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets","widgets/searchForm/AirportNameBestSuggestionComparator"],function(e,t,n,r,i,a,o){"use strict";function s(e){return{hours:Math.floor(e/c),minutes:e%c}}var l=1440,c=60;return r.module("sdsWidgets").directive("selectPreferredCabin",function(){return{replace:!0,scope:{cabinSelected:"="},templateUrl:"../widgets/view-templates/partials/PreferredCabinSelect.tpl.html"}}).directive("selectPreferredAirlines",["AirlineLookupDataService","$timeout",function(e){return{scope:{preferredAirlines:"="},templateUrl:"../widgets/view-templates/partials/PreferredAirlinesSelect.tpl.html",link:function(t){t.preferredAirlinesInternal={selected:[]},e.getAirlineAndAirlineCodesList().then(function(e){t.allAirlines=e}),t.$watchCollection("preferredAirlinesInternal.selected",function(e){t.preferredAirlines.selected=e.map(function(e){return e.AirlineCode})})}}}]).directive("inputDate",[function(){return{replace:!0,scope:{isDisabled:"@",required:"@",dateFormat:"@",minDate:"@",date:"=",onDateChange:"&"},templateUrl:"../widgets/view-templates/partials/InputDate.tpl.html",link:function(e){e.dateFormat=e.dateFormat||"dd-MMM-yyyy",e.openDatePicker=function(t){t.preventDefault(),t.stopPropagation(),e.isDatePickerOpened=!0}}}}]).directive("selectMonths",["$locale",function(t){return{replace:!0,scope:{value:"="},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectMonths.tpl.html",link:function(n){n.allMonths=e.clone(t.DATETIME_FORMATS.MONTH)}}}]).directive("selectDaysOfWeek",["$locale",function(t){return{replace:!0,scope:{daysOfWeek:"="},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectDaysOfWeek.tpl.html",link:function(n){n.daysOfWeekSymbols=e.clone(t.DATETIME_FORMATS.SHORTDAY),n.daysSelected=[!1,!1,!1,!1,!1,!1,!1],n.$watchCollection("daysSelected",function(e,t){e!==t&&(n.daysOfWeek=e)})}}}]).directive("selectLengthsOfStay",[function(){return{replace:!0,scope:{lengthOfStay:"=value"},transclude:!0,templateUrl:"../widgets/view-templates/partials/SelectLengthsOfStay.tpl.html",link:function(t){function n(e){t.lengthOfStay.minDays=e,t.lengthOfStay.maxDays=e}t.predefinedLengthOfStayDays=[1,2,7,14],t.selectedPredefinedLengthOfStayDays={value:e.last(t.predefinedLengthOfStayDays)},t.lengthOfStay=t.lengthOfStay||{minDays:13,maxDays:15},t.$watch("selectedPredefinedLengthOfStayDays.value",function(e){e&&n(e)}),t.$watch("lengthOfStay.minDays",function(e,n){e!==n&&e>t.lengthOfStay.maxDays&&(t.lengthOfStay.maxDays=e)}),t.$watch("lengthOfStay.maxDays",function(e,n){e!==n&&e<t.lengthOfStay.minDays&&(t.lengthOfStay.minDays=e)})}}}]).directive("inputTimeRangePicker",function(){return{restrict:"EA",replace:!0,scope:{timeMin:"=",timeMax:"="},templateUrl:"../widgets/view-templates/partials/InputTimeRangePickerTemplate.tpl.html",link:function(e,t){e.step=t.attr("stepMinutes")||c,e.currentSelection={min:0,max:l},e.minMaxConstraints={min:0,max:l},e.permittedValuesChanged=function(){e.timeMin=s(e.currentSelection.min),e.timeMax=s(e.currentSelection.max)}}}}).directive("inputOnOffToggle",function(){return{restrict:"EA",replace:!0,scope:{selectedValue:"=",switchOnText:"@",switchOffText:"@",ngOnValue:"@",ngOffValue:"@"},templateUrl:"../widgets/view-templates/partials/InputOnOffToggle.tpl.html",link:function(e){e.selectedValue=e.ngOffValue,e.$watch("value",function(t){e.selectedValue=t?e.ngOnValue:e.ngOffValue})}}}).directive("plusMinusDaysSelection",function(){return{replace:!0,transclude:!0,scope:{days:"=",maxDays:"@"},templateUrl:"../widgets/view-templates/partials/PlusMinusDaysSelection.tpl.html",link:function(e){var t=3,n=parseInt(e.maxDays)||t,r=[];r.push("");for(var i=1;n>=i;i++)r.push(i);e.plusMinusDaysList=r,e.days=e.days||e.plusMinusDaysList[0]}}}).filter("minutesInDayToTimeOfDay",function(){return function(e,t){function n(e){return 10>e?"0"+e:e}var r=s(e);if(t){var i=r.hours<12?"am":"pm";return r.hours%12+":"+n(r.minutes)+" "+i}return n(r.hours)+":"+n(r.minutes)}}).filter("airportNameWithIATACode",function(){return function(e){return t.isDefined(e)?e.fullName+" ("+e.airportCode+")":void 0}}).filter("airportNameBestSuggestionComparator",function(){return function(e,t){return e.sort(new o(t)).reverse()}})}),n("widgets/searchForm/InputAirport",["angular","lodash","angular_bootstrap","widgets/SDSWidgets"],function(e,t){"use strict";return e.module("sdsWidgets").directive("inputAirport",["AirportsDictionaryFetchFnFactory",function(e){return{replace:!0,scope:{airport:"=",selectableAirportsForThisPosOnly:"@",selectableAirportsDictionary:"@"},templateUrl:"../widgets/view-templates/partials/AirportInput.tpl.html",link:function(n){var r=e.selectAirportsDictionaryFetchFn(n.selectableAirportsDictionary,n.selectableAirportsForThisPosOnly);r().then(function(e){var r=t.map(e,function(e,t){var n=e.AirportName===e.CityName?e.CityName:e.AirportName+", "+e.CityName;return{fullName:n,airportCode:t}});n.airports=r})}}}])}),n("widgets/ItinerariesList/InputSortBy",["util/LodashExtensions","moment","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n){"use strict";return n.module("sdsWidgets").directive("inputSelectDropdown",function(){return{restrict:"EA",replace:!0,scope:{label:"@",availableSortCriteria:"=",selectedFirstSortCriterion:"=",onSortingCriteriaChanged:"&"},templateUrl:"../widgets/view-templates/partials/InputSortBy.tpl.html",link:function(e,t){function r(t,r,i){var a="button span.SDSDropdownLabelText",o=n.element(t.parentNode.querySelectorAll(a));o.text(r),o.val(r),e.selectedFirstSortCriterion.selected=e.availableSortCriteria[i],e.onSortingCriteriaChanged()}function i(e){return e===a}var a;t[0].querySelector(".dropdown-menu").addEventListener("click",function(e){var t=e.target,n=t.textContent,o=parseInt(t.getAttribute("data-criterion-index"));if(!i(o)){var s=this;r(s,n,o),a=o}},!0)}}})}),n("datamodel/FareForecast",[],function(){"use strict";function e(e){this.recommendation=e}return e}),n("webservices/informational/FareForecastDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","datamodel/FareForecast","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i,a,o){"use strict";var s=new o;return e.module("sabreDevStudioWebServices").factory("FareForecastResponseParser",function(){return{parse:function(e){var t=e.Recommendation;return new a(t)}}}).factory("FareForecastDataService",["$q","FareForecastWebService","FareForecastResponseParser","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,t,n,r,i,a){function o(e){return{origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getFirstLeg().departureDateTime.format("YYYY-MM-DD"),returndate:e.getSecondLeg().departureDateTime.format("YYYY-MM-DD")}}return{getFareForecast:function(l){return e(function(e,c){var u=s.validate(l);if(u.length>0)return i.reportErrors(u,"Unsupported search criteria"),c(u);var d=o(l);t.get(d).$promise.then(function(t){var r=n.parse(t);e(r)},function(e){r.reportError("Could not get fare forecast",l),a.handle(c,e)})})}}}])}),n("widgets/informational/fareForecast/FareForecastWidget",["angular","widgets/SDSWidgets","webservices/informational/FareForecastDataService"],function(e){"use strict";return e.module("sdsWidgets").controller("FareForecastCtrl",["$scope","SearchCriteriaBroadcastingService","newSearchCriteriaEvent","FareForecastDataService",function(e,t,n,r){e.fareForecast={},e.$on(n,function(){var n=t.searchCriteria;r.getFareForecast(n).then(function(t){e.fareForecast.recommendation=t.recommendation})}),e.isAnyDataToDisplayAvailable=function(){return e.fareForecast.recommendation},e.showRecommendation=function(){return"wait"===e.fareForecast.recommendation?e.showWaitRecommendation:"unknown"===e.fareForecast.recommendation?e.showUnknownRecommendation:!0}}]).directive("fareForecast",function(){return{restrict:"A",scope:{showWaitRecommendation:"@",showUnknownRecommendation:"@"},templateUrl:"../widgets/view-templates/widgets/FareForecastWidget.tpl.html",controller:"FareForecastCtrl"}})}),n("widgets/informational/fareRange/HighLowMedianCurrentChartDirective",["angular","widgets/SDSWidgets"],function(e){"use strict";return e.module("sdsWidgets").directive("highLowMedianCurrentChart",function(){return{replace:!0,scope:{highValue:"@",highText:"@",lowValue:"@",lowText:"@",medianValue:"@",medianText:"@",currentValue:"@?",currentText:"@?",valuesFilter:"@?",valuesFilterArguments:"@?"},templateUrl:"../widgets/view-templates/partials/HighLowMedianCurrentChart.tpl.html",link:function(e){e.chartConfig={topLeftOffset:{x:150,y:20},bar:{width:40,height:120},pointerLineLengthOutsideOfBar:10,pointerLineRightMargin:2,legendForCurrentYOffset:10};var t=e.chartConfig.bar.height/(parseFloat(e.highValue)-parseFloat(e.lowValue)),n=(parseFloat(e.medianValue)-parseFloat(e.lowValue))*t,r=e.chartConfig.topLeftOffset.y+e.chartConfig.bar.height-n;if(e.currentValue)var i=(parseFloat(e.currentValue)-parseFloat(e.lowValue))*t,a=e.chartConfig.topLeftOffset.y+e.chartConfig.bar.height-i;e.chartHelpers={getPointerLineXStart:function(){return e.chartConfig.topLeftOffset.x+e.chartConfig.bar.width/2},getPointerLineXEnd:function(){return e.chartConfig.topLeftOffset.x+e.chartConfig.bar.width+e.chartConfig.pointerLineLengthOutsideOfBar},getOppositePointerLineXEnd:function(){return e.chartConfig.topLeftOffset.x-e.chartConfig.pointerLineLengthOutsideOfBar},getMedianNormalizedYPosition:function(){return r},getCurrentNormalizedYPosition:function(){return a},getCurrentLegendYPosition:function(){return a+e.chartConfig.legendForCurrentYOffset}}}}})}),n("webservices/informational/FareRangeDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","webservices/common/validators/TravelInsightEngineSearchCriteriaValidator"],function(e,t,n,r,i,a){"use strict";var o=new a;return e.module("sabreDevStudioWebServices").factory("FareRangeDataService",["$q","FareRangeWebService","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,t,n,r,i){function a(e,t){return{origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,earliestdeparturedate:t.start.format("YYYY-MM-DD"),latestdeparturedate:t.end.format("YYYY-MM-DD"),lengthofstay:e.getLengthOfStay()}}return{getFareRange:function(s,l){return e(function(e,c){var u=o.validate(s);if(u.length>0)return r.reportErrors(u,"Unsupported search criteria"),c(u);var d=a(s,l);t.get(d).$promise.then(function(t){e(t)},function(e){n.reportError("Could not get fare range",s),i.handle(c,e)})})}}}])}),n("widgets/informational/fareRange/FareRangeWidget",["moment","moment_range","util/LodashExtensions","angular","angular_bootstrap","widgets/SDSWidgets","datamodel/SearchCriteria","widgets/informational/fareRange/HighLowMedianCurrentChartDirective","webservices/informational/FareRangeDataService"],function(e,t,n,r,i,a,o){"use strict";return r.module("sdsWidgets").controller("FareRangeCtrl",["$scope","DateService","FareRangeDataService","FareRangeSummaryService","newSearchCriteriaEvent","SearchCriteriaBroadcastingService",function(t,r,i,a,s,l){function c(e){var r=d(e.getTripDepartureDateTime());i.getFareRange(e,r).then(function(i){t.fareRangeSummary=a.getSummary(i,e.getFirstLeg().departureDateTime,e.getSecondLeg().departureDateTime),t.requestedRange=r,t.origin=n.isFunction(e.getFirstLeg)?e.getFirstLeg().origin:e.origin,t.destination=n.isFunction(e.getFirstLeg)?e.getFirstLeg().destination:e.destination},function(){u()})}function u(){t.fareRangeSummary={}}function d(t){var n=t.diff(r.now(),"days"),i=Math.min(n,Math.floor(f/2)),a=f-i-1,o=t.clone().subtract(i,"days").format("YYYY-MM-DD"),s=t.clone().add(a,"days").format("YYYY-MM-DD");return e.range(o,s)}function p(){return t.currentLowestFare<t.fareRangeSummary.fareDataForRequestedDates.MedianFare&&t.currentLowestFareCurrency===t.fareRangeSummary.fareDataForRequestedDates.CurrencyCode}var f=t.rangeDays||15;if(t.fareRangeSummary={},t.origin&&t.destination&&t.departureDate&&t.returnDate){var h=o.prototype.buildRoundTripTravelSearchCriteria(t.origin,t.destination,t.departureDate,t.returnDate);c(h)}t.$on(s,function(){var e=l.searchCriteria;t.currentLowestFare=void 0,t.currentLowestFareCurrency=void 0,c(e)}),t.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(t.fareRangeSummary)},t.showFareRangeToCustomer=function(){return n.has(t.fareRangeSummary,"fareDataForRequestedDates","MedianFare")?n.isUndefined(t.currentLowestFare)?!0:p()?!0:!1:!1}}]).directive("fareRange",function(){return{scope:{origin:"@?",destination:"@?",departureDate:"@?",returnDate:"@?",currentLowestFare:"@?",currentLowestFareCurrency:"@?",rangeDays:"@?"},templateUrl:"../widgets/view-templates/widgets/FareRangeWidget.tpl.html",controller:"FareRangeCtrl"}}).factory("FareRangeSummaryService",function(){function t(t,r,i){return n.find(t,function(t){return e(t.DepartureDateTime,e.ISO_8601).isSame(r)&&e(t.ReturnDateTime,e.ISO_8601).isSame(i)})}return{getSummary:function(e,r,i){var a=t(e.FareData,r,i),o=n.median(n.pluck(e.FareData,"MedianFare")),s=n.min(n.pluck(e.FareData,"MinimumFare")),l=n.max(n.pluck(e.FareData,"MaximumFare")),c=n.uniq(n.pluck(e.FareData,"CurrencyCode"));if(c.length>1)throw new Error("Cannot calculate median and max fares for fares in different currencies");return{overallMedianFare:o,overallMinimumFare:s,overallMaximumFare:l,currency:n.first(c),fareDataForRequestedDates:a}}}})}),n("webservices/fareNabber/FareNabberResourceDefinitions",["lodash","angular","angular_resource","Configuration","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return t.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionResource",["$resource","fareNabberApiURL",function(e,t){return e(t,null,{save:{method:"POST",headers:{"Content-Type":"application/json"},timeout:12e3}})}])}),n("webservices/fareNabber/FareNabberSubscriptionRequestBuilder",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/common/WebServiceSerializationUtils"],function(e,t,n,r,i){"use strict";return e.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionRequestBuilder",["fareNabberRegistrationPCC",function(e){function r(e){return 0!==e.start.hours()||0!==e.start.minutes()||0!==e.end.hours()||0!==e.end.minutes()}function a(e){return e.start.format("HHmm")+e.end.subtract(1,"minutes").format("HHmm")}function o(e){return e&&e.some(n.identity)}function s(n){var r={expiryDate:t(n.subscriptionExpiryDate).format(p),maxPrice:parseFloat(n.maximumAcceptablePrice),priceCurrency:n.maximumAcceptablePriceCurrency,pcc:e,PreferredAirlines:l(n),SubscriptionPassengers:[{passengerType:n.passengerType,numberOfPassengers:parseInt(n.passengerCount)}],SubscriptionLegs:void 0};return n.directFlightsOnly&&(r.nonstop=n.directFlightsOnly),r}function l(e){return e.preferredAirlines.selected}function c(e,n){e.SubscriptionLegs=[{origin:n.origin,destination:n.destination,departureDateFrom:t(n.departureDate).format(p),departureTimeFrom:t(n.departureDate).format(f)},{origin:n.destination,destination:n.origin,departureDateFrom:t(n.returnDate).format(p),departureTimeFrom:t(n.returnDate).format(f)}]}function u(e,t){var n=e.SubscriptionLegs[0],i=e.SubscriptionLegs[1];r(t.outboundTravelTimeRange.departure)&&(n.departureTimeWindow=a(t.outboundTravelTimeRange.departure)),r(t.outboundTravelTimeRange.arrival)&&(n.arrivalTimeWindow=a(t.outboundTravelTimeRange.arrival)),r(t.inboundTravelTimeRange.departure)&&(i.departureTimeWindow=a(t.inboundTravelTimeRange.departure)),r(t.inboundTravelTimeRange.arrival)&&(i.arrivalTimeWindow=a(t.inboundTravelTimeRange.arrival))}function d(e,t){var n=e.SubscriptionLegs[0],r=e.SubscriptionLegs[1];o(t.daysOfTravelPreference.outbound)&&(n.days=i.createWeekDaysString(t.daysOfTravelPreference.outbound)),o(t.daysOfTravelPreference.inbound)&&(r.days=i.createWeekDaysString(t.daysOfTravelPreference.inbound))}var p="YYYY-MM-DD",f="HHmm";return{build:function(e){var t=s(e);return c(t,e),u(t,e),d(t,e),t}}}])}),n("webservices/fareNabber/FareNabberSubscriptionService",["angular","webservices/SabreDevStudioWebServicesModule","webservices/fareNabber/FareNabberResourceDefinitions","webservices/fareNabber/FareNabberSubscriptionRequestBuilder"],function(e){"use strict";return e.module("sabreDevStudioWebServices").factory("FareNabberSubscriptionService",["$q","ErrorReportingService","businessMessagesErrorHandler","FareNabberSubscriptionRequestBuilder","FareNabberSubscriptionResource",function(e,t,n,r,i){return{subscribe:function(n){var a=r.build(n);return e(function(e,n){i.save(a).$promise.then(function(t){e(t)},function(e){t.reportError("Unable to create subscription: "+e.status+": "+e.statusText),n(e)})})}}}])}),n("widgets/searchForm/InputTimeOfDayRange",["moment","moment_range","angular","widgets/SDSWidgets"],function(e,t,n){"use strict";return n.module("sdsWidgets").directive("inputTimeOfDayRange",function(){return{replace:!0,scope:{selectedRange:"=range"},templateUrl:"../widgets/view-templates/partials/InputTimeOfDayRange.tpl.html",link:function(t){var n=e.range(e({hour:0,minute:0}),e({hour:24,minute:0}));t.timeOfDayRanges=[n,e.range(e({hour:0,minute:0}),e({hour:6,minute:0})),e.range(e({hour:6,minute:0}),e({hour:12,minute:0})),e.range(e({hour:12,minute:0}),e({hour:18,minute:0})),e.range(e({hour:18,minute:0}),e({hour:24,minute:0}))],t.selectedRange=t.timeOfDayRanges[0]}}}).filter("timeOfDayRange",function(){function e(e){return 0===e.hour()&&0===e.minute()}return function(t,n){return e(t.start)&&e(t.end)?"No preference":t.start.format(n)+" - "+t.end.format(n)}})}),n("widgets/FareNabberWidget",["angular","moment","widgets/SDSWidgets","webservices/fareNabber/FareNabberSubscriptionService","widgets/searchForm/InputTimeOfDayRange"],function(e,t){"use strict";
return e.module("sdsWidgets").controller("FareNabberFormModalInstanceCtrl",["$scope","$modalInstance",function(e,n){e.defaultOptions={earliestTravelStart:new Date,subscriptionExpiry:t().add(1,"years").toDate(),allowInterline:!0},e.subscriptionExpiryDate=e.defaultOptions.subscriptionExpiry,e.outboundTravelTimeRange={departure:void 0,arrival:void 0},e.inboundTravelTimeRange={departure:void 0,arrival:void 0},e.daysOfTravelPreference={outbound:void 0,inbound:void 0},e.preferredAirlines={selected:[]},e.subscribe=function(){var t=["subscriberEmail","origin","destination","departureDate","returnDate","passengerType","passengerCount","directFlightsOnly","allowInterline","maximumAcceptablePrice","maximumAcceptablePriceCurrency","subscriptionExpiryDate","outboundTravelTimeRange","inboundTravelTimeRange","daysOfTravelPreference","preferredAirlines"],r=t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{});n.close(r)},e.cancel=function(){n.dismiss("cancelled")}}]).directive("fareNabber",["$modal","FareNabberSubscriptionService","resetErrorsEvent","$rootScope",function(e,n,r,i){return{restrict:"A",scope:{origin:"@",destination:"@",predefinedDepartureDate:"@departureDate",predefinedReturnDate:"@returnDate",passengerType:"@",passengerCount:"@",maximumAcceptablePrice:"@",maximumAcceptablePriceCurrency:"@"},templateUrl:"../widgets/view-templates/widgets/FareNabberWidget.tpl.html",transclude:!0,link:function(a,o){function s(){var e=t.ISO_8601;a.departureDate=t(a.predefinedDepartureDate,e).toDate(),a.returnDate=t(a.predefinedReturnDate,e).toDate()}function l(){c().then(u).then(d)}function c(){var t=e.open({animation:!0,templateUrl:"FareNabberSubscriptionFormModal.html.tpl",controller:"FareNabberFormModalInstanceCtrl",size:"lg",scope:a});return t.result}function u(e){return n.subscribe(e)}function d(){e.open({animation:!0,templateUrl:"FareNabberSubscriptionSuccessful.html.tpl",controller:["$scope","$modalInstance",function(e,t){e.ok=function(){t.close()}}],size:"md",scope:a})}s(),o.on("click",function(){l(),i.$broadcast(r)})}}}])}),n("webservices/inspirational/DestinationPricerDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationPricerDataService",["$q","DestinationPricerWebService","pointOfSaleCountry","ErrorReportingService","businessMessagesErrorHandler",function(e,t,r,i,a){function o(e){var t=e.pointOfSaleCountry&&e.pointOfSaleCountry||r.length>0&&r,i={destination:e.destination};return t&&n.extend(i,{pointofsalecountry:t}),i}return{getPricesToDestination:function(n){return e(function(e,r){var s=o(n);t.get(s).$promise.then(function(t){e(t)},function(e){i.reportError("Could not get cheapest flights to destination",n),a.handle(r,e)})})}}}])}),n("widgets/DestinationPricerWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets","widgets/BaseController","webservices/inspirational/DestinationPricerDataService"],function(e,t,n,r,i,a){"use strict";function o(e,t,r,i){var o=this,s={executeSearch:t.getPricesToDestination};return a.call(this,{scope:e,searchService:s,newSearchCriteriaEvent:r,searchCriteriaBroadcastingService:i}),this.saveLastSearchCriteria=function(e){o.lastRequestPosCountryOverride=e.pointOfSaleCountry},this.processSearchResults=function(e){this.modelPricesToDestination=e},this.clearModel=function(){this.modelPricesToDestination={}},this.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(this.modelPricesToDestination.FareInfo)},this.clearModel(),this}return o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.module("sdsWidgets").controller("DestinationPricerCtrl",["$scope","DestinationPricerDataService","newInspirationalSearchCriteriaEvent","InspirationalSearchCriteriaBroadcastingService",o]).directive("destinationPricer",function(){return{restrict:"EA",scope:!0,templateUrl:"../widgets/view-templates/widgets/DestinationPricer.tpl.html",controller:"DestinationPricerCtrl",controllerAs:"ctrl",link:function(e,t,r,i){function a(e,t){if(e){var r={destination:e};t&&n.extend(r,{pointOfSaleCountry:t}),i.processSearchCriteria(r)}}a(r.destination,r.pointOfSaleCountry)}}})}),n("webservices/lookup/TravelThemeLookupDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return e.module("sabreDevStudioWebServices").factory("TravelThemeLookupDataService",["$q","TravelThemeLookupWebService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a){function o(e){return e.Themes.map(function(e){return e.Theme})}return{getTravelThemes:function(){return e(function(e,s){return r.travelThemesList?e(t.clone(r.travelThemesList)):void n.get().$promise.then(function(n){var i=o(n);r.travelThemesList=i,e(t.clone(i))},function(e){i.reportError("Cannot get travel themes dictionary"),a.handle(s,e)})})}}}])}),n("webservices/inspirational/DestinationFinderDataService",["angular","moment","lodash","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions"],function(e,t,n){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationFinderDataService",["$q","dateFormat","DestinationFinderWebService","pointOfSaleCountry","ErrorReportingService","businessMessagesErrorHandler",function(e,t,r,i,a,o){function s(e){var r=n.extend({},e);r.earliestdeparturedate=e.earliestdeparturedate.format(t),r.latestdeparturedate=e.latestdeparturedate.format(t);var a=e.pointOfSaleCountry&&e.pointOfSaleCountry||i.length>0&&i;return a&&(r.pointofsalecountry=a),r}return{getPricesForDestinations:function(t){return e(function(e,n){var i=s(t);r.get(i).$promise.then(function(t){e(t)},function(e){a.reportError("Could not get prices for destinations",t),o.handle(n,e)})})}}}])}),n("webservices/inspirational/DestinationFinderSummaryDataService",["angular","moment","lodash","datamodel/MonetaryAmount","webservices/SabreDevStudioWebServicesModule","webservices/inspirational/DestinationFinderDataService","webservices/lookup/AirportLookupDataService","webservices/common/PromiseUtils"],function(e,t,n,r){"use strict";return e.module("sabreDevStudioWebServices").factory("DestinationFinderSummaryDataService",["$q","DestinationFinderDataService","AirportLookupDataService","PromiseUtils",function(e,t,i,a){function o(r){return e(function(e,i){t.getPricesForDestinations(r).then(function(t){var r=t.FareInfo.filter(function(e){return isFinite(e.LowestFare.Fare)}),a=n.unique(r.map(function(e){return e.DestinationLocation}));s(a).then(function(n){var i={pricesForDestinationsGrouped:l(r,n),originForPricesForDestinations:t.OriginLocation};e(i)},i)},i)})}function s(t){return e(function(n,r){e.mapSettled(t,i.getAirportDataWithAirportCode).then(function(e){a.rejectIfAnyRejected(e,r);var t=e.map(function(e){return e.value}).reduce(function(e,t){return t&&(e[t.airportCode]=t.CityName),e},{});n(t)})})}function l(e,t){return n.chain(e).groupBy(function(e){return t[e.DestinationLocation]||e.DestinationLocation}).pairs().sortBy(function(e){var t=e[1],n=t[0].DestinationRank;return n}).map(c).map(u).value()}function c(e){var t=e[0],n=e[1];return{destinationCity:t,destination:n[0].DestinationLocation,offers:n}}function u(e){var t=n.min(e.offers,function(e){return e.LowestFare.Fare});return n.extend(e,{lowestFare:new r(t.LowestFare.Fare,t.CurrencyCode)})}return{getOffersOrderedSummary:o}}])}),n("util/GeoLocationService",["angular"],function(e){"use strict";return e.module("baseServices").factory("GeoLocationService",["$q","$window","ErrorReportingService",function(e,t,n){function r(){var r=e.defer();return t.navigator.geolocation?(t.navigator.geolocation.getCurrentPosition(function(e){r.resolve(e.coords)},function(e){n.reportError("Error while getting geo location from the browser: "+e),r.reject(e)}),r.promise):(n.reportError("Unable to get geo location from the browser: Geolocation not supported"),r.reject("Geolocation not supported."),r.promise)}return{getCurrentPosition:r}}])}),n("webservices/utility/GeoSearchDataService",["angular","lodash","webservices/SabreDevStudioWebServicesModule","util/GeoLocationService"],function(e,t){"use strict";return e.module("sabreDevStudioWebServices").factory("GeoSearchDataServiceRequestFactory",function(){return{buildRequest:function(e,t,n){var r=50;n=n||r;var i={GeoSearchRQ:{ForPlaces:{OfCategory:[{name:"AIR"}]},Around:{PlaceByLatLong:{latitude:e.latitude,longitude:e.longitude}}}};return t&&(i.GeoSearchRQ.ResultSetConfig={maxResults:t}),n&&(i.GeoSearchRQ.Around.distance=n),i}}}).factory("GeoSearchDataService",["$q","GeoSearchWebService","GeoSearchDataServiceRequestFactory","GeoLocationService","AirportLookupDataService","$localStorage","ErrorReportingService","businessMessagesErrorHandler",function(e,n,r,i,a,o,s,l){function c(e){return e.GeoSearchRS.Found.Place.map(function(e){return e.Id})}function u(t,n){return e(function(e,r){i.getCurrentPosition().then(function(i){f(i,t,n).then(e,r)},r)})}function d(t,n){return e(function(e,r){i.getCurrentPosition().then(function(i){p(i,t,n).then(e,r)},r)})}function p(t,n,r){return e(function(i,o){f(t,n,r).then(function(t){e.mapSettled(t,a.getAirportData).then(function(e){return i(t.filter(function(t,n){return e[n].value}))},o)},o)})}function f(i,a,o){return e(function(e,u){var d=h(i,a,o);if(d)return e(t.clone(d));var p=r.buildRequest(i,a,o);n.sendRequest(p).then(function(t){var n=c(t);g(i,a,o,n),e(n)},function(e){s.reportError("Cannot get closest airports",i),l.handle(u,e)})})}function h(e,n,r){var i=JSON.stringify([t.round(e.latitude,1),t.round(e.longitude,1),n,r]);return o.closestAirportsForGeo&&o.closestAirportsForGeo[i]}function g(e,n,r,i){t.isUndefined(o.closestAirportsForGeo)&&(o.closestAirportsForGeo={});var a=JSON.stringify([t.round(e.latitude,1),t.round(e.longitude,1),n,r]);o.closestAirportsForGeo[a]=i}return{getClosestAirport:t.partial(u,1),getClosestAirports:u,getClosestAirportsForGeo:f,getAPISupportedClosestAirport:t.partial(d,1),getAPISupportedClosestAirports:d,getAPISupportedClosestAirportsForGeo:p}}])}),n("widgets/inspirational/ThemedDestinationFinderWidget",["moment","angular","lodash","widgets/SDSWidgets","widgets/BaseController","webservices/lookup/TravelThemeLookupDataService","webservices/inspirational/DestinationFinderSummaryDataService","util/BaseServices","webservices/utility/GeoSearchDataService","webservices/lookup/AirportLookupDataService"],function(e,t,n){"use strict";return t.module("sdsWidgets").controller("ThemedDestinationFinderWidgetCtrl",["$scope","TravelThemeLookupDataService","DestinationFinderSummaryDataService","GeoSearchDataService","InspirationalSearchCriteriaBroadcastingService","AirportLookupDataService",function(r,i,a,o,s,l){function c(){i.getTravelThemes().then(function(e){p.model.travelThemes=e;var t=n.random(0,p.model.travelThemes.length-1),r=p.model.travelThemes[t];u(r)})}function u(e,t){s.searchCriteria={theme:e},s.broadcast(),d(e,t)}function d(e,t){t=t||n.noop;var r=n.extend(m,{theme:e});a.getOffersOrderedSummary(r).then(function(t){p.model.pricesForDestinationsGrouped=t.pricesForDestinationsGrouped,p.model.originForPricesForDestinations=t.originForPricesForDestinations,p.model.selectedTravelTheme=e}).finally(t)}var p=this,f=[7,13,14,15],h=e().add(2,"months"),g=2,m={origin:void 0,pointofsalecountry:void 0,lengthofstay:f.join(),earliestdeparturedate:h,latestdeparturedate:h.clone().add(g,"days"),topdestinations:50};this.model={travelThemes:[],selectedTravelTheme:void 0,originForPricesForDestinations:void 0,pricesForDestinationsGrouped:[]},this.isAnyDataToDisplayAvailable=function(){return!n.isEmpty(this.model.travelThemes)},this.travelThemeClicked=function(e,n){function r(){a.removeClass("SDSSearchInProgressUponClicked")}var i=e.target||e.srcElement,a=t.element(i);a.addClass("SDSSearchInProgressUponClicked"),u(n,r)},o.getAPISupportedClosestAirport().then(function(e){e="FRA",m.origin=e,l.getAirportData(e).then(function(e){m.pointofsalecountry=e.CountryCode,c()})})}]).directive("themedDestinationFinder",function(){return{scope:!0,replace:!0,templateUrl:"../widgets/view-templates/widgets/ThemedDestinationFinderWidget.tpl.html",controller:"ThemedDestinationFinderWidgetCtrl",controllerAs:"ctrl"}}).filter("theme",function(){return function(e){return n.startCase(e.toLowerCase())}})}),n("util/ItinerariesStatisticsCalculator",["util/LodashExtensions"],function(e){"use strict";function t(e){this.itineraries=e}return t.prototype.getCurrentValuesBounds=function(e){var t=this;return e.map(function(e){return{filterablePropertyName:e.property,statistics:t.getStatistics(e)}})},t.prototype.getStatistics=function(e){var t=e.property;switch(e.type){case"range":return this.getRangeStatistics(t);case"rangeMonetaryAmount":return this.getMonetaryAmountRangeStatistics(t);case"discrete":return this.getDiscreteValuesStatistics(t);case"noop":return void 0;default:throw new Error("Illegal specification of bounds requested: "+e.type)}},t.prototype.getMinValue=function(t,n){return e.chain(this.itineraries).map(e.ary(e.partialRight(e.result,t),1)).min(n).value()},t.prototype.getMaxValue=function(t,n){return e.chain(this.itineraries).map(e.ary(e.partialRight(e.result,t),1)).max(n).value()},t.prototype.getRangeStatistics=function(e){return{min:this.getMinValue(e),max:this.getMaxValue(e)}},t.prototype.getMonetaryAmountRangeStatistics=function(e){return{min:this.getMinValue(e,"amount"),max:this.getMaxValue(e,"amount")}},t.prototype.getDiscreteValuesStatistics=function(t){var n=e.chain(this.itineraries).groupByAndGetCountAndMin(t,"totalFareAmount","totalFareCurrency").map(function(e){return{value:e.value,count:e.count,minPrice:e.min,currency:e.mustBeEqualPropertyValue}}).sortBy("value").value();return{selectableValues:n}},t}),n("webservices/bargainFinderMax/BargainFinderMaxRequestFactory",["lodash","webservices/common/OTARequestFactory"],function(e,t){"use strict";function n(){}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.requestBrandedFares=!1,n.prototype.createOriginDestinationInfos=function(e){var t=this;return e.legs.map(function(n,r){return{DepartureDateTime:n.departureDateTime.format(t.dateTimeFormat),DestinationLocation:{LocationCode:n.destination},OriginLocation:{LocationCode:n.origin},RPH:""+(r+1),TPA_Extensions:t.createLegTPAExtensions(e.preferredAirlines,e.dateFlexibilityDays)}})},n.prototype.createLegTPAExtensions=function(t,n){var r={IncludeVendorPref:t.map(function(e){return{Code:e}})};return n=parseInt(n),n>0&&e.extend(r,{DateFlexibility:{NbrOfDays:n}}),r},n.prototype.getRequestType=function(e,t){return t>0?"AD1":50>=e?"50ITINS":100>=e?"100ITINS":"200ITINS"},n.prototype.createNumTrips=function(e){return{Number:e}},n.prototype.createPriceRequestInformation=function(){return this.requestBrandedFares?{TPA_Extensions:{BrandedFareIndicators:{ReturnCheapestUnbrandedFare:{Ind:!0},SingleBrandedFare:!0,MultipleBrandedFares:!0}}}:t.prototype.createPriceRequestInformation.call(this)},n}),n("webservices/bargainFinderMax/BFMResponseParser",["webservices/common/parsers/OTAResponseParser"],function(e){"use strict";function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.parseItineraryPricingInfo=function(t,n){var r=e.prototype.parseItineraryPricingInfo.call(this,t,n);if(t.PTC_FareBreakdowns.PTC_FareBreakdown.length>1)throw new Error("itineraryPricingInfoResponsePart.PTC_FareBreakdowns.PTC_FareBreakdown.length > 1 not supported. There is one entry in this array for every passenger type requested. Currently only ADT passenger type requested (one type, regardless of number of ADT passengers)");var i=t.PTC_FareBreakdowns.PTC_FareBreakdown[0];r.nonRefundableIndicator=i.Endorsements.NonRefundableIndicator;var a=i.PassengerFare.OBFees;if(r.OBFees=a&&this.parseOBFees(a),i.PassengerFare.TPA_Extensions.BaggageInformationList){var o=this.parseBaggageAllowance(i.PassengerFare.TPA_Extensions.BaggageInformationList);r.setBaggageAllowance(o)}return r},t.prototype.parseBaggageAllowance=function(e){return e.BaggageInformation.map(function(e){var t=e.Allowance,n=e.Segment.map(function(e){return e.Id});return{allowance:t,segmentsAbsoluteIndexes:n}})},t}),n("datamodel/BrandedItinerary",["lodash","util/LodashExtensions","datamodel/Itinerary"],function(e,t,n){"use strict";function r(){n.apply(this,arguments),this.additionalFaresPricingInfos=[]}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.createBrandedItinerary=function(t){return t.additionalFaresPricingInfos=[],e.extend(t,r.prototype),t},r.prototype.addAdditionalFare=function(e){this.additionalFaresPricingInfos.push(e)},r.prototype.hasAnyBrands=function(){return this.additionalFaresPricingInfos.length>0},r.prototype.getBrandsMatchedToFlight=function(e,n){var r=this.itineraryPricingInfo.getBrandMatchedToFlight(e,n),i=this.additionalFaresPricingInfos.filter(function(e){return e.fareReturned}).map(function(t){return t.getBrandMatchedToFlight(e,n)});return[r].concat(i).filter(t.isDefined)},r}),n("datamodel/BrandToSegmentMatchingItem",[],function(){"use strict";function e(e){this.brandName=e,this.matchedSegments=[]}return e.prototype.addMatchedSegment=function(e,t){this.matchedSegments.push({legIndex:e,segmentIndex:t})},e.prototype.hasMatchingForFlight=function(e,t){return this.matchedSegments.some(function(n){return n.legIndex===e&&n.segmentIndex===t})},e.prototype.getBrandMatchedForFlight=function(e,t){return this.hasMatchingForFlight(e,t)?this.brandName:void 0},e}),n("datamodel/BrandedItineraryPricingInfo",["lodash","datamodel/ItineraryPricingInfo"],function(e,t){"use strict";function n(){t.apply(this,arguments),this.brandToSegmentMatchings=[]}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.createBrandedItineraryPricingInfo=function(t){return t.brandToSegmentMatchings=[],e.extend(t,n.prototype),t},n.prototype.fareReturned=!0,n.prototype.getBrandMatchedToFlight=function(t,n){var r=e.find(this.brandToSegmentMatchings,function(e){return e.hasMatchingForFlight(t,n)});return r&&r.brandName},n.prototype.getUniqueBrandsMatchedToAllFlights=function(){return e.isUndefined(this.brandToSegmentMatchings)?[]:e.uniq(this.brandToSegmentMatchings.map(function(e){return e.brandName}))},n.prototype.updateSummaries=function(){t.prototype.updateSummaries.call(this),this.summaries.uniqueBrandsMatchedToAllFlights=this.getUniqueBrandsMatchedToAllFlights()},n}),n("datamodel/BrandedItineraryPricingInfoNotReturnedFare",["datamodel/BrandedItineraryPricingInfo"],function(e){"use strict";function t(){e.apply(this,arguments),this.fareStatus=void 0}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.fareReturned=!1,t.prototype.getTranslatedFareStatus=function(){switch(this.fareStatus){case"A":return"Class is not available";case"O":return"Class is not offered";case"F":return"No fare found or applicable";case"N":return"Unknown status"}},t}),n("webservices/bargainFinderMax/BrandedBFMResponseParser",["lodash","util/LodashExtensions","datamodel/BrandedItinerary","datamodel/BrandToSegmentMatchingItem","datamodel/ItineraryPricingInfo","datamodel/BrandedItineraryPricingInfo","datamodel/BrandedItineraryPricingInfoNotReturnedFare","webservices/bargainFinderMax/BFMResponseParser"],function(e,t,n,r,i,a,o,s){"use strict";function l(){s.apply(this,arguments)}return l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.parseItinerary=function(e){var t=s.prototype.parseItinerary.call(this,e),r=n.prototype.createBrandedItinerary(t);if(e.TPA_Extensions.AdditionalFares){var i=t.getLegsSegmentCounts(),a=this.parseAdditionalFares(e.TPA_Extensions.AdditionalFares,i);a.forEach(function(e){r.addAdditionalFare(e)})}return r},l.prototype.parseAdditionalFares=function(e,t){var n=this;return e.map(function(e){return n.parseItineraryPricingInfo(e.AirItineraryPricingInfo,t)})},l.prototype.parseItineraryPricingInfo=function(e,t){function n(e){var t=new r(e.BrandName);return e.Segment.forEach(function(e){t.addMatchedSegment(e.LegIndex-1,e.FlightIndex-1)}),t}if(e.FareReturned===!1){var i=new o(t);i.fareStatus=e.FareStatus;var l=e.TPA_Extensions.Legs;return i.brandToSegmentMatchings=this.parseBrandToSegmentMatchingForNotReturnedFare(l),i}var c=s.prototype.parseItineraryPricingInfo.call(this,e,t),u=a.prototype.createBrandedItineraryPricingInfo(c),d=e.PTC_FareBreakdowns.PTC_FareBreakdown[0].PassengerFare.TPA_Extensions.FareComponents;return u.brandToSegmentMatchings=d&&d.FareComponent.map(n),u.updateSummaries(),u},l.prototype.parseBrandToSegmentMatchingForNotReturnedFare=function(n){function i(e,t){return t.Segment.filter(function(e){return e.BrandName}).map(function(t){var n=new r(t.BrandName),i=t.Number-1;return n.addMatchedSegment(e,i),n})}var a=e.flatten(n.Leg);return a.reduce(function(e,n){var r=n.Number-1,a=i(r,n);return t.pushAll(e,a)},[])},l}),n("util/NGPromiseUtils",["angular","ngPromiseExtras"],function(e){"use strict";return e.module("NGPromiseUtils",["ngPromiseExtras"]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){function t(e){return a(function(t,a){if(n(e)){var o=r(e);t(o)}else{var s=i(e);a(s)}})}function n(e){return e.some(function(e){return"fulfilled"===e.state})}function r(e){return e.filter(function(e){return"fulfilled"===e.state}).map(function(e){return e.value})}function i(e){return e.filter(function(e){return"rejected"===e.state}).map(function(e){return e.reason})}var a=e;return a.mergePromises=function(e,n,r){return a(function(i,o){a.allSettled(e).then(t).then(function(e){var t=e.reduce(n);i(t)},function(e){var t=e.reduce(r);o(t)})})},a}])}])}),n("webservices/bargainFinderMax/BargainFinderMaxWebServices",["util/LodashExtensions","angular","moment","moment_range","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","webservices/bargainFinderMax/BargainFinderMaxRequestFactory","webservices/bargainFinderMax/BFMResponseParser","webservices/bargainFinderMax/BrandedBFMResponseParser","datamodel/ItinerariesList","util/NGPromiseUtils"],function(e,t,n,r,i,a,o,s,l,c){"use strict";return t.module("sabreDevStudioWebServices").factory("BargainFinderMaxDataService",["$q","BargainFinderMaxWebService","BargainFinderMaxAlternateDateWebService","ErrorReportingService","businessMessagesErrorHandler",function(t,n,r,i,a){function u(e){if(!e.isAlternateDatesRequest())return f(n,e);if(e.isAlternateDatesRequest()){if(e.returnAlternateDatesOnly)return f(r,e);var i=e.cloneWithoutDateFlexibility(),a=f(n,i),o=f(r,e);return t.mergePromises([a,o],h,g)}}function d(e){var r=y.createRequest(e);return t(function(t,o){n.sendRequest(r).then(function(e){var n=A.parse(e);t(n)},function(t){i.reportError("Could not find branded itineraries",e),a.handle(o,t,A.getBusinessErrorMessages)})})}function p(e){if(!e.isAlternateDatesRequest())throw new Error("Calling Alternative Dates service for non alternative dates request");var n=m.createRequest(e);return t(function(t,o){r.sendRequest(n).then(function(e){var n=v.extractAlternateDatesPriceMatrix(e);t(n)},function(t){i.reportError("BFM: Could not find alternate dates prices",e),a.handle(o,t,v.getBusinessErrorMessages)})})}function f(e,n){var r=m.createRequest(n);return t(function(t,o){e.sendRequest(r).then(function(e){var n=v.parse(e);t(n)},function(e){i.reportError("BFM: Could not find itineraries",n),a.handle(o,e,v.getBusinessErrorMessages)})})}function h(e,t){return e=e||new c,e.addItinerariesListWithDedup(t)}function g(t,n){return t=t||[],e.unique(e.pushAll(t,n))}var m=new o,v=new s,y=new o;y.requestBrandedFares=!0;var A=new l;return{getItineraries:u,getBrandedItineraries:d,getAlternateDatesPriceMatrix:p}}])}),n("webservices/instaflights/InstaflightResponseParser",["lodash","webservices/common/parsers/AbstractOTAResponseParser"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.getPricedItinerariesArray=function(e){return e.PricedItineraries},n.prototype.itinerariesFound=function(t){return e.has(t,"PricedItineraries")},n.prototype.getItineraryPricingInfoResponsePart=function(e){return e.AirItineraryPricingInfo},n.prototype.parseEquipment=function(e){return e.Equipment.AirEquipType},n.prototype.parsePricingSource=function(){return"Instaflights"},n}),n("webservices/instaflights/InstaflightsDataService",["angular","lodash","util/LodashExtensions","moment","moment_range","webservices/instaflights/InstaflightResponseParser","webservices/common/parsers/OTAResponseParser","util/BaseServices","webservices/SabreDevStudioWebServicesModule","webservices/WebServicesResourceDefinitions","webservices/instaflights/InstaflightSearchCriteriaValidator"],function(e,t,n,r,i,a,o,s,l,c,u){"use strict";return e.module("sabreDevStudioWebServices").factory("InstaflightsDataService",["$q","InstaFlightsWebService","dateFormat","pointOfSaleCountry","ErrorReportingService","ValidationErrorReportingService","businessMessagesErrorHandler",function(e,r,i,o,s,l,c){function d(e){var r={origin:e.getFirstLeg().origin,destination:e.getFirstLeg().destination,departuredate:e.getFirstLeg().departureDateTime.format(i),returndate:e.getSecondLeg().departureDateTime.format(i)};return e.preferredAirlines.length>0&&t.extend(r,{includedcarriers:e.preferredAirlines.join()}),n.isDefined(e.maxStops)&&t.extend(r,{outboundflightstops:e.maxStops,inboundflightstops:e.maxStops}),e.optionsPerDay&&t.extend(r,{limit:e.optionsPerDay}),e.passengerSpecifications.length>0&&t.extend(r,{passengercount:e.getTotalPassengerCount()}),o.length>0&&t.extend(r,{pointofsalecountry:o}),r}var p=new a,f=new u;return{getItineraries:function(t){return e(function(e,n){var i=f.validate(t);if(i.length>0)return l.reportErrors(i,"Unsupported search criteria"),n(i);var a=d(t);r.get(a).$promise.then(function(t){var n=p.parse(t);e(n)},function(e){s.reportError("Instaflights: Could not find itineraries",t),c.handle(n,e)})})}}}])}),n("datamodel/DiversitySwapper",[],function(){"use strict";return{comparator:function(e,t){var n=(e.duration+t.duration)/(e.totalFareAmountWithCurrency.amount+t.totalFareAmountWithCurrency.currency),r=-(e.duration/n+e.totalFareAmountWithCurrency.amount),i=-(t.duration/n+t.totalFareAmountWithCurrency.amount);return r===i?0:r>i?1:-1}}}),n("util/CommonDisplayDirectives",["moment","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t){"use strict";return t.module("sdsWidgets").directive("airlineLogo",function(){return{templateUrl:"../widgets/view-templates/partials/AirlineLogo.tpl.html",scope:!0,link:function(e,t,n){e.airlineCode=n.airlineCode}}})}),n("widgets/ItinerariesList/ItineraryShortSummary",["angular","angular_bootstrap","widgets/SDSWidgets","util/CommonDisplayDirectives"],function(e){"use strict";return e.module("sdsWidgets").directive("itineraryShortSummary",function(){return{scope:{itinerary:"=itin"},templateUrl:"../widgets/view-templates/widgets/ItineraryShortSummary.tpl.html"}})}),n("widgets/ItinerariesList/ItineraryPricePerStopsPerAirlineSummary",["util/LodashExtensions","angular","angular_bootstrap","widgets/SDSWidgets"],function(e,t){"use strict";return t.module("sdsWidgets").directive("itinerarySummaryPricePerStopsPerAirline",function(){return{scope:{summary:"="},templateUrl:"../widgets/view-templates/widgets/ItineraryPricePerStopsPerAirlineSummary.tpl.html",controller:["$scope",function(t){t.isAnyDataToDisplayAvailable=function(){return e.isDefined(t.summary)}}]}})}),n("widgets/ItinerariesList/ItineraryDirective",["moment","angular","angular_bootstrap","widgets/SDSWidgets","util/DOMManipulationUtils","util/CommonDirectives"],function(e,t,n,r,i){"use strict";return t.module("sdsWidgets").directive("itinerary",function(){return{restrict:"E",scope:{itinerary:"=itin"},templateUrl:"../widgets/view-templates/widgets/Itinerary.tpl.html",link:function(e,t){function n(e){i.addToggleOnClickHandler(e,".SDSItineraryTogglePriceDetails",".SDSItineraryPriceDetails"),i.addShowOnClickHandler(e,".SDSItineraryShowPriceDetails",".SDSItineraryPriceDetails"),i.addHideOnClickHandler(e,".SDSItineraryHidePriceDetails",".SDSItineraryPriceDetails"),i.addToggleOnClickHandler(e,".SDSItineraryToggleFlightDetails",".SDSItineraryFlightDetails"),i.addShowOnClickHandler(e,".SDSItineraryShowFlightDetails",".SDSItineraryFlightDetails",".SDSItineraryHideWhenFlightDetailsShown"),i.addHideOnClickHandler(e,".SDSItineraryHideFlightDetails",".SDSItineraryFlightDetails",".SDSItineraryHideWhenFlightDetailsShown"),i.addToggleOnClickHandler(e,".SDSItineraryToggleBrandDetails",".SDSItineraryBrandDetails")}n(t)}}})}),n("datamodel/ItinerariesListSummaryByAirlineAndNumberOfStops",["lodash"],function(e){"use strict";function t(e){var t=this.calculateSummaries(e);this.getSummaries=function(){return t}}return t.prototype.calculateSummaries=function(t){var n=this.createEmptySummary(),r={},i=this;t.forEach(function(t){var a=t.getFirstLeg().getFirstFlightMarketingAirline();e.isUndefined(r[a])&&(r[a]=i.createEmptySummary());var o=t.totalFareAmountWithCurrency.amount,s=t.totalFareAmountWithCurrency.currency,l=t.getNumberOfStops();i.updateSummary(n,o,s,l),i.updateSummary(r[a],o,s,l)}),n=this.resetInfinityValuesToUndefined(n);var a=this.airlineSummariesToArray(r).map(this.resetInfinityValuesToUndefined).sort(this.airlineSummaryComparator);return a=this.addIsCheapestFlags(a),{airlineSummaries:a,totalSummary:n}},t.prototype.updateSummary=function(e,t,n,r){if(e.totalFareCurrency&&e.totalFareCurrency!==n)throw new Error("Unable to compare two prices when they have different currencies");e.totalFareCurrency=n,0===r?e.nonStopLowestPrice=Math.min(e.nonStopLowestPrice,t):1===r?e.oneStopLowestPrice=Math.min(e.oneStopLowestPrice,t):e.twoAndMoreStopsLowestPrice=Math.min(e.twoAndMoreStopsLowestPrice,t)},t.prototype.createEmptySummary=function(){return{nonStopLowestPrice:1/0,oneStopLowestPrice:1/0,twoAndMoreStopsLowestPrice:1/0}},t.prototype.airlineSummariesToArray=function(t){return e.map(t,function(e,t){return{airline:t,nonStopLowestPrice:e.nonStopLowestPrice,oneStopLowestPrice:e.oneStopLowestPrice,twoAndMoreStopsLowestPrice:e.twoAndMoreStopsLowestPrice}})},t.prototype.resetInfinityValuesToUndefined=function(t){var n={};return e.each(t,function(e,t){n[t]=1/0===e?void 0:e}),n},t.prototype.airlineSummaryComparator=function(t,n){var r=e.min([t.nonStopLowestPrice,t.oneStopLowestPrice,t.twoAndMoreStopsLowestPrice]),i=e.min([n.nonStopLowestPrice,n.oneStopLowestPrice,n.twoAndMoreStopsLowestPrice]);return r===i?0:r>i?1:-1},t.prototype.addIsCheapestFlags=function(t){var n=e.find(t,"nonStopLowestPrice");n&&(n.isCheapestNonStop=!0);var r=e.find(t,"oneStopLowestPrice");r&&(r.isCheapestOneStopLowestPrice=!0);var i=e.find(t,"twoAndMoreStopsLowestPrice");return i&&(i.isCheapestTowOrMoreStopsLowestPrice=!0),t},t}),n("widgets/ItinerariesList/ItinerariesListSortCriteria",["lodash","util/LodashExtensions"],function(e,t){"use strict";function n(){this.availableSortCriteria=this.configureAvailableSortCriteria(),this.sortCriteriaNaturalOrder=this.setSortCriteriaNaturalOrder(),this.currentSortCriteria=this.resetSortCriteria()}return n.prototype.setSortCriteriaInternal=function(e){this.currentSortCriteria=this.sortCriteriaNaturalOrder.reduce(t.pushIfNotContains,[e])},n.prototype.setSortCriteria=function(e){this.setSortCriteriaInternal(e)},n.prototype.resetSortCriteria=function(){this.setSortCriteriaInternal(e.first(this.sortCriteriaNaturalOrder))},n.prototype.getCurrentSortCriteria=function(){return this.currentSortCriteria},n.prototype.sortCriteriaDefinitions={byPriceAsc:{label:"Price (Lowest)",propertyName:"totalFareAmount",reverse:!1},byPriceDesc:{label:"Price (Highest)",propertyName:"totalFareAmount",reverse:!0},byDurationAsc:{label:"Duration (Shortest)",propertyName:"duration",reverse:!1},byDurationDesc:{label:"Duration (Longest)",propertyName:"duration",reverse:!0},byNumberOfStopsAsc:{label:"Stops (Lowest)",propertyName:"sumNumberOfStopsForAllLegs",reverse:!1},byNumberOfStopsDesc:{label:"Stops (Highest)",propertyName:"sumNumberOfStopsForAllLegs",reverse:!0},byDepartureTimeAsc:{label:"Departure (Earliest)",propertyName:"outboundDepartureDateTime",reverse:!1},byDepartureTimeDesc:{label:"Departure (Latest)",propertyName:"outboundDepartureDateTime",reverse:!0},byArrivalTimeAsc:{label:"Arrival (Earliest)",propertyName:"outboundArrivalDateTime",reverse:!1},byArrivalTimeDesc:{label:"Arrival (Latest)",propertyName:"outboundArrivalDateTime",reverse:!0}},n.prototype.configureAvailableSortCriteria=function(){return[this.sortCriteriaDefinitions.byPriceAsc,this.sortCriteriaDefinitions.byPriceDesc,this.sortCriteriaDefinitions.byDurationAsc,this.sortCriteriaDefinitions.byDurationDesc,this.sortCriteriaDefinitions.byNumberOfStopsAsc,this.sortCriteriaDefinitions.byNumberOfStopsDesc,this.sortCriteriaDefinitions.byDepartureTimeAsc,this.sortCriteriaDefinitions.byDepartureTimeDesc,this.sortCriteriaDefinitions.byArrivalTimeAsc,this.sortCriteriaDefinitions.byArrivalTimeDesc]
},n.prototype.setSortCriteriaNaturalOrder=function(){return[this.sortCriteriaDefinitions.byPriceAsc,this.sortCriteriaDefinitions.byDurationAsc,this.sortCriteriaDefinitions.byNumberOfStopsAsc,this.sortCriteriaDefinitions.byDepartureTimeAsc,this.sortCriteriaDefinitions.byArrivalTimeAsc]},n}),n("webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return t.module("sabreDevStudioWebServices").factory("ItinerariesSearchStrategyFactory",["BargainFinderMaxDataService","InstaflightsDataService","AdvancedCalendarDataService",function(e,t,n){return{createSearchStrategy:function(r){switch(r=r||"instaflights"){case"bfm":return{search:function(t,n,r){e.getItineraries(t).then(n,r)}};case"instaflights":return{search:function(e,n,r){t.getItineraries(e).then(n,r)}};case"first-instaflights-on-errors-bfm":return{search:function(n,r,i){t.getItineraries(n).then(r,function(){e.getItineraries(n).then(r,i)})}};case"instaflights-updated-with-bfm":return{search:function(n,r,i,a){var o=function(t){r(t),e.getItineraries(n).then(a)},s=function(){e.getItineraries(n).then(r,i)};t.getItineraries(n).then(o,s)}};case"advancedCalendar":return{search:function(e,t,r){n.getItineraries(e).then(t,r)}};default:throw new Error("unrecognized search web service: "+r)}}}}])}),n("webservices/common/searchStrategyFactories/BrandedItinerariesSearchStrategyFactory",["util/LodashExtensions","angular","webservices/SabreDevStudioWebServicesModule"],function(e,t){"use strict";return t.module("sabreDevStudioWebServices").factory("BrandedItinerariesSearchStrategyFactory",["BargainFinderMaxDataService",function(e){return{createSearchStrategy:function(t){switch(t=t||"bfm"){case"bfm":return{search:function(t,n,r){e.getBrandedItineraries(t).then(n,r)}};default:throw new Error("unrecognized search web service: "+t)}}}}])}),n("widgets/ItinerariesList/ItinerariesListWidget",["lodash","moment","angular","angular_bootstrap","widgets/SDSWidgets","datamodel/ItinerariesList","util/ItinerariesStatisticsCalculator","webservices/bargainFinderMax/BargainFinderMaxWebServices","webservices/instaflights/InstaflightsDataService","datamodel/DiversitySwapper","widgets/ItinerariesList/ItineraryShortSummary","widgets/ItinerariesList/ItineraryPricePerStopsPerAirlineSummary","widgets/ItinerariesList/ItineraryDirective","datamodel/ItinerariesListSummaryByAirlineAndNumberOfStops","datamodel/SearchCriteria","widgets/ItinerariesList/ItinerariesListSortCriteria","webservices/common/searchStrategyFactories/ItinerariesSearchStrategyFactory","webservices/common/searchStrategyFactories/BrandedItinerariesSearchStrategyFactory","util/CommonDisplayDirectives"],function(e,t,n,r,i,a,o,s,l,c,u,d,p,f,h,g){"use strict";return n.module("sdsWidgets").controller("ItineraryListCtrl",["$scope","$filter","ItinerariesSearchStrategyFactory","BrandedItinerariesSearchStrategyFactory","SearchCriteriaBroadcastingService","newSearchCriteriaEvent","StatisticsGatheringRequestsRegistryService","ItineraryStatisticsBroadcastingService","filteringCriteriaChangedEvent","FilteringCriteriaChangedBroadcastingService","DateSelectedBroadcastingService","dateSelectedEvent","BargainFinderMaxDataService","noResultsFoundEvent",function(t,n,r,i,a,s,l,u,d,p,h,m,v,y){function A(){k.resetSortCriteria(),t.selectedFirstCriterion.selected=e.first(k.availableSortCriteria),t.itemsPerPage=20,t.paginationSettings.currentPage=1}function b(){t.bestItinerariesSummary={cheapest:O.getCheapestItinerary(),best:e.last(t.permittedItinerariesSorted.slice().sort(c.comparator)),shortest:O.getShortestItinerary()},t.summaryPerStopsPerAirline=new f(t.permittedItinerariesSorted).getSummaries()}function S(e,t){A(),O=t,w(e)}function D(e,t){A(),O.addItinerariesListWithDedup(t),w(e)}function w(e){P=O.getPermittedItineraries(),t.permittedItinerariesSorted=n("sortByCriteria")(P,k.getCurrentSortCriteria()),F(),b(),M(e)}function $(){O=void 0,t.permittedItinerariesSorted=void 0}function x(){$()}function C(e){return T(e)?e:v}function T(t){return e.isFunction(t.getItineraries)}function F(){var e=l.getAll(),t=new o(O.getPermittedItineraries());u.statistics=t.getCurrentValuesBounds(e),u.broadcast()}function M(e){t.searchCriteriaDepartureAirport=e.getFirstLeg().origin,t.searchCriteriaArrivalAirport=e.getFirstLeg().destination}var k=new g;t.availableSortCriteria=k.availableSortCriteria,t.selectedFirstCriterion={selected:e.first(k.availableSortCriteria)},t.paginationSettings={},A();var O,P;t.onSortingCriteriaChanged=function(){k.setSortCriteria(t.selectedFirstCriterion.selected),t.permittedItinerariesSorted=n("sortByCriteria")(P,k.getCurrentSortCriteria()),t.paginationSettings.currentPage=1};var E=t.requestBrandedItineraries?i:r,L=E.createSearchStrategy(t.activeSearchWebService);t.$on(s,function(){var e=a.searchCriteria;t.processSearchCriteria(e)}),t.processSearchCriteria=function(n){t.activeSearch&&L.search(n,e.partial(S,n),e.partial(x,n),e.partial(D,n))},t.$on(d,function(){var e=p.filteringFunctions;O.applyFilters(e),P=O.getPermittedItineraries(),t.permittedItinerariesSorted=n("sortByCriteria")(P,k.getCurrentSortCriteria()),b(),t.$evalAsync()}),t.$on(m,function(){var n=h.newSearchCriteria,r=C(h.originalDataSourceWebService);r.getItineraries(n).then(e.partial(S,n),e.partial(x,n)),t.$evalAsync()}),t.$on(y,function(){$()}),t.isAnyDataToDisplayAvailable=function(){return e.isUndefined(O)?!1:t.permittedItinerariesSorted.length>0}}]).directive("itineraryList",["$templateCache",function(){return{restrict:"EA",scope:{activeSearch:"@?",activeSearchWebService:"@?",requestBrandedItineraries:"=?"},templateUrl:"../widgets/view-templates/widgets/ItinerariesListWidget.tpl.html",controller:"ItineraryListCtrl",link:function(e,t){function n(){var e=t.attr("origin"),n=t.attr("destination"),r=t.attr("departure-date"),i=t.attr("return-date");return e&&n&&r&&i?h.prototype.buildRoundTripTravelSearchCriteria(e,n,r,i):void 0}var r=n();r&&e.processSearchCriteria(r)}}}]).filter("sortByCriteria",["$filter",function(e){var t=e("orderBy");return function(e,n){var r=n.map(function(e){return(e.reverse?"-":"+")+e.propertyName}),i=t(e,r);return i}}])}),n("widgets/filters/FiltersPanelWidget",["moment","angular","lodash","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n){"use strict";return t.module("sdsWidgets").controller("FiltersPanelCtrl",["$scope","FilteringCriteriaChangedBroadcastingService","resetAllFiltersEvent",function(e,t,r){var i,a={};this.notifyOnStatisticsUpdate=function(){i=!0},this.updateFilteringFunction=function(e,r){a[e]=r,t.filteringFunctions=n.values(a),t.broadcast()},e.resetAllFilters=function(){e.$broadcast(r)},e.isAnyDataToDisplayAvailable=function(){return i}}]).directive("filtersPanel",function(){return{restrict:"EA",replace:!0,scope:!0,templateUrl:"../widgets/view-templates/widgets/FiltersPanelWidget.tpl.html",controller:"FiltersPanelCtrl"}})}),n("widgets/filters/AbstractFilter",["lodash"],function(e){"use strict";function t(t,n,r){this.filterId=t,this.label=n,this.filterablePropertyName=r,this.filterInitialized=!1;var i=e.constant(!0);this.filteringFunction=i}return t.prototype.getFilterablePropertyName=function(){return this.filterablePropertyName},t.prototype.isListenableStatistics=function(e){return this.filterablePropertyName===e.filterablePropertyName},t.prototype.applyStatistics=function(e){this.filterInitialized=!0;var t=this;e.filter(t.isListenableStatistics.bind(t)).forEach(function(e){t.applyListenableStatistics(e.statistics)})},t}),n("widgets/filters/DiscreteValuesFilter",["widgets/filters/AbstractFilter","lodash"],function(e,t){"use strict";function n(){e.apply(this,arguments),this.selectableValues=[]}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.applyListenableStatistics=function(e){this.selectableValues=e.selectableValues.map(function(e){return{propertyValue:e.value,minPrice:e.minPrice,count:e.count,currency:e.currency,permitted:!0}})},n.prototype.getRequestedStatisticsType=function(){return"discrete"},n.prototype.reset=function(){this.selectableValues.forEach(function(e){e.permitted=!0})},n.prototype.rebuildFilteringFunction=function(){var e=t.pluck(t.filter(this.selectableValues,"permitted"),"propertyValue");return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,e),this.filteringFunction},n.prototype.filteringFunctionConstructor=function(e,n){return function(r){var i=t.result(r,e);return-1!==n.indexOf(i)}},n}),n("widgets/filters/DiscreteValuesListFilter",["lodash","widgets/filters/DiscreteValuesFilter"],function(e,t){"use strict";function n(){t.apply(this,arguments)}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return i.every(function(t){return e.contains(n,t)})}},n}),n("widgets/filters/RangeFilter",["moment","lodash","widgets/filters/AbstractFilter"],function(e,t,n){"use strict";function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.applyListenableStatistics=function(e){this.minConstraint=e.min,this.maxConstraint=e.max,this.min=e.min,this.max=e.max},r.prototype.getRequestedStatisticsType=function(){return"range"},r.prototype.reset=function(){this.min=this.minConstraint,this.max=this.maxConstraint},r.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,this.min,this.max),this.filteringFunction},r.prototype.filteringFunctionConstructor=function(e,n,r){return function(i){var a=t.result(i,e);return(t.isUndefined(n)||a>=n)&&(t.isUndefined(r)||r>=a)}},r}),n("widgets/filters/RangeDateTimeFilter",["moment","lodash","widgets/filters/RangeFilter"],function(e,t,n){"use strict";function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.applyListenableStatistics=function(e){var n=1e3*e.min.unix(),r=1e3*e.max.unix();t.isUndefined(this.minConstraint)&&t.isUndefined(this.maxConstraint)&&(this.minConstraint=n,this.maxConstraint=r),this.min=n,this.max=r},r.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,e(this.min),e(this.max)),this.filteringFunction},r.prototype.filteringFunctionConstructor=function(e,n,r){return function(i){var a=t.result(i,e);return a.isBetween(n,r)||a.isSame(n)||a.isSame(r)}},r}),n("widgets/filters/RangeMonetaryAmountFilter",["lodash","moment","widgets/filters/RangeFilter"],function(e,t,n){"use strict";function r(){n.apply(this,arguments)}return r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.getRequestedStatisticsType=function(){return"rangeMonetaryAmount"},r.prototype.applyListenableStatistics=function(t){this.minConstraint=e.assign({},t.min),this.maxConstraint=e.assign({},t.max),this.min=e.assign({},t.min),this.max=e.assign({},t.max)},r.prototype.reset=function(){this.min=e.assign({},this.minConstraint),this.max=e.assign({},this.maxConstraint)},r.prototype.filteringFunctionConstructor=function(t,n,r){return function(i){var a=e.result(i,t);return(e.isUndefined(n.amount)||a.amount>=n.amount)&&(e.isUndefined(r.amount)||a.amount<=r.amount)}},r}),n("widgets/filters/BooleanFilter",["lodash","widgets/filters/AbstractFilter"],function(e,t){"use strict";function n(){t.apply(this,arguments),this.isRequired=!1}return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.applyListenableStatistics=e.noop,n.prototype.getRequestedStatisticsType=function(){return"noop"},n.prototype.reset=function(){this.isRequired=!1},n.prototype.rebuildFilteringFunction=function(){return this.filteringFunction=this.filteringFunctionConstructor(this.filterablePropertyName,this.isRequired),this.filteringFunction},n.prototype.filteringFunctionConstructor=function(t,n){return function(r){var i=e.result(r,t);return!n||i===n}},n}),n("widgets/filters/ValuesFilterDirective",["lodash","moment","angular","angular_bootstrap","widgets/SDSWidgets","widgets/filters/DiscreteValuesFilter","widgets/filters/DiscreteValuesListFilter","widgets/filters/RangeFilter","widgets/filters/RangeDateTimeFilter","widgets/filters/RangeMonetaryAmountFilter","widgets/filters/BooleanFilter"],function(e,t,n,r,i,a,o,s,l,c,u){"use strict";return n.module("sdsWidgets").service("FilterIdGeneratorService",function(){var e=0;return{next:function(){return e++}}}).directive("valuesFilter",["StatisticsGatheringRequestsRegistryService","itinerariesStatisticsUpdateNotification","ItineraryStatisticsBroadcastingService","FilterIdGeneratorService","resetAllFiltersEvent",function(e,t,n,r,i){return{restrict:"E",require:"^filtersPanel",replace:!0,scope:{canFilterOnlyOnMaxValue:"@",canFilterOnlyOnMinValue:"@",filterType:"@type"},templateUrl:"../widgets/view-templates/widgets/ValuesFilterDirective.tpl.html",link:function(d,p,f,h){function g(){var e=r.next();switch(d.filterType){case"discrete":return new a(e,f.label,f.filterablePropertyName);case"discreteList":return new o(e,f.label,f.filterablePropertyName);case"range":return new s(e,f.label,f.filterablePropertyName);case"rangeDateTime":return new l(e,f.label,f.filterablePropertyName);case"rangeMonetaryAmount":return new c(e,f.label,f.filterablePropertyName,f.currencyPropertyName);case"boolean":return new u(e,f.label,f.filterablePropertyName)}}d.filterInstance=g(),d.valuesDisplayFilter=f.valuesDisplayFilter,d.valuesDisplayFilterOptions=f.valuesDisplayFilterOptions,e.register({property:d.filterInstance.getFilterablePropertyName(),type:d.filterInstance.getRequestedStatisticsType()}),d.$on(t,function(){h.notifyOnStatisticsUpdate();var e=n.statistics;d.filterInstance.applyStatistics(e)}),d.permittedValuesChanged=function(){var e=d.filterInstance.rebuildFilteringFunction();h.updateFilteringFunction(d.filterInstance.filterId,e)},d.$on(i,function(){d.filterInstance.reset(),d.permittedValuesChanged()})}}}])}),n("widgets/ErrorDisplayWidget",["moment","angular","lodash","util/LodashExtensions","angular_bootstrap","widgets/SDSWidgets"],function(e,t,n,r){"use strict";return t.module("sdsWidgets").directive("errorDisplay",["errorEvent","resetErrorsEvent","newSearchCriteriaEvent","newInspirationalSearchCriteriaEvent",function(e,t,i,a){return{replace:!0,templateUrl:"../widgets/view-templates/widgets/ErrorDisplayWidget.tpl.html",link:function(o){function s(){o.errors=[],o.lastSearchCriteriaAirports={}}s(),o.$on(e,function(e,t,i){r.pushAll(o.errors,t),i&&(o.lastSearchCriteriaAirports.departureAirport=n.isFunction(i.getFirstLeg)?i.getFirstLeg().origin:i.origin,o.lastSearchCriteriaAirports.arrivalAirport=n.isFunction(i.getFirstLeg)?i.getFirstLeg().destination:i.destination)}),o.$on(i,function(){s()}),o.$on(a,function(){s()}),o.$on(t,s),o.anyErrorPresent=function(){return o.errors&&o.errors.length>0}}}}])}),n("widgets/version",[],function(){return{version:function(){return{version:"1.0.0",revision:["v1.0.0-2-gfbf3fbd-dirty","v1.0.0","2","fbf3fbd","-dirty"],date:"Thu Jan 07 2016 10:44:12"}}}}),n("widgets/AboutWidget",["angular","widgets/SDSWidgets","widgets/version"],function(e,t,n){"use strict";return e.module("sdsWidgets").directive("about",function(){return{replace:!0,templateUrl:"../widgets/view-templates/widgets/AboutWidgetTemplate.tpl.html",link:function(e){e.version=n.version()}}})}),function(e,t,n){"use strict";var r=e.Sizzle||e.jQuery&&e.jQuery.find||t.querySelectorAll,i={},a=null,o=function(){t.styleSheets[0]&&(a=t.styleSheets[0].cssRules!==n?"cssRules":"rules")},s=function(e,t,a,o,s){if(e=d(e),""!=e){var l;o||s||(l=/^([0-9]*.?[0-9]+)(px|em)$/.exec(a),null!=l&&(o=Number(l[1]),o+""!="NaN"&&(s=l[2]))),s&&(r.compile&&r.compile(e),i[e]===n&&(i[e]={}),i[e][t]===n&&(i[e][t]={}),i[e][t][a]=[o,s])}},l=function(e,t){var n,r,i;for(n in e)for(r in e[n])if("string"==typeof e[n][r])s(n,r,e[n][r]);else if("object"==typeof e[n][r])for(i=0;i<e[n][r].length;i++)s(n,r,e[n][r][i]);1==t&&m()},c=function(e){if(e){var t,r,i,a,o,l,c,u,d=/(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\")([0-9]*.?[0-9]+)(px|em)(\'|\")\])(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\")([0-9]*.?[0-9]+)(px|em)(\'|\")\])?/gi,p=e.split(",");for(t=0;t<p.length;t++)for(r=null,o=0,l=0;0==l||null!=i;)i=d.exec(p[t]),null!=i&&(a=Number(i[4]),a+""!="NaN"&&(null==r&&(r=p[t].substring(o,i.index),c=p[t].substring(i.index+i[1].length),c.length>0&&(u=c.indexOf(" "),0!=u&&(u>0&&(c=c.substring(0,u)),c=c.replace(/(\[(min\-width|max\-width|min\-height|max\-height)\~\=(\'|\")([0-9]*.?[0-9]+)(px|em)(\'|\")\])/gi,""),r+=c))),s(r,i[2],i[4]+i[5],a,i[5])),i[7]===n||""==i[7]?(o=i.index+i[1].length,r=null):d.lastIndex=i.index+i[1].length),l++}},u=function(e,t){if(null==a&&o(),e[a]&&e[a].length>0){var n=e.ownerNode||e.owningElement;if(t||null===n.getAttribute("data-elementquery-bypass")&&null===n.getAttribute("data-elementquery-processed")){var r,i,s;for(r=0;r<e[a].length;r++)if(s=e[a][r],s[a]&&s[a].length>0)for(i=0;i<s[a].length;i++)c(s[a][i].selectorText);else c(s.selectorText);n.setAttribute("data-elementquery-processed","")}}},d=function(e){if(null==e)return"";var t="".trim;return t&&!t.call("﻿ ")?t.call(e):(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},p=function(e,t){var n=e.getAttribute(t);return n?(" "+n+" ").replace(/[\t\r\n]/g," "):" "},f=function(e,t,n){if(1===e.nodeType){var r=d(n);if(""!=r){var i=p(e,t);i.indexOf(" "+r+" ")<0&&e.setAttribute(t,d(i+r))}}},h=function(e,t,n){if(1===e.nodeType){var r=d(n);if(""!=r){for(var i=p(e,t),a=!1;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," "),a=!0;a&&e.setAttribute(t,d(i))}}},g=function(){var e;for(e=0;e<t.styleSheets.length;e++)u(t.styleSheets[e]);m()},m=function(){var n,a,o,s,l,c,u;for(n in i)if(l=r.call(t,n),l.length>0)for(a=0;a<l.length;a++){c=l[a];for(o in i[n])for(s in i[n][o])u=i[n][o][s][0],"em"==i[n][o][s][1]&&(u*=e.getEmPixels?getEmPixels(c):16),"min-width"==o&&c.offsetWidth>=u||"max-width"==o&&c.offsetWidth<=u||"min-height"==o&&c.offsetHeight>=u||"max-height"==o&&c.offsetHeight<=u?f(c,o,s):h(c,o,s)}if(!e.addEventListener&&e.attachEvent){var d=t.documentElement.className;t.documentElement.className=" "+d,t.documentElement.className=d}};e.elementQuery=function(e,t){e&&"object"==typeof e?e.cssRules||e.rules?(u(e,!0),1==t&&m()):l(e,t):e||t||m()},e.elementQuery.selectors=function(){var e,t,r,a={};for(e in i)for(t in i[e])for(r in i[e][t])a[e]===n&&(a[e]={}),a[e][t]===n&&(a[e][t]=[]),a[e][t][a[e][t].length]=r;return a},e.addEventListener?(e.addEventListener("resize",m,!1),e.addEventListener("DOMContentLoaded",g,!1),e.addEventListener("load",g,!1)):e.attachEvent&&(e.attachEvent("onresize",m),e.attachEvent("onload",g))}(this,document,void 0),function(e,t){"use strict";var n="!important;",r="position:absolute"+n+"visibility:hidden"+n+"width:1em"+n+"font-size:1em"+n+"padding:0"+n;window.getEmPixels=function(i){var a;i||(i=a=e.createElement("body"),a.style.cssText="font-size:1em"+n,t.insertBefore(a,e.body));var o=e.createElement("i");o.style.cssText=r,i.appendChild(o);var s=o.clientWidth;return a?t.removeChild(a):i.removeChild(o),s}}(document,document.documentElement),n("elementQuery",function(e){return function(){var t;return t||e.elementQuery}}(this)),n("widgets/templateCacheCharger",["angular","widgets/SDSWidgets"],function(e){e.module("sdsWidgets").run(["$templateCache",function(e){"use strict";e.put("../widgets/view-templates/partials/AirlineLogo.tpl.html","<img class=SDSAirlineLogo ng-src=../widgets/img/airlineLogos/{{airlineCode}}.PNG fallback-src=../widgets/img/airlineLogos/generic_airline.PNG>"),e.put("../widgets/view-templates/partials/AirportInput.tpl.html",'<input placeholder="City or airport" autocomplete=off ng-model=airport ng-pattern="/.+object.+/" data-comment-for-ng-pattern="it is not like .*[A-Z]{3}.*, because typeahead filter is passing objects, not strigified objects. Also we want to make customer select from the typeahed suggestions, not type 3 letter codes - the controller expects the object from typeahead" typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length=2 typeahead-wait-ms=50>'),e.put("../widgets/view-templates/partials/ErrorsModal.tpl.html",'<div class=modal-content><div class=modal-header><button type=button class=close aria-label=Close ng-click=ok()><span aria-hidden=true>&times;</span></button><h3 class=modal-title>{{::modalTitle}}</h3></div><div class=modal-body><ul><li ng-repeat="error in errorsList"><span class=text-error>{{error}}</span></li></ul></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=ok()>OK</button></div></div>'),e.put("../widgets/view-templates/partials/HighLowMedianCurrentChart.tpl.html",'<svg class=SDSHighLowMedianCurrentChart xmlns=http://www.w3.org/2000/svg><defs><marker class=SDSHLMCChartMainBarMarkerCircle id=markerCircle markerwidth=8 markerheight=8 refx=5 refy=5><circle cx=5 cy=5 r="2"/></marker></defs><g><rect class=SDSHLMCChartMainBar ng-attr-x={{chartConfig.topLeftOffset.x}} ng-attr-y={{chartConfig.topLeftOffset.y}} ng-attr-width={{chartConfig.bar.width}} ng-attr-height="{{chartConfig.bar.height}}"/><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartConfig.topLeftOffset.y}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartConfig.topLeftOffset.y}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1={{chartConfig.topLeftOffset.y}} ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartConfig.topLeftOffset.y}}><tspan>{{highText}}</tspan><tspan dx=2>{{highValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}" ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}" ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y="{{chartConfig.topLeftOffset.y + chartConfig.bar.height}}"><tspan>{{lowText}}</tspan><tspan dx=2>{{lowValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartHelpers.getMedianNormalizedYPosition()}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartHelpers.getMedianNormalizedYPosition()}}"/><line class=SDSHLMCChartPointerLine ng-attr-x1={{chartHelpers.getPointerLineXStart()}} ng-attr-y1={{chartHelpers.getMedianNormalizedYPosition()}} ng-attr-x2={{chartHelpers.getPointerLineXEnd()}} ng-attr-y2="{{chartHelpers.getMedianNormalizedYPosition()}}"/><text class=SDSHLMCChartDataLegend ng-attr-x="{{chartHelpers.getPointerLineXEnd() + chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartHelpers.getMedianNormalizedYPosition()}}><tspan>{{medianText}}</tspan><tspan dx=2>{{medianValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text><line class=SDSHLMCChartDataLine ng-if=currentValue ng-attr-x1={{chartConfig.topLeftOffset.x}} ng-attr-y1={{chartHelpers.getCurrentNormalizedYPosition()}} ng-attr-x2="{{chartConfig.topLeftOffset.x + chartConfig.bar.width}}" ng-attr-y2="{{chartHelpers.getCurrentNormalizedYPosition()}}"/><path class=SDSHLMCChartPointerLine ng-if=currentValue ng-attr-d="\r\n                M {{chartHelpers.getPointerLineXStart()}} {{chartHelpers.getCurrentNormalizedYPosition()}}\r\n                L {{chartHelpers.getPointerLineXStart() - chartConfig.bar.width * 0.25}} {{chartHelpers.getCurrentLegendYPosition()}}\r\n                L {{chartHelpers.getOppositePointerLineXEnd()}} {{chartHelpers.getCurrentLegendYPosition()}}\r\n              "></path><text class=SDSHLMCChartDataLegend style="text-anchor: end" ng-if=currentValue ng-attr-x="{{chartHelpers.getOppositePointerLineXEnd() - chartConfig.pointerLineRightMargin}}" ng-attr-y={{chartHelpers.getCurrentLegendYPosition()}}><tspan>{{currentText}}</tspan><tspan dx=2>{{currentValue | applyFilter:valuesFilter:valuesFilterArguments}}</tspan></text></g></svg>'),e.put("../widgets/view-templates/partials/InputDate.tpl.html",'<p><input class=form-control autocomplete=off ng-disabled="isDisabled == \'true\'" ng-required=required datepicker-popup={{::dateFormat}} min-date={{::minDate}} is-open=isDatePickerOpened ng-model=date ng-change=onDateChange() ng-click=openDatePicker($event)> <span class=input-group-btn><button type=button ng-disabled="isDisabled == \'true\'" class="btn btn-default" ng-click=openDatePicker($event)><i class="glyphicon glyphicon-calendar"></i></button></span></p>'),e.put("../widgets/view-templates/partials/InputOnOffToggle.tpl.html",'<div class=SDSCheckboxToggled><span class="SDSCheckboxToggledOffText control-label">{{::switchOffText}}</span><div class="checkbox checkbox-slider--b checkbox-slider-info"><label><input type=checkbox class=center-block ng-model=value> <span></span></label></div><span class="SDSCheckboxToggledOnText control-label">{{::switchOnText}}</span></div>'),e.put("../widgets/view-templates/partials/InputSortBy.tpl.html",'<div dropdown><label class=control-label>{{::label}}</label><button type=button class="btn btn-primary btn-sm" dropdown-toggle><span class=SDSDropdownLabelText>{{selectedFirstSortCriterion.selected.label}}</span> <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat="criterion in availableSortCriteria"><a href="" data-criterion-index={{$index}}>{{criterion.label}}</a></li></ul></div>'),e.put("../widgets/view-templates/partials/InputTimeOfDayRange.tpl.html","<select ng-options=\"range as (range | timeOfDayRange:'LT') for range in timeOfDayRanges\" ng-model=selectedRange></select>"),e.put("../widgets/view-templates/partials/InputTimeRangePickerTemplate.tpl.html","<div><div range-slider min=minMaxConstraints.min max=minMaxConstraints.max step={{::step}} model-min=currentSelection.min model-max=currentSelection.max prevent-equal-min-max=true show-values=true attach-handle-values=true filter=minutesInDayToTimeOfDay filter-options=true on-handle-up=permittedValuesChanged()></div></div>"),e.put("../widgets/view-templates/partials/PlusMinusDaysSelection.tpl.html",'<div><label class="control-label input-sm SDSPlusMinusDaysLabel"><ng-transclude></ng-transclude></label><select class=form-control ng-model=days ng-options="day for day in plusMinusDaysList"></select></div>'),e.put("../widgets/view-templates/partials/PreferredAirlinesSelect.tpl.html",'<ui-select multiple class=SDSPreferredAirlineSelect ng-model=preferredAirlinesInternal.selected theme=bootstrap style="width: 100%"><ui-select-match placeholder="type airline name or code">{{$item.AirlineName}}</ui-select-match><ui-select-choices repeat="airline in allAirlines | filter: $select.search | limitTo:30"><span ng-bind-html="airline.AirlineName | highlight: $select.search"></span> <small ng-bind-html="airline.AirlineCode | highlight: $select.search"></small></ui-select-choices></ui-select>'),e.put("../widgets/view-templates/partials/PreferredCabinSelect.tpl.html",'<select name=PreferredCabin class="form-control input-sm" id=SDSSearchForm_PreferredCabin ng-model=cabinSelected><option value="" selected></option><option value=Economy>Economy</option><option value=PremiumEconomy>Premium Economy</option><option value=Business>Business</option><option value=First>First</option></select>'),e.put("../widgets/view-templates/partials/SelectDaysOfWeek.tpl.html",'<div><ng-transclude></ng-transclude><div class="btn-group btn-group-sm"><label class="btn btn-primary" ng-repeat="day in daysOfWeekSymbols track by $index" ng-model=daysSelected[$index] btn-checkbox>{{day}}</label></div></div>'),e.put("../widgets/view-templates/partials/SelectLengthsOfStay.tpl.html",'<div><span class="input-sm control-label"><ng-transclude></ng-transclude></span><div class="btn-group btn-group-sm"><label class="btn btn-primary" ng-repeat="los in predefinedLengthOfStayDays" ng-model=selectedPredefinedLengthOfStayDays.value btn-radio={{los}}>{{los | humanizeDurationDays}}</label></div><div><div class="input-sm control-label">Set other duration values</div><ul class="list-unstyled list-inline"><li><label for=SDSDurationMin class="input-sm control-label">Min days</label><input type=number class="form-control SDS-form-inline-exclude input-sm SDSNumberInput2Digits" min=1 max=60 id=SDSDurationMin ng-model=lengthOfStay.minDays ng-value=lengthOfStay.minDays></li><li><label for=SDSDurationMax class="input-sm control-label">Max days</label><input type=number class="form-control SDS-form-inline-exclude input-sm SDSNumberInput2Digits" min=1 max=60 id=SDSDurationMax ng-model=lengthOfStay.maxDays ng-value=lengthOfStay.maxDays></li></ul></div></div>'),e.put("../widgets/view-templates/partials/SelectMonths.tpl.html",'<div><ng-transclude></ng-transclude><div class=checkbox ng-repeat="month in allMonths track by $index"><label class="control-label input-sm"><input class=form-control type=checkbox value=$index> {{month}}</label></div></div>'),e.put("../widgets/view-templates/widgets/AboutWidgetTemplate.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement"><div class="panel-heading text-center"><h4 class=panel-title>About</h4></div><div class=panel-body><div class=SDS-row><div class=SDS-col-element-md-8><h4>Build information</h4><dl class=dl-horizontal><dt ng-repeat-start="(key, value) in version">{{key}}</dt><dd ng-repeat-end="(key, value) in version">{{value}}</dd></dl></div></div></div></div>'),e.put("../widgets/view-templates/widgets/AlternateDatesMatrix.tpl.html",'<div class="SDSAlternateDatesMatrixWidget panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Alternate Dates Lead Fares</h4></div><div class=panel-body><div class=table-responsive><table class="SDSTable table table-bordered table-condensed" ng-if=isRoundTripTravel><caption>Cheapest options for nearby departure and return dates for <em>{{departureAirport | cityAndAirportFullName}}</em> to <em>{{arrivalAirport| cityAndAirportFullName}}</em></caption><thead><tr class=text-info><th></th><th ng-repeat="returnDate in requestedReturnDates">{{returnDate.format(\'ddd D MMM\')}}</th></tr></thead><tbody><tr ng-repeat="requestedDepartureDate in requestedDepartureDates"><th class=text-info>{{requestedDepartureDate.format(\'ddd D MMM\')}}</th><td ng-repeat="requestedReturnDate in requestedReturnDates" ng-init="leadFareForDates = altDatesPriceMatrix.getLeadFareForTravelDates(requestedDepartureDate, requestedReturnDate)" class=SDSCalendarCell ng-class="{\'bg-info\': isCentralRequestedDate(requestedDepartureDate, requestedReturnDate)}"><div class="SDSCalendarCellPrice SDSPriceTier-{{day.priceTier}}">{{leadFareForDates.price | currency:leadFareForDates.currency}}</div></td></tr></tbody></table></div><div class=table-responsive><table class="SDSTable table table-bordered table-condensed" ng-if=isOneWayTravel><caption>Cheapest options for nearby departure dates for <em>{{departureAirport | cityAndAirportFullName}}</em> to <em>{{arrivalAirport| cityAndAirportFullName}}</em></caption><thead><tr class=text-info><th ng-repeat="requestedDepartureDate in requestedDepartureDates">{{requestedDepartureDate.format(\'ddd D MMM\')}}</th></tr></thead><tbody><tr><td ng-repeat="requestedDepartureDate in requestedDepartureDates" ng-init="leadFareForDate = altDatesPriceMatrix.getLeadFareForTravelDate(requestedDepartureDate)" class=SDSCalendarCell ng-class="{\'bg-info\': isCentralRequestedDate(requestedDepartureDate)}"><div class="SDSCalendarCellPrice SDSPriceTier-{{day.priceTier}}">{{leadFareForDate.price | currency:leadFareForDate.currency}}</div></td></tr></tbody></table></div></div></div>'),e.put("../widgets/view-templates/widgets/CalendarWidgetNavigable.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices Calendar</h4></div><div class=panel-body><div class=SDS-row><div ng-class="{\'SDS-col-element-xxl-6\':numberOfMonthsShownAtOnce == 2, \'SDS-col-element-xxl-4\':numberOfMonthsShownAtOnce == 3}" ng-repeat="month in calendar.months | startFrom: (paginationSettings.currentPage - 1) * numberOfMonthsShownAtOnce | limitTo: numberOfMonthsShownAtOnce" disable=month.noPricesFound><h4 class=text-center>{{month.monthStartDate.format(\'MMMM\')}}</h4><ng-include src="\'../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></div></div></div><div class=panel-footer ng-if="numberOfMonths > 1"><pager total-items=calendar.months.length ng-model=paginationSettings.currentPage items-per-page=numberOfMonthsShownAtOnce></pager></div></div></div>'),e.put("../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html",'<table class="SDSTable table table-condensed table-bordered"><thead><tr class=text-info><th ng-repeat="dayOfWeekName in calendar.dayOfWeekNames">{{dayOfWeekName}}</th></tr></thead><tbody><tr ng-repeat="week in month.weeks"><td highlight-length-of-stay length-of-stay-days={{calendar.getLastSearchCriteria().getLengthOfStay()}} highlight-class=bg-info ng-repeat="day in week.days" class=SDSCalendarCell ng-class="{\'SDSCalendarPrevOrNextMonthDay\': day.isPrevOrNextMonthDay}" ng-click=cellClicked(day.day)><div class=SDSCalendarCellContent ng-hide="day.isPrevOrNextMonthDay && doNotShowPrevNextMonthDays"><div class="SDSCalendarDateNumber pull-right">{{day.day.format(\'D\')}}</div><div class=clearfix></div><div ng-show=day.price class="SDSCalendarCellPrice text-center SDSPriceTier-{{day.priceTier}}">{{day.price | currency:day.currency}}</div></div></td></tr></tbody></table>'),e.put("../widgets/view-templates/widgets/CalendarWidgetTabs.tpl.html",'<div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices Calendar</h4></div><div class=panel-body><div ng-if="numberOfMonths > 1"><tabset type=pills><tab ng-repeat="month in calendar.months" heading="{{month.monthStartDate.format(\'MMM\')}} {{month.monthLeadPrice | currency:month.monthLeadPriceCurrency}}" disable=month.noPricesFound active=monthsDisplayStates[month.monthStartDate]><ng-include src="\'../widgets/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></tab></tabset></div><div ng-if="numberOfMonths == 1" ng-init="month = calendar.months[0]"><h5 class=text-center>{{month.monthStartDate.format(\'MMM YYYY\')}} from {{month.monthLeadPrice | currency:month.monthLeadPriceCurrency}}</h5><ng-include src="\'../src/view-templates/widgets/CalendarWidgetOneMonth.tpl.html\'"></ng-include></div></div></div>'),e.put("../widgets/view-templates/widgets/DestinationPricer.tpl.html",'<div class="SDSWidget SDSResponsiveElement SDSInspirationalList"><div class="panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Cheapest Flights To Destination</h4></div><div class=panel-body><ul class="list-unstyled SDSTopLevelList"><div class=SDS-row><li ng-repeat="offerItem in ctrl.modelPricesToDestination.FareInfo"><div class=SDS-col-element-lg-6><div class=SDSInspirationalTile><div class=SDS-row><div class=SDS-col-element-xs-4><ul class="list-inline list-unstyled"><li><div ng-repeat="airline in offerItem.LowestFare.AirlineCodes" ng-if=$first><airline-logo airline-code={{airline}}></airline-logo><strong>{{airline | airlineFullName}}</strong></div></li></ul></div><div class=SDS-col-element-xs-5><ul class="list-inline list-unstyled"><li><div><strong>{{offerItem.OriginLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</strong></div></li><li><span class="glyphicon glyphicon-arrow-right" aria-hidden=true></span></li><li><strong>{{ctrl.modelPricesToDestination.DestinationLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</strong></li></ul></div><div class=SDS-col-element-xs-3><div class=pull-right><small class=SDSPaddingSmall>from</small><strong>{{offerItem.LowestFare.Fare | currency:offerItem.CurrencyCode}}</strong></div><div class=clearfix></div><a class=pull-right href="" popover-template="\'DestinationPricerDetailsPopover\'" popover-trigger=mouseenter popover-placement=bottom popover-append-to-body=true>Details</a></div></div></div></div></li></div></ul></div></div></div><script type=text/ng-template id=DestinationPricerDetailsPopover><ul class="list-inline list-unstyled">\r\n        <li>\r\n            <small>Departure {{offerItem.DepartureDateTime | makeMomentAndFormat:\'ddd, DD MMM\'}} from {{offerItem.OriginLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</small><!-- format: Sun, 05 Dec-->\r\n        </li>\r\n        <li>\r\n            <small>Return {{offerItem.ReturnDateTime | makeMomentAndFormat:\'ddd, DD MMM\'}} from {{ctrl.modelPricesToDestination.DestinationLocation | cityAndAirportFullName:ctrl.lastRequestPosCountryOverride}}</small><!-- format: Sun, 05 Dec-->\r\n        </li>\r\n    </ul></script>'),e.put("../widgets/view-templates/widgets/ErrorDisplayWidget.tpl.html",'<div class="panel panel-default" ng-if=anyErrorPresent()><div class=panel-heading><h4 class=panel-title>Service errors</h4></div><div class=panel-body>No results found for {{lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}} to {{lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}<div class="well well-sm"><ul><li ng-repeat="error in errors track by $index"><p class=text-danger>{{error}}</p></li></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/FareForecastWidget.tpl.html","<div class=\"SDSFareForecastWidget panel panel-default\" ng-if=\"isAnyDataToDisplayAvailable() && showRecommendation()\"><div class=panel-body><strong>Advice:</strong> <strong ng-class=\"{SDSRecommendationBuy: fareForecast.recommendation=='buy', SDSRecommendationWait: fareForecast.recommendation=='wait', SDSRecommendationUnknown: fareForecast.recommendation=='unknown'}\">{{fareForecast.recommendation | uppercase}}</strong><div ng-switch=fareForecast.recommendation><p ng-switch-when=buy>Prices may rise within 7 days</p><p ng-switch-when=wait>Prices may drop within 7 days</p><p ng-switch-when=unknown>Cannot predict prices within 7 days</p></div></div></div>"),e.put("../widgets/view-templates/widgets/FareNabberWidget.tpl.html",'<div ng-transclude><script type=text/ng-template id=FareNabberSubscriptionFormModal.html.tpl><div class="SDSWidget SDSFareNabberWidget">\r\n\r\n            <div class="modal-header">\r\n                <h3 class="modal-title">Subscribe to price alerts</h3>\r\n            </div>\r\n\r\n            <form class="form-horizontal" name="fareNabberForm" novalidate ng-submit="fareNabberForm.$valid && subscribe()">\r\n                <div class="modal-body">\r\n\r\n                    <div class="form-group" ng-class="{\'has-error\':fareNabberForm.$submitted && fareNabberForm.subscriberEmail.$invalid}">\r\n                        <label for="SDSFareNabberForm_SubscriberEmail" class="input-sm col-sm-3 control-label">Email</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="email" id="SDSFareNabberForm_SubscriberEmail" name="subscriberEmail" class="form-control input-sm col-sm-10" placeholder="Type your email" autofocus required ng-model="subscriberEmail">\r\n                            <div class="help-block" ng-show="fareNabberForm.$submitted && fareNabberForm.subscriberEmail.$invalid">\r\n                                <small ng-show="fareNabberForm.subscriberEmail.$error.required">Input your email</small>\r\n                                <small ng-show="fareNabberForm.subscriberEmail.$error.email">Invalid email</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_Origin" class="input-sm col-sm-3 control-label">Trip departure airport or city</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control input-sm" id="SDSFareNabberForm_Origin" name="origin" placeholder="Trip departure airport or city" required autocomplete="off" ng-model="origin">\r\n                            <!--<input-airport class="form-control input-sm" id="SDSFareNabberForm_Origin" name="origin" required airport="origin" preselected-airport="origin"></input-airport>-->\r\n                            <!--<input type="text" id="SDSFareNabberForm_Origin" name="origin" class="form-control input-sm" placeholder="Trip departure airport or city" required autocomplete="off" ng-model="origin"-->\r\n                            <!--typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length="2" typeahead-wait-ms="50">-->\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_Destination" class="input-sm col-sm-3 control-label">Trip arrival airport or city</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="text" class="form-control input-sm" id="SDSFareNabberForm_Destination" name="destination" placeholder="Trip arrival airport or city" required autocomplete="off" ng-model="destination">\r\n                            <!--<input type="text" id="SDSFareNabberForm_Destination" name="destination" class="form-control input-sm" placeholder="Trip arrival airport or city" required autocomplete="off" ng-model="destination"-->\r\n                               <!--typeahead="airport as (airport | airportNameWithIATACode) for airport in airports | filter:$viewValue | airportNameBestSuggestionComparator:$viewValue | limitTo:30" typeahead-min-length="2" typeahead-wait-ms="50">-->\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_PreferredAirlines" class="input-sm col-sm-3 control-label">Preferred Airlines</label>\r\n                        <div class="col-sm-9">\r\n                            <!-- do not style select-preferred-airlines with classes input-sm form-control and so on. the css for ui-select already takes care of bootstrap style, adding these classes additionally only messes the style-->\r\n                            <select-preferred-airlines id="SDSFareNabberForm_PreferredAirlines" name="PreferredAirlines" preferred-airlines="preferredAirlines"></select-preferred-airlines>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_DepartureDate" class="input-sm col-sm-3 control-label">Leaving on</label>\r\n                        <div class="col-sm-3">\r\n                            <input-date class="input-group" id="SDSFareNabberForm_DepartureDate" name="departureDate" class="form-control input-sm" required="true" date="departureDate" min-date="{{::defaultOptions.earliestTravelStart}}"></input-date>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_DepartureDaysOfWeek" class="input-sm control-label col-sm-3">Departure days of week</label>\r\n                        <select-days-of-week class="col-sm-9" id="SDSFareNabberForm_DepartureDaysOfWeek" days-of-week="daysOfTravelPreference.outbound"></select-days-of-week>\r\n                    </div>\r\n\r\n                    <div class="col-lg-9 col-lg-offset-3">\r\n                        <div>\r\n                            <a href="" ng-click="showOutboundFlightsTimeOfDaySelection = !showOutboundFlightsTimeOfDaySelection">Set specific hours for departure flights</a>\r\n                        </div>\r\n                        <div class="well well-lg form-group col-sm-6" collapse="!showOutboundFlightsTimeOfDaySelection">\r\n                            <label class="input-sm control-label">\r\n                                Flight departure time of day\r\n                            </label>\r\n                            <div>\r\n                                <input-time-of-day-range class="form-control input-sm" range="outboundTravelTimeRange.departure"></input-time-of-day-range>\r\n                            </div>\r\n                            <label class="input-sm control-label">\r\n                                Flight arrival time of day\r\n                            </label>\r\n                            <div>\r\n                                <input-time-of-day-range class="form-control input-sm" range="outboundTravelTimeRange.arrival"></input-time-of-day-range>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row SDSBottomBuffer-xs"></div>\r\n                    </div>\r\n\r\n                    <div ng-if="returnDate">\r\n                        <div class="form-group">\r\n                            <label for="SDSFareNabberForm_ReturnDate" class="input-sm col-sm-3 control-label">Returning on</label>\r\n                            <div class="col-sm-3">\r\n                                <input-date class="input-group" id="SDSFareNabberForm_ReturnDate" name="returnDate" class="form-control input-sm"\r\n                                            required="(returnDate)? true: false" date="returnDate" min-date="{{::defaultOptions.earliestTravelStart}}"></input-date>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="form-group">\r\n                            <label for="SDSFareNabberForm_ReturnDaysOfWeek" class="input-sm control-label col-sm-3">Return days of week</label>\r\n                            <select-days-of-week class="col-sm-9"id="SDSFareNabberForm_ReturnDaysOfWeek" days-of-week="daysOfTravelPreference.inbound"></select-days-of-week>\r\n                        </div>\r\n\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div>\r\n                                <a href="" ng-click="showInboundFlightsTimeOfDaySelection = !showInboundFlightsTimeOfDaySelection">Set specific hours for return flights</a>\r\n                            </div>\r\n                            <div class="well well-lg form-group col-sm-6" collapse="!showInboundFlightsTimeOfDaySelection">\r\n                                <label class="input-sm control-label">\r\n                                    Flight departure time of day\r\n                                </label>\r\n                                <div>\r\n                                    <input-time-of-day-range class="form-control input-sm" range="inboundTravelTimeRange.departure"></input-time-of-day-range>\r\n                                </div>\r\n                                <label class="input-sm control-label">\r\n                                    Flight arrival time of day\r\n                                </label>\r\n                                <div>\r\n                                    <input-time-of-day-range class="form-control input-sm" range="inboundTravelTimeRange.arrival"></input-time-of-day-range>\r\n                                </div>\r\n                            </div>\r\n                            <div class="row SDSBottomBuffer-xs"></div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div class="checkbox">\r\n                                <label for="SDSFareNabberForm_DirectFlightsOnly">\r\n                                    <input type="checkbox" name="DirectFlightsOnly" id="SDSFareNabberForm_DirectFlightsOnly" ng-model="directFlightsOnly">\r\n                                    Direct flights only\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <div class="col-lg-9 col-lg-offset-3">\r\n                            <div class="checkbox">\r\n                                <label for="SDSFareNabberForm_AllowInterline">\r\n                                    <input type="checkbox" name="AllowInterline" id="SDSFareNabberForm_AllowInterline" ng-model="defaultOptions.allowInterline">\r\n                                    Allow multiple airline itineraries\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_PaxNumber" class="input-sm control-label col-sm-3">Number of {{passengerType | passengerType | lowercase}} passengers</label>\r\n                        <div class="col-sm-9">\r\n                            <input type="number" id="SDSFareNabberForm_PaxNumber" name="passengerCount" value="1" min="1" max="9" required class="form-control input-sm SDSPaxNbrInput" string-to-number ng-model="passengerCount">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_MaximumAcceptablePrice" class="input-sm col-sm-3 control-label">Maximum acceptable price</label>\r\n\r\n                        <div class="col-sm-3">\r\n                            <input type="number" step="50" id="SDSFareNabberForm_MaximumAcceptablePrice" name="maximumAcceptablePrice" class="form-control input-sm" placeholder="Max price" min="0" required string-to-number ng-model="maximumAcceptablePrice">\r\n                        </div>\r\n                        <div class="col-sm-3">\r\n                                <input type="text" id="SDSFareNabberForm_MaximumAcceptablePriceCurrency" name="maximumAcceptablePriceCurrency" class="form-control input-sm" placeholder="currency" ng-value="USD" required ng-model="maximumAcceptablePriceCurrency" readonly>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="form-group">\r\n                        <label for="SDSFareNabberForm_SubscriptionExpiryDate" class="input-sm col-sm-3 control-label">Expire subscription after <em>(optional)</em></label>\r\n                        <div class="col-sm-3">\r\n                            <input-date class="input-group" id="SDSFareNabberForm_SubscriptionExpiryDate" name="subscriptionExpiryDate" class="form-control input-sm" date="subscriptionExpiryDate"></input-date>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div class="modal-footer">\r\n                    <button type="submit" class="btn btn-primary">Subscribe</button>\r\n                    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\r\n                </div>\r\n            </form>\r\n\r\n        </div></script><script type=text/ng-template id=FareNabberSubscriptionSuccessful.html.tpl><div class="modal-body">\r\n            <span class="text-success center-block">You subscribed successfully to the price alert. Thank you!</span>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button class="btn btn-primary center-block" ng-click="ok()">OK</button>\r\n        </div></script></div>'),e.put("../widgets/view-templates/widgets/FareRangeWidget.tpl.html",'<div class="SDSFareRangeWidget panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Fare Range</h4></div><div class=panel-body ng-if=showFareRangeToCustomer()><high-low-median-current-chart high-value={{fareRangeSummary.overallMaximumFare}} high-text=Highest low-value={{fareRangeSummary.overallMinimumFare}} low-text=Lowest median-value={{fareRangeSummary.overallMedianFare}} median-text=Median current-value={{currentLowestFare}} current-text="Fare found" values-filter=currency values-filter-arguments={{fareRangeSummary.currency}}></high-low-median-current-chart></div></div>'),e.put("../widgets/view-templates/widgets/FiltersPanelWidget.tpl.html",'<div class="panel panel-default" ng-show=isAnyDataToDisplayAvailable()><div class=panel-heading><h4 class=panel-title>Filter options</h4></div><div class=panel-body><values-filter type=discrete label="Number of stops" filterable-property-name=getNumberOfStops values-display-filter=humanizeNumberOfStops></values-filter><values-filter type=discreteList label="Layover airports" filterable-property-name=getConnectionAirports values-display-filter=cityAndAirportFullName></values-filter><values-filter type=discrete label="Departure airports" filterable-property-name=getTripDepartureAirport values-display-filter=cityAndAirportFullName></values-filter><values-filter type=discrete label="Arrival airports" filterable-property-name=getFirstLegArrivalAirport values-display-filter=cityAndAirportFullName></values-filter><values-filter type=boolean label="Depart/Return same" filterable-property-name=isDepartureAndReturnSameAirport></values-filter><values-filter type=discrete label=Airline filterable-property-name=getFirstMarketingAirline values-display-filter=airlineFullName></values-filter><values-filter type=rangeMonetaryAmount label=Price filterable-property-name=totalFareAmountWithCurrency can-filter-only-on-max-value=true></values-filter><values-filter type=rangeDateTime label="Outbound flight departure" filterable-property-name=getOutboundDepartureDateTime values-display-filter=makeMomentAndFormat values-display-filter-options="hh:mm a"></values-filter><values-filter type=rangeDateTime label="Inbound flight departure" filterable-property-name=getInboundArrivalDateTime values-display-filter=makeMomentAndFormat values-display-filter-options="hh:mm a"></values-filter><values-filter type=range label="Travel duration" filterable-property-name=outboundLegDuration values-display-filter=makeMomentDurationAndFormat values-display-filter-options=minute can-filter-only-on-max-value=true></values-filter></div><div class="panel-footer text-center"><a href="" ng-click=resetAllFilters()>Reset all filters</a></div></div>'),e.put("../widgets/view-templates/widgets/ItinerariesListWidget.tpl.html",'<div class="SDSWidget SDSResponsiveElement"><itinerary-summary-price-per-stops-per-airline ng-if=isAnyDataToDisplayAvailable() class=SDS-visible-lg summary=summaryPerStopsPerAirline></itinerary-summary-price-per-stops-per-airline><div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class=panel-heading><div class=SDS-row><div class=SDS-col-element-xxl-3><strong>{{permittedItinerariesSorted.length}} options found for {{searchCriteriaDepartureAirport | cityAndAirportFullName}} to {{searchCriteriaArrivalAirport | cityAndAirportFullName}}</strong></div><div class=SDS-col-element-xxl-7><accordion class=SDS-hidden-lg close-others=false><accordion-group is-open=true><accordion-heading><span class=text-info>Cheapest: {{bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount | currency:bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount.currency}}</span></accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.cheapest></itinerary-short-summary></accordion-group><accordion-group><accordion-heading><span class=text-info>Best: {{bestItinerariesSummary.best.totalFareAmountWithCurrency.amount | currency:bestItinerariesSummary.best.totalFareAmountWithCurrency.currency}}</span></accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.best></itinerary-short-summary></accordion-group><accordion-group><accordion-heading><span class=text-info>Shortest: {{bestItinerariesSummary.shortest.totalFareAmountWithCurrency.amount | currency:bestItinerariesSummary.shortest.totalFareAmountWithCurrency.currency}}</span></accordion-heading><itinerary-short-summary itin=bestItinerariesSummary.shortest></itinerary-short-summary></accordion-group></accordion><tabset class=SDS-visible-lg><tab heading="Cheapest: {{bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.amount | currency:bestItinerariesSummary.cheapest.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.cheapest></itinerary-short-summary></tab><tab heading="Best: {{bestItinerariesSummary.best.totalFareAmountWithCurrency.amount | currency:bestItinerariesSummary.best.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.best></itinerary-short-summary></tab><tab heading="Shortest: {{bestItinerariesSummary.shortest.totalFareAmountWithCurrency.amount | currency:bestItinerariesSummary.shortest.totalFareAmountWithCurrency.currency}}"><itinerary-short-summary itin=bestItinerariesSummary.shortest></itinerary-short-summary></tab></tabset></div><div class=SDS-col-element-xxl-2><input-select-dropdown class=pull-right available-sort-criteria=availableSortCriteria selected-first-sort-criterion=selectedFirstCriterion on-sorting-criteria-changed=onSortingCriteriaChanged() label="Sort by"></input-select-dropdown></div></div></div><div class=panel-body><ul class="list-unstyled SDSTopLevelList"><li class=SDS-row ng-repeat="itinerary in permittedItinerariesSorted\r\n                                            | startFrom: (paginationSettings.currentPage - 1)*itemsPerPage | limitTo: itemsPerPage"><itinerary itin=itinerary></itinerary></li></ul></div><div class=panel-footer><pagination class="pagination-sm pull-right" total-items=permittedItinerariesSorted.length items-per-page=itemsPerPage ng-model=paginationSettings.currentPage boundary-links=true rotate=false></pagination><div class=clearfix></div></div></div></div>'),e.put("../widgets/view-templates/widgets/Itinerary.tpl.html",'<div><ul class="SDSLegList list-unstyled"><li><div class=SDS-row><ul class="SDS-col-element-xxs-12 SDS-hidden-xs list-inline list-unstyled"><li><airline-logo airline-code={{itinerary.getAllMarketingAirlines()[0]}}></airline-logo><small>{{itinerary.getAllMarketingAirlines()[0] | airlineFullName}}</small> <small>and other airlines</small></li></ul><ul class="SDS-col-element-xxs-9 SDS-visible-xs list-inline list-unstyled"><li ng-repeat="marketingAirline in itinerary.getAllMarketingAirlines()"><ul class="list-unstyled list-inline"><li><airline-logo airline-code={{marketingAirline}}></airline-logo></li><li><small>{{marketingAirline | airlineFullName}}</small></li></ul></li></ul><ul class="SDS-col-element-lg-3 SDS-visible-lg list-inline list-unstyled text-right" popover-template="\'ItineraryIconsLegendTemplate\'" popover-trigger=mouseenter popover-placement=bottom popover-append-to-body=true><li ng-if=itinerary.hasRedEyeFlight() class=SDSIconRedEye></li><li ng-if=itinerary.hasShortConnection() class=SDSIconHurryUpShortConnection></li><li ng-if=itinerary.hasLongConnection() class=SDSIconLongConnection></li><li ng-if=itinerary.hasLowSeatsRemaining() class=SDSIconFewSeatsLeft></li></ul></div></li><li ng-repeat="leg in itinerary.legs" ng-init="legIndex = $index"><div class="SDSLegSummary SDS-row"><div class="SDS-col-element-xxs-4 SDS-col-element-md-4 SDS-col-element-lg-5"><span class="SDS-visible-xl-inline-block SDSTravelDateLong">{{leg.getLegDepartureDateTime().format(\'ddd, DD MMM\')}}</span> <span class=SDSTravelTime>{{leg.getLegDepartureDateTime().format(\'HH:mm\')}}</span> <span ng-class="{\'bg-warning\':leg.hasAirportChangeAtDeparture}"><span class="badge SDSBadgeInfo">{{leg.getLegDepartureAirport()}}</span><span class="SDS-visible-xl-inline-block SDSFullAirportName">{{leg.getLegDepartureAirport() | cityAndAirportFullName}}</span></span></div><div class=SDS-col-element-xxs-1><div class=SDSIconAirplaneArrow></div></div><div class="SDS-col-element-xxs-4 SDS-col-element-md-4 SDS-col-element-lg-4"><span class=SDSTravelTime>{{leg.getLegArrivalDateTime.format(\'HH:mm\')}}</span> <span ng-class="{\'bg-warning\':leg.hasAirportChangeAtArrival}"><span class="badge SDSBadgeInfo">{{leg.getLegArrivalAirport()}}</span><span class="SDS-visible-xl-inline-block SDSFullAirportName">{{leg.getLegArrivalAirport() | cityAndAirportFullName}}</span></span></div><div class="SDS-col-element-xxs-3 SDS-col-element-md-3 SDS-col-element-lg-2"><span>{{leg.getDuration() | humanizeMinutes }}</span> <span class=SDS-visible-md-inline-block><ng-pluralize count=leg.getNumberOfStops() when="\r\n                                            {\'0\': \'Non-stop\',\r\n                                             \'1\': \'1 stop\',\r\n                                             \'other\': \'{} stops\'}\r\n                                            "></ng-pluralize></span> <span ng-if=leg.hasConnection()>{{leg.getConnectionAirports() | stringJoiner:\',\':\'(\':\')\'}}</span></div></div><span ng-if="itinerary.hasChangeOfAirportsAtAnyStopover() && $first" class="SDS-hidden-lg ng-hide SDSItineraryFlightDetails text-warning">Please note: Trip has change of airports at stopover. Please inspect the airports carefully.</span> <span ng-if="itinerary.departureAndArrivalDifferentForComplexTravel() && $first" class="SDS-hidden-lg ng-hide SDSItineraryFlightDetails text-warning">Please note: Trip departure and return airports are not the same. Please inspect the airports carefully.</span><ul class="list-group ng-hide SDSItineraryFlightDetails"><li class=list-group-item ng-repeat-start="flight in leg.segments" ng-init="segmentIndex = $index"><ul class=list-unstyled><li><div class=SDS-row><strong><airline-logo airline-code={{flight.marketingAirline}}></airline-logo>{{flight.marketingAirline}} {{flight.marketingFlightNumber}} {{flight.marketingAirline | airlineFullName}}</strong></div></li><li><div class="SDS-row SDSFlightDepartureOrArrival"><div class=SDS-col-element-sm-4><span class=SDSLabelForTravelDate>Depart:</span> {{flight.departureDateTime.format(\'ddd, DD MMM HH:mm\')}}</div><div class=SDS-col-element-sm-8><span class="SDSAirport badge SDSBadgeInfo">{{flight.departureAirport}}</span> <span class=SDSFullAirportName>{{flight.departureAirport | cityAndAirportFullName}}, {{flight.departureAirport | airportCountry}}</span></div></div></li><li><div class="SDS-row SDSFlightDepartureOrArrival"><div class=SDS-col-element-sm-4><span class=SDSLabelForTravelDate>Arrive:</span> {{flight.arrivalDateTime.format(\'ddd, DD MMM HH:mm\')}}</div><div class=SDS-col-element-sm-8><span class="SDSAirport badge SDSBadgeInfo">{{flight.arrivalAirport}}</span> <span class=SDSFullAirportName>{{flight.arrivalAirport | cityAndAirportFullName}}, {{flight.arrivalAirport | airportCountry}}</span></div></div></li><li><div class=SDS-row><div class=SDS-col-element-lg-2><small>{{flight.equipment | aircraftName}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-1"><small>{{itinerary.getSeatsRemaining(legIndex, segmentIndex)}} seats left</small></div><div class="SDS-col-element-lg-1 SDS-col-element-xl-1"><small>{{itinerary.getCabin(legIndex, segmentIndex) | cabin}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-1" ng-if="itinerary.getMeals(legIndex, segmentIndex)"><small>Meal: {{itinerary.getMeals(legIndex, segmentIndex) | meal}}</small></div><div class="SDS-col-element-lg-3 SDS-col-element-xl-2" ng-if="itinerary.getBaggageAllowance(legIndex, segmentIndex)"><small>Baggage allowance: {{itinerary.getBaggageAllowance(legIndex, segmentIndex) | baggageAllowance}}</small></div><div class="SDS-col-element-lg-2 SDS-col-element-xl-2" ng-if="itinerary.getBrandsMatchedToFlight(legIndex, segmentIndex).length > 0"><small>Brands matched: {{itinerary.getBrandsMatchedToFlight(legIndex, segmentIndex) | stringJoiner}}</small></div></div></li></ul></li><li ng-repeat-end ng-if=!$last class=list-group-item>Connection {{leg.getConnectionTimeMinutes(segmentIndex) | humanizeMinutes}}</li></ul></li><li><div ng-if=itinerary.hasAnyBrands() class="ng-hide SDSItineraryBrandDetails"><ng-include src="\'../widgets/view-templates/widgets/ItineraryBrandDetails.tpl.html\'"></ng-include></div></li><span ng-if=itinerary.hasChangeOfAirportsAtAnyStopover() class="SDS-visible-lg text-warning">Please note: Trip has change of airports at stopover. Please inspect the airports carefully.</span> <span ng-if=itinerary.departureAndArrivalDifferentForComplexTravel() class="SDS-visible-lg text-warning">Please note: Trip departure and return airports are not the same. Please inspect the airports carefully.</span></ul><div class=SDSPriceSummary><div class=pull-left><a href="" class="SDS-hidden-lg SDSItineraryShowPriceDetails SDSItineraryShowFlightDetails SDSItineraryHideWhenFlightDetailsShown">Show Details</a> <a href="" class="SDS-hidden-lg ng-hide SDSItineraryHidePriceDetails SDSItineraryHideFlightDetails SDSItineraryFlightDetails">Hide Details</a> <a href="" class="SDS-visible-lg SDSItineraryToggleFlightDetails">Flight Details</a> <a href="" class="SDS-visible-lg SDSItineraryToggleBrandDetails" ng-show=itinerary.hasAnyBrands()>Brand Details</a></div><div><ul class="list-unstyled pull-right"><li>Total price: <strong>{{itinerary.totalFareAmountWithCurrency.amount | currency:itinerary.totalFareAmountWithCurrency.currency}}</strong></li><li><a href="" class="SDS-visible-lg ng-show SDSItineraryTogglePriceDetails">Price Details</a></li><li class="SDSItineraryPriceDetails ng-hide SDSItineraryTogglePriceDetails">Base fare: {{itinerary.baseFareAmount | currency:itinerary.baseFareCurrency}}</li><li class="SDSItineraryPriceDetails ng-hide SDSItineraryTogglePriceDetails">Taxes: {{itinerary.totalTaxAmount | currency:itinerary.totalTaxCurrency}}</li></ul></div><div class=clearfix></div><div class="ng-hide SDSItineraryFlightDetails SDSTopBuffer-xs SDS-hidden-md"></div><button type=button disabled class="ng-hide SDSItineraryFlightDetails SDSCheckoutButton btn btn-primary btn-sm pull-right SDS-hidden-md">Select</button><div class="SDSTopBuffer-xs SDS-visible-md"></div><button type=button disabled class="SDSCheckoutButton btn btn-primary btn-sm pull-right SDS-visible-md">Select</button></div></div><script type=text/ng-template id=ItineraryIconsLegendTemplate><dl>\r\n        <dt ng-if="itinerary.hasRedEyeFlight()"><span class="SDSIconRedEye"></span></dt>\r\n        <dd ng-if="itinerary.hasRedEyeFlight()">Red-eye flight</dd>\r\n        <dt ng-if="itinerary.hasShortConnection()"><span class="SDSIconHurryUpShortConnection"></span></dt>\r\n        <dd ng-if="itinerary.hasShortConnection()">Short connection, hurry up</dd>\r\n        <dt ng-if="itinerary.hasLongConnection()"><span class="SDSIconLongConnection"></span></dt>\r\n        <dd ng-if="itinerary.hasLongConnection()">Long connection, long wait time at airport</dd>\r\n        <dt ng-if="itinerary.hasLowSeatsRemaining()"><span class="SDSIconFewSeatsLeft"></span></dt>\r\n        <dd ng-if="itinerary.hasLowSeatsRemaining()">Few seats left</dd>\r\n    </dl></script>'),e.put("../widgets/view-templates/widgets/ItineraryBrandDetails.tpl.html","<ul class=list-group><li class=list-group-item><table class=\"SDSTable table table-bordered table-condensed\"><thead><tr><th class=text-center>Brands</th><th class=text-center>{{itinerary.itineraryPricingInfo.summaries.uniqueBrandsMatchedToAllFlights | stringJoiner}} <small><em>(main fare)</em></small></th><th class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\">{{brand.summaries.uniqueBrandsMatchedToAllFlights | stringJoiner}} <span ng-if=!brand.fareReturned>Fare not returned for brands. {{brand.getTranslatedFareStatus()}}</span></th></tr></thead><tbody><tr><td class=text-center>Total fare</td><td class=text-center><strong>{{itinerary.totalFareAmountWithCurrency.amount | currency:itinerary.totalFareAmountWithCurrency.currency}}</strong></td><td class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\"><strong>{{brand.fareAmounts.totalFare.amount | currency: brand.fareAmounts.totalFare.currency}}</strong></td></tr><tr><td class=text-center>Cabins</td><td class=text-center>{{itinerary.itineraryPricingInfo.summaries.uniqueCabins | forEachApplyFilter:'cabin' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\">{{brand.summaries.uniqueCabins | forEachApplyFilter:'cabin' | stringJoiner}}</td></tr><tr><td class=text-center>Ticket refundable</td><td class=text-center>{{itinerary.itineraryPricingInfo.nonRefundableIndicator | ticketRefundability}}</td><td class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\">{{brand.nonRefundableIndicator | ticketRefundability}}</td></tr><tr><td class=text-center>OB Fees</td><td class=text-center><span ng-repeat=\"obFee in itinerary.itineraryPricingInfo.OBFees\">{{obFee.amount | currency: obFee.currency}}</span></td><td class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\"><span ng-repeat=\"obFee in brand.OBFees\">{{obFee.amount | currency: obFee.currency}}</span></td></tr><tr><td class=text-center>Baggage allowance</td><td class=text-center>{{itinerary.itineraryPricingInfo.summaries.uniqueBaggageAllowance | forEachApplyFilter:'baggageAllowance' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\">{{brand.summaries.uniqueBaggageAllowance | forEachApplyFilter:'baggageAllowance' | stringJoiner:'/'}}</td></tr><tr><td class=text-center>Meals</td><td class=text-center>{{itinerary.itineraryPricingInfo.summaries.uniqueMeals | forEachApplyFilter:'meal' | stringJoiner:'/'}}</td><td class=text-center ng-repeat=\"brand in itinerary.additionalFaresPricingInfos\">{{brand.summaries.uniqueMeals | forEachApplyFilter:'meal' | stringJoiner:'/'}}</td></tr></tbody></table></li></ul>"),e.put("../widgets/view-templates/widgets/ItineraryPricePerStopsPerAirlineSummary.tpl.html",'<div class="panel panel-default" ng-if=isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lowest prices by airline and number of stops</h4></div><div class=panel-body><div class=table-responsive><table class="SDSPricePerStopsPerAirlineSummaryTable table table-hover table-bordered table-condensed"><thead><th></th><th class=success>Lowest price</th><th class=text-center ng-repeat="item in summary.airlineSummaries"><airline-logo airline-code={{item.airline}}></airline-logo><div>{{item.airline | airlineFullName}}</div></th></thead><tbody><tr ng-if=summary.totalSummary.nonStopLowestPrice><td>Non-stop</td><td class=success>{{summary.totalSummary.nonStopLowestPrice | currency:summary.totalSummary.totalFareCurrency}}</td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestNonStop}">{{item.nonStopLowestPrice | currency:summary.totalSummary.totalFareCurrency}}</td></tr><tr ng-if=summary.totalSummary.oneStopLowestPrice><td>1 Stop</td><td class=success>{{summary.totalSummary.oneStopLowestPrice | currency:summary.totalSummary.totalFareCurrency}}</td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestOneStopLowestPrice}">{{item.oneStopLowestPrice | currency:summary.totalSummary.totalFareCurrency}}</td></tr><tr ng-if=summary.totalSummary.twoAndMoreStopsLowestPrice><td>2+ Stops</td><td class=success>{{summary.totalSummary.twoAndMoreStopsLowestPrice | currency:summary.totalSummary.totalFareCurrency}}</td><td ng-repeat="item in summary.airlineSummaries" ng-class="{success: item.isCheapestTowOrMoreStopsLowestPrice}">{{item.twoAndMoreStopsLowestPrice | currency:summary.totalSummary.totalFareCurrency}}</td></tr></tbody></table></div></div></div>'),e.put("../widgets/view-templates/widgets/ItineraryShortSummary.tpl.html",'<div><div class="SDS-row SDSLegShortSummary"><div class=SDS-col-element-xl-3><airline-logo airline-code={{itinerary.getFirstLeg().getFirstFlightMarketingAirline()}}></airline-logo>{{itinerary.getFirstLeg().getFirstFlightMarketingAirline() | airlineFullName}}</div><div class=SDS-col-element-xl-9><ul class="list-inline list-unstyled"><li class=SDSTravelDateLong>{{itinerary.getFirstLeg().getLegDepartureDateTime().format(\'ddd, DD MMM\')}}</li><li class=SDSTravelTime>{{itinerary.getFirstLeg().getLegDepartureDateTime().format(\'HH:mm\')}}</li><li class="SDSAirport badge SDSBadgeInfo">{{itinerary.getFirstLeg().getLegDepartureAirport()}}</li><li class=SDSIconAirplaneArrow></li><li class=SDSTravelTime>{{itinerary.getFirstLeg().getLegArrivalDateTime().format(\'HH:mm\')}}</li><li class="SDSAirport badge SDSBadgeInfo">{{itinerary.getFirstLeg().getLegArrivalAirport()}}</li></ul></div></div></div>'),e.put("../widgets/view-templates/widgets/LeadPriceChartWidget.tpl.html",'<div class="SDSLeadPriceChart panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Lead Prices</h4></div><div class=panel-body ng-show=ctrl.isAnyDataToDisplayAvailable()><h5>Prices from <em>{{ctrl.lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}}</em> to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}</em>, from <strong>{{ctrl.minDateAndPricePair.totalFareAmount | currency:ctrl.minDateAndPricePair.currency}}</strong> at <strong>{{ctrl.minDateAndPricePair.date.format(\'D MMM\')}}</strong></h5><div><canvas ng-click=ctrl.chartClicked($event)></canvas></div></div><div class=panel-footer><nav ng-show=ctrl.isAnyDataToDisplayAvailable()><ul class=pager><li class=previous ng-class="{\'disabled SDSInactive\': !ctrl.navigationState.prevLinkActive}"><a href="" ng-click=ctrl.onEarlierRequested()>EARLIER</a></li><li class=next ng-class="{\'disabled SDSInactive\': !ctrl.navigationState.nextLinkActive}"><a href="" ng-click=ctrl.onLaterRequested()>LATER</a></li></ul></nav></div></div>'),e.put("../widgets/view-templates/widgets/LowFareHistory.tpl.html",'<div class="panel panel-default" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Low Fare History</h4></div><div class=panel-body><h5>Low fares history from <em>{{ctrl.lastSearchCriteriaAirports.departureAirport | cityAndAirportFullName}}</em> to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}</em></h5><div><canvas></canvas></div></div></div>'),e.put("../widgets/view-templates/widgets/SearchFormInspirationalWidget.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement SDSSearchFormInspirationalWidget"><div class=panel-body><form class=SDS-form-md-inline name=searchFormInspirational class=SDSTopBuffer-xs novalidate ng-submit=createNewSearchCriteria()><div class=SDS-row><div class=form-group ng-class="{\'has-error\':searchFormInspirational.$submitted && searchFormInspirational.Destination.$invalid}"><label for=SDSSearchFormInspirational_Destination class="input-sm control-label">Destination</label><input-airport id=SDSSearchFormInspirational_Destination name=Destination class="form-control input-sm" required airport=destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}}></input-airport></div><div ng-show="searchFormInspirational.$submitted && searchFormInspirational.Destination.$invalid" class=has-error><small class=help-block ng-show=searchFormInspirational.Destination.$error.required>Type destination airport or city</small></div><div class=form-group ng-if="isVisible(\'PointOfSaleCountry\')"><label for=SDSSearchFormInspirational_PreferredCabin class="input-sm control-label">Point of sale country</label><select name=PointOfSaleCountry class="form-control input-sm" id=SDSSearchFormInspirational_PreferredCabin ng-model=searchContext.pointOfSaleCountry ng-options="country.countryCode as country.countryName for country in pointOfSaleCountries"></select></div><button type=submit class="SDS-hidden-md btn btn-primary btn-block SDSTopBuffer-xs">Search</button> <button type=submit class="SDS-visible-md-inline-block SDS-form-inline-button btn btn-primary center-block">Search</button></div></form></div></div>'),e.put("../widgets/view-templates/widgets/SearchFormWidget.tpl.html",'<script type=text/ng-template id=GeneralSearchCriteria><div class="SDS-row" ng-if="isVisible(\'ADTPaxNumber\')">\r\n        <div class="SDS-col-element-xxs-12">\r\n            <div class="form-group SDS-col-element-xxs-12" ng-class="{\'has-error\':searchForm.$submitted && searchForm.ADTPaxNumber.$invalid}">\r\n                <label for="SDSSearchForm_ADTPaxNumber" class="input-sm control-label">Adults (12+)</label>\r\n                <input id="SDSSearchForm_ADTPaxNumber" type="number" name="ADTPaxNumber" value="1" min="1" max="9" required class="form-control input-sm SDSPaxNbrInput" ng-model="generalSearchCriteria.ADTPaxCount">\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDS-row">\r\n        <div class="SDS-col-element-xxs-12">\r\n            <div class="checkbox input-sm" ng-if="isVisible(\'DirectFlightsOnly\')">\r\n                <label for="SDSSearchForm_DirectFlightsOnly">\r\n                    <input type="checkbox" name="DirectFlightsOnly" id="SDSSearchForm_DirectFlightsOnly" ng-model="generalSearchCriteria.DirectFlightsOnly">\r\n                    Direct flights only\r\n                </label>\r\n            </div>\r\n\r\n            <div class="checkbox input-sm" ng-if="isVisible(\'IsPlusMinus3DaysFlexible\')">\r\n                <label for="SDSSearchForm_IsPlusMinus3DaysFlexible">\r\n                    <input type="checkbox" name="IsPlusMinus3DaysFlexible" id="SDSSearchForm_IsPlusMinus3DaysFlexible"\r\n                           ng-model="flexDatesMode.activeMode"\r\n                           ng-click="plusMinusConstantDateFlexibilityCheckboxClicked()"\r\n                           ng-checked="flexDatesMode.activeMode === \'plusMinusConstantDaysFlexibility\'">\r\n                    I\'m flexible +/- 3 days\r\n                </label>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="flexDatesMode.isSelectableByAnyOf(\'plusMinusVariableDaysFlexibility\', \'earliestDepartureLatestReturn.losDays\', \'earliestDepartureLatestReturn.daysOfWeekAtDestination\') && (tripType !== \'multiDestination\')">\r\n        <div class="SDSTopBuffer-xs SDSBottomBuffer-xs">\r\n            <a href="" ng-click="isAdvancedDateFlexibilityCollapsed = !isAdvancedDateFlexibilityCollapsed;" class="input-sm SDSToggleLink">More travel dates flexibility options</a>\r\n        </div>\r\n        <div ng-if="isAdvancedDateFlexibilityCollapsed">\r\n            <div class="SDS-row">\r\n                <div class="radio input-sm" ng-if="flexDatesMode.isSelectableBy(\'plusMinusVariableDaysFlexibility\')">\r\n                    <label>\r\n                        <input type="radio" name="advancedFlexibilitySelectionType" ng-model="flexDatesMode.activeMode" value="plusMinusVariableDaysFlexibility">\r\n                        Different plus and minus days flexibility\r\n                    </label>\r\n                </div>\r\n\r\n                <div class="radio input-sm" ng-if="flexDatesMode.isSelectableByAnyOf(\'earliestDepartureLatestReturn.losDays\', \'earliestDepartureLatestReturn.daysOfWeekAtDestination\') && (tripType === \'returnTrip\')">\r\n                    <label>\r\n                        <input type="radio" name="advancedFlexibilitySelectionType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.losDays">\r\n                        Set earliest departure and latest return\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="SDS-row" ng-if="flexDatesMode.activeMode === \'plusMinusVariableDaysFlexibility\'">\r\n                <plus-minus-days-selection days="advancedDateFlexibility.departureMinusDays" max-days="{{::plusMinusDaysMaxDays}}">Departure date minus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.departurePlusDays" max-days="{{::plusMinusDaysMaxDays}}">Departure date plus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.returnMinusDays" max-days="{{::plusMinusDaysMaxDays}}">Return date minus days</plus-minus-days-selection>\r\n                <plus-minus-days-selection days="advancedDateFlexibility.returnPlusDays" max-days="{{::plusMinusDaysMaxDays}}">Return  date plus days</plus-minus-days-selection>\r\n            </div>\r\n\r\n            <div class="SDS-row" ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.losDays\' || flexDatesMode.activeMode === \'earliestDepartureLatestReturn.daysOfWeekAtDestination\'">\r\n                <div class="radio">\r\n                    <div>\r\n                        <label>\r\n                            <input type="radio" name="advancedFlexibilityLoSSpecificationType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.losDays" class="SDS-form-inline-exclude">\r\n                            Specify trip duration\r\n                        </label>\r\n                        <div ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.losDays\'">\r\n                            <select-lengths-of-stay value="lengthsOfStay.selected">Duration</select-lengths-of-stay>\r\n                            Optionally specify also days of week for departure and return\r\n                            <ul class="list-unstyled list-inline">\r\n                                <li><select-days-of-week days-of-week="departureDaysOfWeek.selected"><div>Trip departure days</div></select-days-of-week></li>\r\n                                <li><select-days-of-week days-of-week="returnDaysOfWeek.selected"><div>Trip return days</div></select-days-of-week></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="SDSTopBuffer-sm"></div>\r\n\r\n                    <div>\r\n                        <label>\r\n                            <input type="radio" name="advancedFlexibilityLoSSpecificationType" ng-model="flexDatesMode.activeMode" value="earliestDepartureLatestReturn.daysOfWeekAtDestination" class="">\r\n                            Specify days of week to stay at destination\r\n                        </label>\r\n                        <div ng-if="flexDatesMode.activeMode === \'earliestDepartureLatestReturn.daysOfWeekAtDestination\'">\r\n                            <select-days-of-week days-of-week="daysOfWeekAtDestination.selected"></select-days-of-week>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- input field validation error messages -->\r\n    <div class="SDS-row">\r\n        <div class="TODO-6" ng-if="isVisible(\'ADTPaxNumber\')">\r\n            <div ng-show="searchForm.$submitted && searchForm.ADTPaxNumber.$invalid" class="has-error">\r\n                <small class="help-block" ng-show="searchForm.ADTPaxNumber.$error.required">Specify number of passengers</small>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="SDS-row" ng-if="isAnyOfVisible(\'PreferredAirline\', \'PreferredCabin\')">\r\n        <div class="SDS-col-element-xxs-12 SDSTopBuffer-xs">\r\n            <a href="" ng-click="detailsVisibility.areAdvancedSearchOptionsCollapsed = !detailsVisibility.areAdvancedSearchOptionsCollapsed" class="input-sm SDSToggleLink">Advanced search options</a>\r\n        </div>\r\n    </div>\r\n\r\n        <div ng-if="detailsVisibility.areAdvancedSearchOptionsCollapsed" class="SDSBottomBuffer-xs">\r\n            <div class="SDS-row">\r\n                <div class="SDS-col-element-xs-6 SDS-col-element-lg-3" ng-if="isVisible(\'PreferredAirline\')">\r\n                    <div class="form-group SDS-form-inline-exclude">\r\n                        <label for="SDSSearchForm_PreferredAirline" class="input-sm control-label SDS-form-inline-exclude">Preferred Airline</label>\r\n                        <select-preferred-airlines class="input-sm SDS-form-inline-exclude" id="SDSSearchForm_PreferredAirline" name="PreferredAirline" preferred-airlines="preferredAirlines"></select-preferred-airlines>\r\n                        <!-- WARN: Lack of \'form-control\' class is intentional. The component used in select preferred airline directive - the angular ui-select, is already styled as bootstrap button. Wrapping it in form-control here breaks the style (we get unnecessary wrapping. This issue is reported to ui-select and recognized as issue. No fix yet.  -->\r\n                    </div>\r\n                </div>\r\n                <div class="SDS-col-element-xs-6 SDS-col-element-lg-3" ng-if="isVisible(\'PreferredCabin\')">\r\n                    <div class="form-group SDS-form-inline-exclude">\r\n                        <label for="SDSSearchForm_PreferredCabin" class="input-sm control-label SDS-form-inline-exclude">Cabin</label>\r\n                        <select-preferred-cabin name="PreferredCabin" class="form-control input-sm SDS-form-inline-exclude" id="SDSSearchForm_PreferredCabin" cabin-selected="generalSearchCriteria.preferredCabin"></select-preferred-cabin>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    <div class="text-center SDSTopBuffer-xs">\r\n        <button type="submit" class="SDS-hidden-sm btn btn-primary btn-lg btn-block ">Search</button>\r\n        <button type="submit" class="SDS-visible-sm-inline-block btn btn-primary btn-lg">Search</button>\r\n    </div></script><div class="panel panel-default SDSWidget SDSResponsiveElement SDSSearchFormWidget" id=SDSSearchFormWidget_{{::widgetId}}><div class=panel-body><form><div class=btn-group><label class="btn btn-primary" ng-model=tripType btn-radio="\'returnTrip\'">Return</label><label class="btn btn-primary" ng-model=tripType btn-radio="\'oneWay\'">One-way</label><label class="btn btn-primary" ng-model=tripType btn-radio="\'multiDestination\'">Multi-stop</label></div></form><div ng-if="tripType === \'oneWay\' || tripType === \'returnTrip\'"><div class=SDSTopBuffer-xs></div><form class=SDS-form-xl-inline name=searchForm class=SDSTopBuffer-xs novalidate ng-submit="searchForm.$valid && createNewSearchCriteria()"><div class=SDS-row><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.Origin.$invalid}"><label for=SDSSearchForm_Origin class="input-sm control-label">Leaving from</label><input-airport id=SDSSearchForm_Origin name=Origin class="form-control input-sm" autofocus required airport=simpleTrip.Origin selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchForm.$submitted && searchForm.Origin.$invalid" class=has-error><small class=help-block ng-show=searchForm.Origin.$error.required>Type origin airport or city</small> <small class=help-block ng-show=searchForm.Origin.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.Destination.$invalid}"><label for=SDSSearchForm_Destination class="input-sm control-label">Going to</label><input-airport id=SDSSearchForm_Destination name=Destination class="form-control input-sm" required airport=simpleTrip.Destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchForm.$submitted && searchForm.Destination.$invalid" class=has-error><small class=help-block ng-show=searchForm.Destination.$error.required>Type destination airport or city</small> <small class=help-block ng-show=searchForm.Destination.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.DepartureDate.$invalid}" ng-if="!flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_DepartureDate class="input-sm control-label">Leaving on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_DepartureDate name=DepartureDate required date=simpleTrip.DepartureDate on-date-change=onDepartureDateChange() min-date={{::earliestTravelStart}}></input-date><div ng-show="searchForm.$submitted && searchForm.DepartureDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.DepartureDate.$error.required>Choose departure date</small></div></div><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.EarliestDepartureDate.$invalid}" ng-if="flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_EarliestDepartureDate class="input-sm control-label">Earliest departure</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_EarliestDepartureDate name=EarliestDepartureDate required date=simpleTrip.EarliestDepartureDate on-date-change=onEarliestDepartureDateChange() min-date={{::earliestTravelStart}}></input-date><div ng-show="searchForm.$submitted && searchForm.EarliestDepartureDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.EarliestDepartureDate.$error.required>Set earliest departure date</small></div></div></div><div class=SDS-col-element-sm-3><div class=form-group ng-show="tripType === \'returnTrip\'" ng-class="{\'has-error\':searchForm.$submitted && searchForm.ReturnDate.$invalid}" ng-if="!flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_ReturnDate class="input-sm control-label" ng-class="{\'SDSDisabledLabel\':advancedFlexibilitySelection.type === \'earliestDepartureLatestReturn\'}">Returning on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_ReturnDate name=ReturnDate required date=simpleTrip.ReturnDate on-date-change=onReturnDateChange() min-date={{::earliestTravelStart}}></input-date><div ng-show="searchForm.$submitted && searchForm.ReturnDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.ReturnDate.$error.required>Choose return date</small></div></div><div class=form-group ng-class="{\'has-error\':searchForm.$submitted && searchForm.LatestReturnDate.$invalid}" ng-if="tripType === \'returnTrip\' && flexDatesMode.isEarliestDepartureLatestReturnActive() && loadDeferredElements"><label for=SDSSearchForm_LatestReturnDate class="input-sm control-label">Latest return</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_LatestReturnDate name=LatestReturnDate required date=simpleTrip.LatestReturnDate on-date-change=onLatestReturnDateChange() min-date={{::earliestTravelStart}}></input-date><div ng-show="searchForm.$submitted && searchForm.LatestReturnDate.$invalid" class=has-error><small class=help-block ng-show=searchForm.LatestReturnDate.$error.required>Set latest return date</small></div></div></div></div><ng-include src="\'GeneralSearchCriteria\'"></ng-include></form></div><div ng-if="tripType === \'multiDestination\'"><div class=SDSTopBuffer-xs></div><form class=SDS-form-xl-inline name=searchFormMultiDestination class=SDSTopBuffer-xs novalidate ng-submit="searchFormMultiDestination.$valid && createNewSearchCriteria()"><div ng-repeat="i in multiDestinationLegs"><div class=SDS-row><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.Origin_{{$index}}.$invalid}"><label for=SDSSearchForm_Origin_{{$index}} class="input-sm control-label">Leaving from</label><input-airport id=SDSSearchForm_Origin_{{$index}} name=Origin_{{$index}} class="form-control input-sm" ng-focus=$first required airport=multiDestinationLegs[$index].Origin selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.Origin_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.Origin_{{$index}}.$error.required>Type origin airport or city</small> <small class=help-block ng-show=searchFormMultiDestination.Origin_{{$index}}.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.Destination_{{$index}}.$invalid}"><label for=SDSSearchForm_Destination_{{$index}} class="input-sm control-label">Going to</label><input-airport id=SDSSearchForm_Destination_{{$index}} name=Destination_{{$index}} class="form-control input-sm" required airport=multiDestinationLegs[$index].Destination selectable-airports-for-this-pos-only={{selectableAirportsForThisPosOnly}} selectable-airports-dictionary={{selectableAirportsDictionary}}></input-airport></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.Destination_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.Destination_{{$index}}.$error.required>Type destination airport or city</small> <small class=help-block ng-show=searchFormMultiDestination.Destination_{{$index}}.$error.pattern>Please select airport or city from the suggested matchings</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3"><div class=form-group ng-class="{\'has-error\':searchFormMultiDestination.$submitted && searchFormMultiDestination.DepartureDate_{{$index}}.$invalid}"><label for=SDSSearchForm_DepartureDate_{{$index}} class="input-sm control-label">Leaving on</label><input-date class="input-group input-group-sm SDSDateInput" id=SDSSearchForm_DepartureDate_{{$index}} name=DepartureDate_{{$index}} required date=multiDestinationLegs[$index].DepartureDate min-date={{::earliestTravelStart}}></input-date></div><div ng-show="searchFormMultiDestination.$submitted && searchFormMultiDestination.DepartureDate_{{$index}}.$invalid" class=has-error><small class=help-block ng-show=searchFormMultiDestination.DepartureDate_{{$index}}.$error.required>Choose departure date</small></div></div><div class="SDS-col-element-xs-6 SDS-col-element-sm-3" ng-show="$last && $index > 2"><a href="" ng-click=removeLastSearchCriteriaLeg() class=input-sm><i class="glyphicon glyphicon-minus-sign"></i> Remove</a></div></div><div ng-if=$last><a href="" ng-click=addNextSearchCriteriaLeg() class=input-sm><i class="glyphicon glyphicon-plus-sign"></i> Add more flights</a><div class=SDSTopBuffer-xs></div></div></div><ng-include src="\'GeneralSearchCriteria\'"></ng-include></form></div></div></div>'),e.put("../widgets/view-templates/widgets/ThemedDestinationFinderWidget.tpl.html",'<div><div class="panel panel-default SDSWidget SDSThemedDestinationFinderWidget SDSResponsiveElement" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Best offers</h4></div><div class="panel-body SDSThumbnailsContainer"><nav class="navbar navbar-default"><div class=navbar-header><ul class="nav navbar-nav"><li ng-repeat="theme in ctrl.model.travelThemes" ng-class="{\'active\': theme === ctrl.model.selectedTravelTheme}" ng-click="ctrl.travelThemeClicked($event, theme)"><a href=#>{{theme | theme}}</a></li></ul></div></nav><div class=SDS-row><div class="SDS-col-element-md-6 SDS-col-element-xl-4 SDS-col-element-4xl-3" ng-repeat="offersForOneDestination in ctrl.model.pricesForDestinationsGrouped track by $index"><div href=# class=thumbnail><div class=SDSAspectRatioEnforcer style="background-image: url(\'http://analytics.sabre.com/sdsdemo/dslab/widgets/static/destinations/{{offersForOneDestination.destination}}.jpg\'), url(\'http://analytics.sabre.com/sdsdemo/dslab/widgets/static/destinations/general_city.jpg\')"></div><div class=caption><strong class="pull-left SDSCityLabel SDSHideOverflow">{{offersForOneDestination.destination | cityFullName}}</strong> <strong class="pull-right text-right SDSPriceLabel SDSHideOverflow">from {{offersForOneDestination.lowestFare.amount | currency:offersForOneDestination.lowestFare.currency}}</strong><div class=clearfix></div><span class=pull-right><a href="">Show flights</a></span><div class=clearfix></div></div></div></div></div></div></div></div>'),e.put("../widgets/view-templates/widgets/TravelSeasonalityWidget.tpl.html",'<div class="panel panel-default SDSTravelSeasonalityWidget" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Travel Seasonality</h4></div><div class=panel-body><h5>Travel seasonality to <em>{{ctrl.lastSearchCriteriaAirports.arrivalAirport | cityAndAirportFullName}}</em></h5><div><canvas></canvas></div></div></div>'),e.put("../widgets/view-templates/widgets/ValuesFilterDirective.tpl.html","<div ng-show=filterInstance.filterInitialized><div class=\"panel panel-default\"><div class=panel-heading><div ng-click=\"filterContentCollapsed =! filterContentCollapsed\"><span ng-if=filterContentCollapsed class=\"glyphicon glyphicon-collapse-up\"></span> <span ng-if=!filterContentCollapsed class=\"glyphicon glyphicon-collapse-down\"></span> {{::filterInstance.label}}</div></div><div class=panel-body ng-hide=filterContentCollapsed><div ng-if=\"filterType === 'discrete' || filterType === 'discreteList'\"><div class=checkbox ng-repeat=\"i in filterInstance.selectableValues\"><label class=SDSDiscreteFilterValueLabel for={{::i.filterablePropertyName}}_{{i.propertyValue}}><input type=checkbox id={{::i.filterablePropertyName}}_{{i.propertyValue}} checked ng-model=i.permitted ng-change=permittedValuesChanged()> <span>{{i.propertyValue | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}} ({{i.count}})</span> <span class=pull-right>{{i.minPrice | currency:i.currency:0}}</span></label></div></div><div ng-if=\"filterType === 'boolean'\"><div class=checkbox><label for={{::filterInstance.filterablePropertyName}}><input type=checkbox id={{::filterInstance.filterablePropertyName}} ng-checked=filterInstance.isRequired ng-model=filterInstance.isRequired ng-change=permittedValuesChanged()> {{::filterInstance.label}}</label></div></div><div ng-if=\"filterType === 'range' || filterType === 'rangeDateTime' || filterType === 'rangeMonetaryAmount'\"><span class=top-left><span ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\">{{filterInstance.minConstraint | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}}</span> <span ng-if=\"filterType === 'rangeMonetaryAmount'\">{{filterInstance.minConstraint.amount | currency:filterInstance.minConstraint.currency}}</span></span> <span class=pull-right><span ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\">{{filterInstance.maxConstraint | applyFilter:valuesDisplayFilter:valuesDisplayFilterOptions}}</span> <span ng-if=\"filterType === 'rangeMonetaryAmount'\">{{filterInstance.maxConstraint.amount | currency:filterInstance.maxConstraint.currency}}</span></span><div ng-if=\"filterType === 'range' || filterType === 'rangeDateTime'\" range-slider min=filterInstance.minConstraint max=filterInstance.maxConstraint model-min=filterInstance.min model-max=filterInstance.max prevent-equal-min-max=true show-values=true attach-handle-values=true ng-attr-pin-handle=\"{{canFilterOnlyOnMaxValue && 'min' || canFilterOnlyOnMinValue && 'max' || undefined}}\" filter={{valuesDisplayFilter}} filter-options={{valuesDisplayFilterOptions}} on-handle-up=permittedValuesChanged()></div><div ng-if=\"filterType === 'rangeMonetaryAmount'\" range-slider min=filterInstance.minConstraint.amount max=filterInstance.maxConstraint.amount model-min=filterInstance.min.amount model-max=filterInstance.max.amount prevent-equal-min-max=true show-values=true attach-handle-values=true ng-attr-pin-handle=\"{{canFilterOnlyOnMaxValue && 'min' || canFilterOnlyOnMinValue && 'max' || undefined}}\" filter=currency filter-options={{filterInstance.minConstraint.currency}} decimal-places=2 on-handle-up=permittedValuesChanged()></div></div></div></div></div>"),e.put("../widgets/view-templates/widgets/WidgetTemplate.tpl.html",'<div class="panel panel-default SDSWidget SDSResponsiveElement" ng-show=ctrl.isAnyDataToDisplayAvailable()><div class="panel-heading text-center"><h4 class=panel-title>Widget Name</h4></div><div class=panel-body></div></div>')
}])}),t.config({paths:{moment:"../../bower_components/moment/moment",moment_range:"../../bower_components/moment-range/dist/moment-range",lodash:"../../bower_components/lodash/lodash",angular:"../../bower_components/angular/angular",angular_resource:"../../bower_components/angular-resource/angular-resource",angular_bootstrap:"../../bower_components/angular-bootstrap/ui-bootstrap-tpls","angular-ui-select":"../../bower_components/angular-ui-select/dist/select","angular-sanitize":"../../bower_components/angular-sanitize/angular-sanitize","angular-img-fallback":"../../bower_components/angular-img-fallback/angular.dcb-img-fallback","angular-rangeslider":"../../bower_components/angular-rangeslider/angular.rangeSlider","angular-touch":"../../bower_components/angular-touch/angular-touch",ngStorage:"../../bower_components/ngstorage/ngStorage",ngPromiseExtras:"../../bower_components/angular-promise-extras/angular-promise-extras",chartjs:"../../bower_components/Chart.js/Chart",angular_iso_currency:"../../bower_components/iso-currency/dist/isoCurrency",elementQuery:"../../bower_components/elementQuery/elementQuery"},map:{"*":{chartjs:"util/chartjs-noConflict"},"util/chartjs-noConflict":{chartjs:"chartjs"}},shim:{angular:{exports:"angular"},angular_resource:{deps:["angular"],exports:"ngResource"},angular_bootstrap:{deps:["angular"]},"angular-ui-select":{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-img-fallback":{deps:["angular"]},"angular-rangeslider":{deps:["angular"]},"angular-touch":{deps:["angular"]},ngStorage:{deps:["angular"]},ngPromiseExtras:{deps:["angular"]},angular_currency_filter:{deps:["angular"]},angular_iso_currency:{deps:["angular"]},elementQuery:{exports:"elementQuery"}},config:{moment:{noGlobal:!0}}}),n("SabreDevStudioSDK",["moment","datamodel/ItinerariesList","webservices/common/validators/BasicSearchCriteriaValidator","webservices/instaflights/InstaflightSearchCriteriaValidator","lodash","angular","widgets/calendar/CalendarWidget","widgets/AlternateDatesMatrixWidget","widgets/leadPriceChart/LeadPriceChartWidget","widgets/informational/LowFareHistoryWidget","widgets/informational/TravelSeasonalityWidget","widgets/searchForm/SearchFormWidget","widgets/searchForm/SearchFormInspirationalWidget","widgets/searchForm/SearchFormInputControls","widgets/searchForm/InputAirport","widgets/ItinerariesList/InputSortBy","widgets/informational/fareForecast/FareForecastWidget","widgets/informational/fareRange/FareRangeWidget","widgets/FareNabberWidget","widgets/DestinationPricerWidget","widgets/inspirational/ThemedDestinationFinderWidget","widgets/ItinerariesList/ItinerariesListWidget","widgets/filters/FiltersPanelWidget","widgets/filters/ValuesFilterDirective","widgets/ErrorDisplayWidget","widgets/AboutWidget","Configuration","elementQuery","widgets/templateCacheCharger","widgets/version"],function(e,t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,v,y,A,b,S,D,w,$,x,C,T,F,M){"use strict";function k(){a.element(document).ready(function(){performance.now();a.bootstrap(document,["sdsWidgets"],{strictDi:!0});performance.now();O()})}function O(){[].slice.call(document.styleSheets).filter(P).forEach(function(e){return T(e,!0)})}function P(e){return e.href&&e.href.indexOf("SDS")>-1}return k(),{parseAllStylesheetsToMakeWidgetsResponsive:O,version:M.version}}),t(["SabreDevStudioSDK"]),t("SabreDevStudioSDK")});